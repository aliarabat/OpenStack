id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fironic~master~I4319ce2f42f35251595306b9a77ae1f8bc55595c,openstack/ironic,master,md5,I4319ce2f42f35251595306b9a77ae1f8bc55595c,Stop using md5 for __repr__ of objects,MERGED,2020-07-07 12:53:22.000000000,2020-07-09 16:06:27.000000000,2020-07-09 15:58:09.000000000,3,14,0,739735,8aecabcfe4d24da51e0ac59cf18e83773defe948,31,8,2,3,10239,Dmitry Tantsur,dtantsur,"Stop using md5 for __repr__ of objects

The md5 function is not available on systems in FIPS mode, just
use the callable name (which is closer to how repr usually looks).

Change-Id: I4319ce2f42f35251595306b9a77ae1f8bc55595c
"
openstack%2Ftacker~master~Ifc3042ba0fca99c8e2c54e5b839c6ab23f903515,openstack/tacker,master,tox-py38,Ifc3042ba0fca99c8e2c54e5b839c6ab23f903515,Add py38 as a runtime in tox.ini,MERGED,2020-06-29 05:10:35.000000000,2020-07-09 16:03:30.000000000,2020-07-09 15:58:05.000000000,1,1,0,738374,9c7172c947b8afd2f3b2396504bbb3be5cd9ad71,18,6,1,1,25701,Yasufumi Ogawa,yasufum,"Add py38 as a runtime in tox.ini

Considering policy for update of python[1], add py38 and drop py37 in
envlist in tox.

[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Ifc3042ba0fca99c8e2c54e5b839c6ab23f903515
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
"
openstack%2Fnetworking-ovn~stable%2Fqueens~Ia4b986146c77edf0616015380359e37233df80fc,openstack/networking-ovn,stable/queens,,Ia4b986146c77edf0616015380359e37233df80fc,[OVN] Don't set virtual port type on ports with similar addresses,MERGED,2020-06-04 14:40:07.000000000,2020-07-09 15:48:12.000000000,2020-07-09 15:48:12.000000000,18,2,0,733632,ec16fd75d22e7439f901694b88ddeb298ebba5ca,14,4,2,2,24791,Maciej Jozefczyk,maciej.jozefczyk,"[OVN] Don't set virtual port type on ports with similar addresses

Because of broken check why one port has similar address to the other
one, the first one by mistake could be set as virtual.
Example:
 port_1: 10.11.1.100
 port_2: 10.11.1.10

On create of port_2 it is set as 'virtual', but shouldn't.

This patch fixes that bug by using common function
utils.get_ovn_port_addresses().

Cherry-picked from Neutron: https://review.opendev.org/#/c/732690/

Change-Id: Ia4b986146c77edf0616015380359e37233df80fc
Closes-Bug: #1881759
(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)
"
openstack%2Fironic~stable%2Fussuri~Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26,openstack/ironic,stable/ussuri,,Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26,fix error word confiuration to configuration in docs,MERGED,2020-07-09 02:26:37.000000000,2020-07-09 15:25:04.000000000,2020-07-09 12:54:24.000000000,1,1,0,740148,ad072caa5bf367a6cccd4167ad888a139b5bae0c,13,6,2,1,32148,liuyuanfeng,liuyuanfeng,"fix error word confiuration to configuration in docs

Change-Id: Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26
"
openstack%2Fopenstack-helm~master~I1da3e6c5f2ab0c8967fa2231186a22c9ef9c8e08,openstack/openstack-helm,master,fix-gate,I1da3e6c5f2ab0c8967fa2231186a22c9ef9c8e08,DNM - Testing gate,ABANDONED,2020-07-09 13:50:10.000000000,2020-07-09 15:13:57.000000000,,3,3,0,740295,bfea70d2ac916e6ad2d9254c6bea69252642134e,3,1,1,2,21420,Gage Hugo,ghugo,"DNM - Testing gate

Change-Id: I1da3e6c5f2ab0c8967fa2231186a22c9ef9c8e08
"
openstack%2Fdevstack~master~I7214c4893943fbfbeb42ad140f433eecd6c3e9f0,openstack/devstack,master,initial-network-override,I7214c4893943fbfbeb42ad140f433eecd6c3e9f0,Allow plugins to override initial network creation,MERGED,2018-05-16 14:44:44.000000000,2020-07-09 15:13:38.000000000,2020-07-09 15:11:25.000000000,8,1,1,568866,f8755bd468cae234ca7acca018ccee31f0e474b2,32,9,1,1,13252,Dr. Jens Harbott,jrosenboom,"Allow plugins to override initial network creation

The same code is already in place for the new lib/neutron library, allow
this functionality to be used also when the neutron legacy services are
still being deployed. This was mangled in [0].

[0] I868afeb065d80d8ccd57630b90658e330ab94251

Change-Id: I7214c4893943fbfbeb42ad140f433eecd6c3e9f0
"
openstack%2Fbifrost~bugfix%2F8.2~I960fc1ab98f89feaf57d1b0aee7502ab0612a487,openstack/bifrost,bugfix/8.2,,I960fc1ab98f89feaf57d1b0aee7502ab0612a487,Account for bugfix branches in bifrost-cli,MERGED,2020-07-09 11:14:20.000000000,2020-07-09 15:12:13.000000000,2020-07-09 15:09:20.000000000,14,6,0,740245,1f3aa136d8358e1cd65456fe1236eeb4782c777d,8,3,1,2,10239,Dmitry Tantsur,dtantsur,"Account for bugfix branches in bifrost-cli

Fall back to the default branch unless an explicit one is provided.

Change-Id: I960fc1ab98f89feaf57d1b0aee7502ab0612a487
(cherry picked from commit a47db1e302bbe8f956216f31fa660d054bd81659)
"
openstack%2Fnova~stable%2Fqueens~Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c,openstack/nova,stable/queens,,Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c,Fix os_CODENAME detection and repo refresh during ceph tests,MERGED,2020-07-09 08:53:49.000000000,2020-07-09 15:11:21.000000000,2020-07-09 15:11:20.000000000,1,0,0,740193,97cc4783aa9dfb5cfb550968222fd04050bc64a3,7,3,1,1,10135,Lee Yarwood,lyarwood,"Fix os_CODENAME detection and repo refresh during ceph tests

This is a partial backport of Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c
a change introduced in Stein that fixed OS detection in the
nova-live-migration job while installing Ceph.

This is required after the devstack-plugin-ceph job was recently
refactored by I51c90e592070b99422e692d5e9e97083d93146e8 and in doing so
introduced various OS specific conditionals that require os_CODENAME to
be set.

NOTE(lyarwood): Conflicts due to the partial backport of
I902e459093af9b82f9033d58cffcb2a628f5ec39 in stable/queens.

Conflicts:
  nova/tests/live_migration/hooks/run_tests.sh

Change-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c
(cherry picked from commit 9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53)
(cherry picked from commit 7207b9ee6cff002c02b8cd46ce4088d86de8afdc)
"
openstack%2Fnetworking-ovn~stable%2Frocky~Ia4b986146c77edf0616015380359e37233df80fc,openstack/networking-ovn,stable/rocky,,Ia4b986146c77edf0616015380359e37233df80fc,[OVN] Don't set virtual port type on ports with similar addresses,MERGED,2020-06-04 14:35:43.000000000,2020-07-09 15:00:52.000000000,2020-07-09 15:00:51.000000000,18,2,0,733629,1bc23ec282aea2a8fe59f6d1d459e24760aaec2f,17,5,3,2,24791,Maciej Jozefczyk,maciej.jozefczyk,"[OVN] Don't set virtual port type on ports with similar addresses

Because of broken check why one port has similar address to the other
one, the first one by mistake could be set as virtual.
Example:
 port_1: 10.11.1.100
 port_2: 10.11.1.10

On create of port_2 it is set as 'virtual', but shouldn't.

This patch fixes that bug by using common function
utils.get_ovn_port_addresses().

Cherry-picked from Neutron: https://review.opendev.org/#/c/732690/

Change-Id: Ia4b986146c77edf0616015380359e37233df80fc
Closes-Bug: #1881759
(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)
"
openstack%2Fcharm-specs~master~Ida8c8f3592d78a15d4d6258f012773e102cb528f,openstack/charm-specs,master,gnocchi-s3,Ida8c8f3592d78a15d4d6258f012773e102cb528f,Enable S3 storage backend for Gnocchi,MERGED,2020-06-30 14:15:17.000000000,2020-07-09 15:00:43.000000000,2020-07-09 14:58:47.000000000,122,0,24,738631,8701957730b73de1d769070850118ed2686b6ff1,16,4,3,1,30670,Camille Rodriguez,crodriguez,"Enable S3 storage backend for Gnocchi

This is the feature spec for the s3 feature for gnocchi.
The feature PR is here: https://review.opendev.org/#/c/734682/

Change-Id: Ida8c8f3592d78a15d4d6258f012773e102cb528f
"
openstack%2Fcharm-manila~master~Ia2fbdac07df0a430741be69d02942c899bb89e45,openstack/charm-manila,master,batch-groovy-ch-libs,Ia2fbdac07df0a430741be69d02942c899bb89e45,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:32:35.000000000,2020-07-09 14:50:49.000000000,2020-07-09 14:50:49.000000000,13,12,0,732652,f7140f9c64c947f6251637b1967e8fbaf57d9d58,26,7,3,2,20870,Alex Kavanagh,ajkavanagh,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/355
Change-Id: Ia2fbdac07df0a430741be69d02942c899bb89e45
"
openstack%2Ftripleo-heat-templates~master~If7f08e6ac888ba0c5a3e170f285fb2624322c22f,openstack/tripleo-heat-templates,master,ci-test,If7f08e6ac888ba0c5a3e170f285fb2624322c22f,CI test - never merge,ABANDONED,2020-07-09 12:40:35.000000000,2020-07-09 14:48:05.000000000,,1,0,0,740264,45f9efb8db423d9788f74d440c06e97ff07f5651,3,1,1,1,3153,Emilien Macchi,emilienm,"CI test - never merge

Depends-On: https://review.opendev.org/#/c/740260/
Change-Id: If7f08e6ac888ba0c5a3e170f285fb2624322c22f
"
openstack%2Ftripleo-operator-ansible~master~Iab6ab4e97fc30bc819f160bb6583234b318adc31,openstack/tripleo-operator-ansible,master,pipefail,Iab6ab4e97fc30bc819f160bb6583234b318adc31,"Add missing ""-o pipefail"" to generated scripts",MERGED,2020-07-09 12:30:28.000000000,2020-07-09 14:47:18.000000000,2020-07-09 14:47:18.000000000,1,1,0,740260,2a84c09932fa23de1de3cfddf2a3b31c4208f42f,7,4,1,1,28223,Cedric Jeanneret,cjeanner,"Add missing ""-o pipefail"" to generated scripts

Since we can now configure how we want to redirect the outputs in log
files, we can use |tee or any other variant. So let's avoid masking
errors.

Change-Id: Iab6ab4e97fc30bc819f160bb6583234b318adc31
"
openstack%2Fos-brick~stable%2Fqueens~Ie2db587c3bc379acd53cfd449788d171ae58dec5,openstack/os-brick,stable/queens,scaleio-followup,Ie2db587c3bc379acd53cfd449788d171ae58dec5,"Fix ""Remove VxFlex OS credentials"" regression",MERGED,2020-06-18 15:39:33.000000000,2020-07-09 14:45:07.000000000,2020-07-09 14:42:22.000000000,91,1,0,736749,f4019f7831e5366f7e5e40e9715f3bd981f2b7df,33,15,1,3,5314,Brian Rosmaita,brian-rosmaita,"Fix ""Remove VxFlex OS credentials"" regression

Change Ib7778ba9d38a68d8b56ca632c5f1c353d55830b0 uses a ConfigParser
instance in a way that is incompatible with python 2.7, resulting in
a ""ConfigParser instance has no attribute '__getitem__'"" error.  This
patch accesses the ConfigParser using the ""old"" API that works in both
Python 2.7 and Python 3 and adds some tests.

Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: Ie2db587c3bc379acd53cfd449788d171ae58dec5
Closes-Bug: 1883654
(cherry picked from commit 12d252db9cb9deffea3c87b86ea71b3013d93892)
(cherry picked from commit 750999db0de0fcfc923cd453add808ca42a4e2b4)
Conflicts:
- remove os_brick/privileged/scaleio.py (function with bug is in the
  connector in this branch)
- move the test file to tests/initiator/connectors/
- modify the unit tests because the config file is accessed differently
  in this branch
(cherry picked from commit 867767ffdae124fcdb9b04a9089e226689c476d7)
"
openstack%2Fironic~master~Ief586473aca0e22b74efe83ef70c354fd5df17bf,openstack/ironic,master,story/2006963,Ief586473aca0e22b74efe83ef70c354fd5df17bf,Decompose the core deploy step of the direct deploy,MERGED,2019-12-10 17:59:41.000000000,2020-07-09 14:39:09.000000000,2020-07-09 14:30:45.000000000,208,333,9,698309,2a6b5c14d5c45728fc63fc89b501beb74a64ca60,168,10,50,6,14826,Mark Goddard,mgoddard,"Decompose the core deploy step of the direct deploy

This change decomposes the current deploy step of the direct deploy
into multiple deploy steps:

* deploy (priority 100)
* write_image (priority 80)
* prepare_instance_boot (priority 60)

Note that this patch breaks backwards compatibility with 3rd party
drivers that inherit AgentDeploy rather than the base agent class.

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf
Story: 2006963
Task: 37778
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7,openstack/puppet-tripleo,stable/train,bug/1884415-stable/train,I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7,Enable to modify params of logrotate-crond.conf,MERGED,2020-07-02 16:19:01.000000000,2020-07-09 14:31:27.000000000,2020-07-09 14:31:27.000000000,13,1,0,739091,c2899322dd96a3b18834cea0fd2f2dff418aeb45,26,5,2,2,14985,Alex Schultz,mwhahaha,"Enable to modify params of logrotate-crond.conf

Parameters ""minsize"" and ""notifempty"" of /etc/logrotate-crond.conf
in the container logrotate_crond should be changeable even if this
doesn't	comply with GDPR. This is because there might be users who
don't want to comply with it for some reason such as their internal
rule, testing purpose, etc.

This patch adds the following Puppet hieradata.

tripleo::profile::base::logging::logrotate::minsize (default: 1)
tripleo::profile::base::logging::logrotate::notifempty (default: True)

Change-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7
Closes-Bug: #1884415
(cherry picked from commit f6f878d4b36540ecc8b99552d3f5d14d92d509df)
"
openstack%2Fansible-collections-openstack~master~I76fc7df8202b4e00b54b5bafe7719e02b49e59ff,openstack/ansible-collections-openstack,master,improve-openstack-inventory-plugin-logging,I76fc7df8202b4e00b54b5bafe7719e02b49e59ff,Add openstack logger and Ansible display utility,MERGED,2020-06-30 12:41:25.000000000,2020-07-09 14:30:17.000000000,2020-07-09 14:30:16.000000000,39,9,24,738595,40ce8103f4f610c43a34d96c2eafd6dcb78fe6ae,39,7,13,1,32065,Marc-Antoine Bourgeot,mabourgeot,"Add openstack logger and Ansible display utility

Story: 2007879

Change-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff
"
openstack%2Fansible-collections-openstack~master~I60cd5811f1926f53a7f88b19889fba9ca39c6184,openstack/ansible-collections-openstack,master,OpenStackModule,I60cd5811f1926f53a7f88b19889fba9ca39c6184,keypair: make use of OpenStackModule class,MERGED,2020-07-02 16:34:25.000000000,2020-07-09 14:30:16.000000000,2020-07-09 14:30:16.000000000,36,41,0,739096,abebbe722c62424134dc15cdbd88f725096eeaa7,9,3,2,1,9268,Gonéri Le Bouder,goneri,"keypair: make use of OpenStackModule class

Convert the keypair module to use the OpenStackModule class.

See: I487e79fe18c0b9a75df7dacd224ab40ed7f4e1ab

Change-Id: I60cd5811f1926f53a7f88b19889fba9ca39c6184
"
openstack%2Fpuppet-tripleo~master~Id88d0aee74e4b26fd64bbc2da5d0c0fc4bbd6644,openstack/puppet-tripleo,master,bug/1864962,Id88d0aee74e4b26fd64bbc2da5d0c0fc4bbd6644,HA: fix rabbitmq readiness check for rabbitmq-server 3.8,MERGED,2020-02-27 11:42:21.000000000,2020-07-09 14:27:26.000000000,2020-02-28 20:43:51.000000000,2,2,2,710233,e60351ee09eed0217d52aa1bad80f8c02501f0fe,26,11,2,2,20778,Damien Ciabrini,dciabrin,"HA: fix rabbitmq readiness check for rabbitmq-server 3.8

In HA profiles, we wait for rabbitmq application readiness by
parsing the output of ""rabbitmqctl status"". This breaks with
rabbitmq-server 3.8 which changed the output of that command.

Fix our check by using a ""rabbitmqctl eval"" and by relying on
a stable function call rather than parsing output. This
approach works for rabbitmq-server 3.6 to 3.8.

Change-Id: Id88d0aee74e4b26fd64bbc2da5d0c0fc4bbd6644
Co-Authored-By: Yatin Karel <ykarel@redhat.com>
Closes-Bug: #1864962
"
openstack%2Foctavia-tempest-plugin~master~Iace86cd45bc8b4d7ff2dbe147f924c039278334c,openstack/octavia-tempest-plugin,master,,Iace86cd45bc8b4d7ff2dbe147f924c039278334c,Use memory_tracker instead of peakmem_tracker,ABANDONED,2020-07-09 10:58:33.000000000,2020-07-09 14:25:34.000000000,,1,1,0,740242,f0edc7ce7116c92d15d31377b2343a304484f70c,4,2,1,1,13252,Dr. Jens Harbott,jrosenboom,"Use memory_tracker instead of peakmem_tracker

The peakmem_tracker service has long been deprecated in devstack and will
soon be removed complete. Replace it by the memory_tracker service. [0]

[0] https://review.opendev.org/638409

Change-Id: Iace86cd45bc8b4d7ff2dbe147f924c039278334c
"
openstack%2Fopenstack-helm-infra~master~Iafadf5629c281775f912377470c568cc8b053326,openstack/openstack-helm-infra,master,,Iafadf5629c281775f912377470c568cc8b053326,Update alertmanger image to v0.21.0,ABANDONED,2020-07-09 13:26:28.000000000,2020-07-09 14:24:33.000000000,,1,1,0,740285,e5b0b560b7b5d962e8ac4e4b5edf4d270c65e9ec,2,0,1,1,31713,William Zhang,willxz,"Update alertmanger image to v0.21.0

Update alertmanager image from v0.11.0 to v0.21.0

Change-Id: Iafadf5629c281775f912377470c568cc8b053326
"
openstack%2Fansible-collections-openstack~master~Ide09bdd6a57324a0e1d2ec29c4c49db8dc1c3843,openstack/ansible-collections-openstack,master,OpenStackModule,Ide09bdd6a57324a0e1d2ec29c4c49db8dc1c3843,security_group_rule: use OpenStackModule class,MERGED,2020-07-02 16:34:25.000000000,2020-07-09 14:24:08.000000000,2020-07-09 14:24:08.000000000,79,85,0,739095,9600baec6ec8ae335fa8dd923dfdc19b25b232ba,10,3,3,1,9268,Gonéri Le Bouder,goneri,"security_group_rule: use OpenStackModule class

Refactoring of security_group_rule to depend on the OpenStackModule
class.

See: I487e79fe18c0b9a75df7dacd224ab40ed7f4e1ab

Change-Id: Ide09bdd6a57324a0e1d2ec29c4c49db8dc1c3843
"
openstack%2Fnova~master~I142bf203d5751864afeb3da35efd708f24c08924,openstack/nova,master,bp/use-pcpu-and-vcpu-in-one-instance,I142bf203d5751864afeb3da35efd708f24c08924,hardware: Invert order of NUMA topology generation,MERGED,2020-03-24 16:43:46.000000000,2020-07-09 14:16:48.000000000,2020-07-09 14:12:30.000000000,73,48,20,714701,eedac34b21e591ca4d31aa1856ef8a52b7b86d3d,148,17,12,1,15334,Stephen Finucane,sfinucan,"hardware: Invert order of NUMA topology generation

Previously, we were generating an instance NUMA topology and then
tacking things like CPU pinning policies onto these topologies. Going
forward, we'll want to use the latter to inform the former. Set that up
now by simply inverting how we do things. There's no end-user impact
other than improved docstrings for some functions.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I142bf203d5751864afeb3da35efd708f24c08924
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcharm-ceph-fs~master~I9912fe43e6db71ed81e47175f9f790ed550c9c31,openstack/charm-ceph-fs,master,batch-groovy-ch-libs,I9912fe43e6db71ed81e47175f9f790ed550c9c31,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:27:58.000000000,2020-07-09 14:16:15.000000000,2020-07-09 14:16:15.000000000,10,9,0,732627,8cffe1665d27e007b6cd757107d0f4b289dfda77,19,4,2,2,20870,Alex Kavanagh,ajkavanagh,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I9912fe43e6db71ed81e47175f9f790ed550c9c31
"
openstack%2Fbifrost~master~I960fc1ab98f89feaf57d1b0aee7502ab0612a487,openstack/bifrost,master,bugfix-release,I960fc1ab98f89feaf57d1b0aee7502ab0612a487,Account for bugfix branches in bifrost-cli,MERGED,2020-07-09 11:13:52.000000000,2020-07-09 14:05:20.000000000,2020-07-09 14:02:20.000000000,14,6,0,740244,a47db1e302bbe8f956216f31fa660d054bd81659,10,4,1,2,10239,Dmitry Tantsur,dtantsur,"Account for bugfix branches in bifrost-cli

Fall back to the default branch unless an explicit one is provided.

Change-Id: I960fc1ab98f89feaf57d1b0aee7502ab0612a487
"
openstack%2Fironic-inspector~master~I84e6343fc13e4c4c02521499632a07e782088057,openstack/ironic-inspector,master,inclusive-language,I84e6343fc13e4c4c02521499632a07e782088057,Remove non-inclusive language in pxe filter,MERGED,2020-07-09 09:01:02.000000000,2020-07-09 13:58:24.000000000,2020-07-09 13:54:57.000000000,141,142,12,740194,a1f8926cd161b770bbd189d86dd915b3aec1b274,16,6,4,6,24245,Harald Jensås,harald.jensas,"Remove non-inclusive language in pxe filter

Replaces the use of black/white-list with deny/allow-list
in the pxe filter.

Change-Id: I84e6343fc13e4c4c02521499632a07e782088057
"
openstack%2Ftripleo-validations~master~Ie4841d6e334b2ebed37e5da0dd5f3fa336e4b73a,openstack/tripleo-validations,master,requirements/mock,Ie4841d6e334b2ebed37e5da0dd5f3fa336e4b73a,"Add ""mock"" in test-requirements and lower-constraints",MERGED,2020-07-07 13:36:01.000000000,2020-07-09 13:49:47.000000000,2020-07-09 13:45:36.000000000,2,0,1,739748,5dfccb80f15f4897ba7957613db93a1b541c646d,12,4,2,2,28223,Cedric Jeanneret,cjeanner,"Add ""mock"" in test-requirements and lower-constraints

Change-Id: Ie4841d6e334b2ebed37e5da0dd5f3fa336e4b73a
"
openstack%2Ftempest~master~If3bfb304d0864f58e46bb30b18a71dfc88c8b2d0,openstack/tempest,master,,If3bfb304d0864f58e46bb30b18a71dfc88c8b2d0,zuul: Promote devstack-plugin-ceph-tempest-py3 to the check queue,ABANDONED,2020-02-28 16:06:44.000000000,2020-07-09 13:46:53.000000000,,3,0,0,710477,6d04cf87edf89cfaf9dca47948cad227650324af,7,1,3,1,10135,Lee Yarwood,lyarwood,"zuul: Promote devstack-plugin-ceph-tempest-py3 to the check queue

Given the removal of devstack-plugin-ceph-tempest we should now promote
devstack-plugin-ceph-tempest-py3 to the check queue as a non-voting job.

Change-Id: If3bfb304d0864f58e46bb30b18a71dfc88c8b2d0
"
openstack%2Fneutron~master~Idc614f9f25188bd1a1e1d5424274acf04ba99328,openstack/neutron,master,cirros-0.5,Idc614f9f25188bd1a1e1d5424274acf04ba99328,Update cirros image to cirros-0.5.1-x86_64 globally,MERGED,2020-03-05 10:27:34.000000000,2020-07-09 13:34:54.000000000,2020-07-09 13:30:07.000000000,4,28,12,711425,db6ebd22e1d296fc5e6c687384fe6696f4f14af5,102,11,12,5,24791,Maciej Jozefczyk,maciej.jozefczyk,"Update cirros image to cirros-0.5.1-x86_64 globally

New cirros with recent fixes for metadata service
has been released. Lets update the image version on gate.

Also stop using different images for OVN. Lets use default
settings from devstack.

First we need to merge [2].

[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129
[2] https://review.opendev.org/#/c/711492/

Change-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328
"
openstack%2Ftripleo-heat-templates~master~Ied787eac4c69294c7c2713e652ed4bf815db4358,openstack/tripleo-heat-templates,master,strategy-improvements2,Ied787eac4c69294c7c2713e652ed4bf815db4358,"Revert ""Collapse host prep tasks""",ABANDONED,2020-07-09 13:18:15.000000000,2020-07-09 13:34:41.000000000,,10,14,0,740280,4aef78347a76dc6ed939c8249469faf8f4764ebf,6,7,2,1,3153,Emilien Macchi,emilienm,"Revert ""Collapse host prep tasks""

This reverts commit 3ef8f6008d41a88642d66a6a24c67210f773f87e.
Related-Bug: #1886914

Change-Id: Ied787eac4c69294c7c2713e652ed4bf815db4358
"
openstack%2Ftripleo-heat-templates~master~I54f09df5affd5d6a73d618e719ffa101aad9d48a,openstack/tripleo-heat-templates,master,strategy-improvements,I54f09df5affd5d6a73d618e719ffa101aad9d48a,"Revert ""Collapse deploy steps""",ABANDONED,2020-07-09 13:14:26.000000000,2020-07-09 13:34:37.000000000,,67,28,0,740277,71ebca9eb6cdc34218c0ea0e3cce83f9e6de3dc5,4,7,2,1,3153,Emilien Macchi,emilienm,"Revert ""Collapse deploy steps""

This reverts commit f82af5595a7e8b377a7aef66b947b73b5ec8ae90.

Change-Id: I54f09df5affd5d6a73d618e719ffa101aad9d48a
Related-Bug: #1886914
"
openstack%2Fopenstack-ansible~master~Ibac278398ef533bc8fcf253c67cb983461bd145d,openstack/openstack-ansible,master,osa/el8,Ibac278398ef533bc8fcf253c67cb983461bd145d,Add Centos-8 support,MERGED,2019-10-19 17:14:40.000000000,2020-07-09 13:18:47.000000000,2020-07-09 13:12:47.000000000,158,39,349,689629,e167e56857cdfa2f146a3416a9f5b61c850685c0,245,6,82,18,25023,Jonathan Rosser,jrosser,"Add Centos-8 support

Depends-On: https://review.opendev.org/738903
Depends-On: https://review.opendev.org/735555
Depends-On: https://review.opendev.org/735781
Depends-On: https://review.opendev.org/735926
Depends-On: https://review.opendev.org/735971
Depends-On: https://review.opendev.org/736097
Depends-On: https://review.opendev.org/736095
Depends-On: https://review.opendev.org/736850
Depends-On: https://review.opendev.org/739026

Change-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d
"
openstack%2Ftripleo-heat-templates~master~I2670840c9beac06f8b8ffc6eaecc88b9119ad298,openstack/tripleo-heat-templates,master,strategy-improvements,I2670840c9beac06f8b8ffc6eaecc88b9119ad298,Collapse host prep tasks,MERGED,2020-06-09 18:25:49.000000000,2020-07-09 13:18:15.000000000,2020-06-24 10:43:18.000000000,14,10,7,734664,3ef8f6008d41a88642d66a6a24c67210f773f87e,69,8,5,1,14985,Alex Schultz,mwhahaha,"Collapse host prep tasks

Since plays cannot be parallelized with a free-like strategy, we should
have a single play that runs all host prep tasks rather than blocks of
plays for each defined role. By switching to this method we have a
single play that handles the host prep tasks concept that can be run all
at once across a cloud.

Change-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298
"
openstack%2Fneutron~master~I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491,openstack/neutron,master,,I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491,Stop installing Octavia in OVN jobs,MERGED,2020-06-15 11:20:09.000000000,2020-07-09 13:15:54.000000000,2020-06-24 14:50:55.000000000,0,11,0,735559,b64d9349641a16c71c1781e137623d5912b1f984,21,5,2,2,24791,Maciej Jozefczyk,maciej.jozefczyk,"Stop installing Octavia in OVN jobs

We have separate project now - OVN Octavia provider - and its gate
is responsible for testing OVN integration with Octavia.

Change-Id: I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491
"
openstack%2Frequirements~master~Ib71d06242d94aa1a73e69b0c7423b973ae685a1f,openstack/requirements,master,bug/1886237,Ib71d06242d94aa1a73e69b0c7423b973ae685a1f,"Revert ""Temporarily cap setuptools<48.0.0""",MERGED,2020-07-04 01:23:26.000000000,2020-07-09 13:14:49.000000000,2020-07-06 13:57:01.000000000,2,2,0,739294,3223fa7e093c86b5e3c3485f43a0b7f133b6a30d,14,5,2,1,8556,Ghanshyam,ghanshyam,"Revert ""Temporarily cap setuptools<48.0.0""

This reverts commit ca1eb8dd0ae9c7c7ac149e8b4ff9bbc9630eb43f.

blacklist the 48.0.0 and 49.0.0 due to
https://github.com/pypa/setuptools/issues/2232

Change-Id: Ib71d06242d94aa1a73e69b0c7423b973ae685a1f
"
openstack%2Ftripleo-heat-templates~master~I986391617231b9dd23aa487d73db490db84f61ce,openstack/tripleo-heat-templates,master,strategy-improvements,I986391617231b9dd23aa487d73db490db84f61ce,Collapse deploy steps,MERGED,2020-06-09 18:45:46.000000000,2020-07-09 13:14:26.000000000,2020-07-04 04:55:02.000000000,28,67,0,734668,f82af5595a7e8b377a7aef66b947b73b5ec8ae90,80,7,8,1,14985,Alex Schultz,mwhahaha,"Collapse deploy steps

Once again we're splitting the deployment steps into multiple plays
which causes ansible to artificially stop at the end of each play when
using a free-style strategy. By combining the deploy steps, bootstrap
tasks and common deploy steps, we can run each step to completion in
parallel rather than stopping at each of these for every step. This will
reduce the overall play count to (1*6) instead of (3*6+1)

Change-Id: I986391617231b9dd23aa487d73db490db84f61ce
"
openstack%2Ftripleo-heat-templates~master~If1c621b45718475578dca390c45c0e23d1f3d7bc,openstack/tripleo-heat-templates,master,sahara,If1c621b45718475578dca390c45c0e23d1f3d7bc,Disable Sahara in scenario003-standalone,MERGED,2020-06-10 15:03:31.000000000,2020-07-09 13:12:03.000000000,2020-06-11 07:38:07.000000000,0,2,0,734870,03285912fcc784a971c206f44584b096e28ba14c,12,5,1,1,3153,Emilien Macchi,emilienm,"Disable Sahara in scenario003-standalone

Sahara service is deprecated in TripleO and won't be tested anymore to
align with what is delivered downstream.
In the new container image tooling, we don't ship sahara images simply because
we don't have users and won't continue to support it's deployment in the
future.

Change-Id: If1c621b45718475578dca390c45c0e23d1f3d7bc
"
openstack%2Fproject-config~master~If0df64f17282fb0aee48e18b813dc8044c84824c,openstack/project-config,master,add-openstack-tools,If0df64f17282fb0aee48e18b813dc8044c84824c,add vexxhost/openstack-tools,MERGED,2020-07-07 00:45:05.000000000,2020-07-09 13:07:36.000000000,2020-07-09 12:57:33.000000000,4,0,0,739627,839e5201ae6096418f0b1948438df660fd958b00,8,3,1,2,1004,Mohammed Naser,mnaser,"add vexxhost/openstack-tools

Change-Id: If0df64f17282fb0aee48e18b813dc8044c84824c
"
openstack%2Fironic-python-agent~bugfix%2F6.2~I2f00e95b5ff2616941ee50f575e10eddb680ecce,openstack/ironic-python-agent,bugfix/6.2,create-6.2,I2f00e95b5ff2616941ee50f575e10eddb680ecce,Update TOX_CONSTRAINTS_FILE for bugfix/6.2,MERGED,2020-07-08 18:51:18.000000000,2020-07-09 12:57:36.000000000,2020-07-09 12:54:26.000000000,1,1,0,740088,4760c4ce38d5aa6d73518cbba4bc4cb082600f06,10,3,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for bugfix/6.2

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I2f00e95b5ff2616941ee50f575e10eddb680ecce
"
openstack%2Fironic-inspector~bugfix%2F10.2~Ia1311cbe1dbbfbbea092a6ba1541869e2cee9356,openstack/ironic-inspector,bugfix/10.2,create-10.2,Ia1311cbe1dbbfbbea092a6ba1541869e2cee9356,Update TOX_CONSTRAINTS_FILE for bugfix/10.2,MERGED,2020-07-08 18:45:08.000000000,2020-07-09 12:57:35.000000000,2020-07-09 12:54:25.000000000,1,1,0,740085,db03e1c5eb37c3799831542895d5761795a782e1,13,4,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for bugfix/10.2

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ia1311cbe1dbbfbbea092a6ba1541869e2cee9356
"
openstack%2Fopenstack-zuul-jobs~master~I908d097adbd739869915baa93de2797acf6b8ef9,openstack/openstack-zuul-jobs,master,drop_future_imports,I908d097adbd739869915baa93de2797acf6b8ef9,Stop to use the __future__ module.,MERGED,2020-06-02 18:34:59.000000000,2020-07-09 12:57:35.000000000,2020-07-09 12:54:17.000000000,1,3,1,732887,11175cf7d71e36e3b39ddbbdcf38dbc6b60ab4d7,16,4,3,1,28522,Hervé Beraud,hberaud,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I908d097adbd739869915baa93de2797acf6b8ef9
"
openstack%2Fproject-config~master~Ia8bfc089a836574c6f56b8e28d5fc7016f0c6e31,openstack/project-config,master,,Ia8bfc089a836574c6f56b8e28d5fc7016f0c6e31,Publish Airship governance,MERGED,2020-07-07 15:17:43.000000000,2020-07-09 12:55:07.000000000,2020-07-09 12:55:07.000000000,1,0,0,739790,55639fb0b1ac9338f08b7c7fb3ae63d1fdaf5230,9,5,1,1,28618,Drew Walters,drewwalters96,"Publish Airship governance

Airship governance was not previous permitted to publish to
docs.airshipit.org because it did not have the theme setup. The
community has expressed interest in publishing Airship governance to
docs.airshipit.org, so this change enables publishing for the
airship/governance repository.

Change-Id: Ia8bfc089a836574c6f56b8e28d5fc7016f0c6e31
Signed-off-by: Drew Walters <andrew.walters@att.com>
"
openstack%2Fproject-config~master~I7c6d4b30a11d38e060fb4e6b2cdf29301f6f03e3,openstack/project-config,master,github-manager-fixes,I7c6d4b30a11d38e060fb4e6b2cdf29301f6f03e3,maintain-github-mirror: fix dependency name,MERGED,2020-07-09 09:17:01.000000000,2020-07-09 12:55:05.000000000,2020-07-09 12:55:05.000000000,1,1,0,740199,299017c496e015142e3d546c3ea46ebb6239edff,7,3,1,1,308,Thierry Carrez,ttx,"maintain-github-mirror: fix dependency name

The script needs the 'github' module, but this is provided by the
'PyGithub' library on Pypi, not the 'github' library.

Change-Id: I7c6d4b30a11d38e060fb4e6b2cdf29301f6f03e3
"
openstack%2Fironic~master~Ie4fdd195efa941165e22bd4ce9484988a1760b2d,openstack/ironic,master,story/2006963,Ie4fdd195efa941165e22bd4ce9484988a1760b2d,agent_base: support inserting in-band deploy steps,MERGED,2020-06-24 07:24:43.000000000,2020-07-09 12:51:00.000000000,2020-07-09 12:42:05.000000000,300,386,5,737695,deec7f4a926b7e032a44a0c56ac4016bf250ef54,31,9,5,7,10239,Dmitry Tantsur,dtantsur,"agent_base: support inserting in-band deploy steps

Currently all almost all of the deployment process is contained in a
single deploy step called deploy, on the deploy interface. This
restricts the customisation that can be applied via deploy steps, since
steps may only be added before or after this step.

This change allows deploy interfaces inheriting agent_base.AgentDeployMixin
to be used with in-band deploy steps. It is implemented by decomposing
the reboot_and_finish_deploy call into three deploy steps:
* tear_down_agent (priority 40)
* switch_to_tenant_network (priority 30)
* boot_instance (priority 20)
All steps with priorities between 99 and 41 can run in-band.

Backwards compatibility with drivers that do not support decomposed
steps is maintained via a 'has_decomposed_deploy_steps' method on the
agent heartbeat mixin.

The old reboot_and_finish_deploy call is also left for compatibility
but does nothing since the new steps will be automatically run.

Change-Id: Ie4fdd195efa941165e22bd4ce9484988a1760b2d
Story: #2006963
Task: #40151
"
openstack%2Fbifrost~bugfix%2F8.2~Ief33e72845b135c1051112614fadb5ebcc21f86c,openstack/bifrost,bugfix/8.2,create-8.2,Ief33e72845b135c1051112614fadb5ebcc21f86c,Update TOX_CONSTRAINTS_FILE for bugfix/8.2,MERGED,2020-07-08 13:48:43.000000000,2020-07-09 12:44:32.000000000,2020-07-09 12:42:03.000000000,3,3,0,739991,d775eb693317534ad5d694fa9bef58b3c2f31d4f,13,4,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for bugfix/8.2

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ief33e72845b135c1051112614fadb5ebcc21f86c
"
openstack%2Fnetworking-odl~master~I743f6b5c09cf6cc2e13e908afd12419058de783f,openstack/networking-odl,master,dontdelete/test_unittests,I743f6b5c09cf6cc2e13e908afd12419058de783f,DNM: test unittest execution,ABANDONED,2020-07-08 10:44:57.000000000,2020-07-09 12:40:44.000000000,,3,1,0,739949,9a8ead26b330b7e9422f65f41143038a856623b1,5,1,2,3,8313,Lajos Katona,elajkat,"DNM: test unittest execution

Change-Id: I743f6b5c09cf6cc2e13e908afd12419058de783f
Related-Bug: #1886589
"
openstack%2Fnetworking-ovn~stable%2Fqueens~Ia0ba2e78d4f97294a93ff127d9098978af21ba53,openstack/networking-ovn,stable/queens,,Ia0ba2e78d4f97294a93ff127d9098978af21ba53,Fix broken gate because of OVS module compilation,MERGED,2020-06-24 14:25:29.000000000,2020-07-09 12:38:39.000000000,2020-07-09 12:38:39.000000000,15,11,0,737817,a9d84b4f4b3f878ad17b0a9eca1d6852b1f4439f,24,4,3,7,24791,Maciej Jozefczyk,maciej.jozefczyk,"Fix broken gate because of OVS module compilation

Fix functional jobs by installing missing dependencies

Six is needed for the OVS/OVN compilation and tox to run the tests
itself.

Update OVS/OVN to version 2.12 in order to have possibility to
compile it under Ubuntu Bionic.

There is no need to compile OVS kernel module for functional tests,
so disable it.

Change-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)
"
openstack%2Fcinder~stable%2Fussuri~I2e8af74bae63c487e786da6e99aa4827029a05a2,openstack/cinder,stable/ussuri,fix-ceph-cinderlib-tests,I2e8af74bae63c487e786da6e99aa4827029a05a2,Disable siblings for the cinderlib functional tests,MERGED,2020-07-02 08:01:21.000000000,2020-07-09 12:31:58.000000000,2020-07-09 12:27:28.000000000,1,0,3,738978,72846a194b51938713eb4ea30fa11dcd82ccddce,96,19,2,1,10459,Luigi Toscano,ltoscano,"Disable siblings for the cinderlib functional tests

Follow the same pattern of the other jobs which deploy devstack
but runs also functional tests (see devtack-tox-functional
and devstack-tox-functional-consumer).

Without this, the older branches where cinderlib functional tests
use Python 2 (stein, and soon train when that is branched) fails
because they try to install packages part of which are Python 3
only.

The same change was applied to the branchless jobs defined
inside cinder-tempest-plugins: https://review.opendev.org/738078/

Change-Id: I2e8af74bae63c487e786da6e99aa4827029a05a2
(cherry picked from commit f9019679b3d7ea252d9d6b0aeef6b69167f051af)
"
openstack%2Fcinderlib~master~I9276da4050746a267b695102ce02c3cb85952a87,openstack/cinderlib,master,drop_future_imports,I9276da4050746a267b695102ce02c3cb85952a87,Stop to use the __future__ module.,MERGED,2020-06-02 18:08:22.000000000,2020-07-09 12:29:52.000000000,2020-07-09 12:27:35.000000000,0,12,0,732823,a6ce0fb43e979ce46f46ba17812fb7ec61644afb,12,6,1,8,28522,Hervé Beraud,hberaud,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I9276da4050746a267b695102ce02c3cb85952a87
"
openstack%2Fnova~stable%2Frocky~Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c,openstack/nova,stable/rocky,,Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c,Fix os_CODENAME detection and repo refresh during ceph tests,MERGED,2020-07-06 21:22:22.000000000,2020-07-09 12:27:32.000000000,2020-07-09 12:27:32.000000000,1,0,0,739608,7207b9ee6cff002c02b8cd46ce4088d86de8afdc,37,6,7,1,10135,Lee Yarwood,lyarwood,"Fix os_CODENAME detection and repo refresh during ceph tests

This is a partial backport of Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c
a change introduced in Stein that fixed OS detection in the
nova-live-migration job while installing Ceph.

This is required after the devstack-plugin-ceph job was recently
refactored by I51c90e592070b99422e692d5e9e97083d93146e8 and in doing so
introduced various OS specific conditionals that require os_CODENAME to
be set.

Change-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c
(cherry picked from commit 9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53)
"
openstack%2Ftripleo-common~master~I3b04a428710ed292bb8d0a0dbd3034aa678e57c1,openstack/tripleo-common,master,validations,I3b04a428710ed292bb8d0a0dbd3034aa678e57c1,(TCIB) Remove validation related things from mistral container,MERGED,2020-07-07 13:31:24.000000000,2020-07-09 12:06:06.000000000,2020-07-08 03:17:38.000000000,0,2,0,739746,dfe80685101016bb266dffb603b330231c69f5ea,13,7,1,1,3153,Emilien Macchi,emilienm,"(TCIB) Remove validation related things from mistral container

Since validations don't rely on mistral anymore, it's time to remove
some useless package and user.

Porting Ibcee290b4eb3ec3e5ee7af747a9ca7242863147f to TCIB.

Change-Id: I3b04a428710ed292bb8d0a0dbd3034aa678e57c1
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fussuri~I5958eaa7095013b7ed9b7aeb090a0535edc455ec,openstack/openstack-ansible-os_neutron,stable/ussuri,osa/el8-stable/ussuri,I5958eaa7095013b7ed9b7aeb090a0535edc455ec,Add centos-8 support,MERGED,2020-07-07 21:43:27.000000000,2020-07-09 11:16:51.000000000,2020-07-09 11:14:01.000000000,2,2,0,739858,94dfad9fe166625abc4eb9ecd2aff0e7dc43ec0f,21,3,2,1,25023,Jonathan Rosser,jrosser,"Add centos-8 support

Depends-On: https://review.opendev.org/739565
Change-Id: I5958eaa7095013b7ed9b7aeb090a0535edc455ec
(cherry picked from commit 4859a9ab179839398133fe6cd92da0bd75eb0e39)
"
openstack%2Fheat-dashboard~master~Iafb511accd06de0544ca4ec66f8c4d51bb765572,openstack/heat-dashboard,master,zanata/translations,Iafb511accd06de0544ca4ec66f8c4d51bb765572,Imported Translations from Zanata,MERGED,2020-05-29 06:51:53.000000000,2020-07-09 11:16:42.000000000,2020-07-09 11:14:05.000000000,5,5,0,731667,f8c9720499600baad488b956210e4bbe3b5da5bc,11,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iafb511accd06de0544ca4ec66f8c4d51bb765572
"
openstack%2Fneutron~master~Iead245da166ee2ae691227bb18ae377fe0af4c04,openstack/neutron,master,bug/1880969,Iead245da166ee2ae691227bb18ae377fe0af4c04,Use network.external DB model parameter when creating a floating IP,MERGED,2020-06-19 16:41:26.000000000,2020-07-09 11:13:56.000000000,2020-07-09 11:09:58.000000000,12,6,4,737047,f43f5dc64f13ac95657bf5abb96abd6fa7ce3079,100,11,9,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use network.external DB model parameter when creating a floating IP

When a floating IP is being created, the network provided should be
external. Instead of quering the DB to find out if the
""externalnetworks"" DB register exists, the ""network"" register is
retrieved and the ""external"" parameter is used (loaded using a
back reference relationship). This will avoid one DB access.

Change-Id: Iead245da166ee2ae691227bb18ae377fe0af4c04
Related-Bug: #1880969
"
openstack%2Fneutron-tempest-plugin~master~I004248eb259824614e27b3d8b739d3a72b580df3,openstack/neutron-tempest-plugin,master,ndr-no-dvr,I004248eb259824614e27b3d8b739d3a72b580df3,Fix neutron-dynamic-routing tests when DVR is disabled,MERGED,2020-07-01 14:55:25.000000000,2020-07-09 11:10:01.000000000,2020-07-09 11:10:00.000000000,19,16,2,738861,1184bb2d1054d1365afafc9daa45cc2bdde47734,13,5,3,2,13252,Dr. Jens Harbott,jrosenboom,"Fix neutron-dynamic-routing tests when DVR is disabled

OVN doesn't support DVR, so even creating a router with
distributed=False will fail. We want a non-distributed router anyway,
so just retry without that option if we get a BadRequest error.

Change-Id: I004248eb259824614e27b3d8b739d3a72b580df3
"
openstack%2Fopenstack-tempest-skiplist~master~I61bf6c9875f3da29eb8a8783ae485da6c1c20bd1,openstack/openstack-tempest-skiplist,master,update-skiplist,I61bf6c9875f3da29eb8a8783ae485da6c1c20bd1,Update tempest-skiplist,MERGED,2020-07-08 10:42:19.000000000,2020-07-09 10:50:21.000000000,2020-07-09 10:47:19.000000000,889,131,0,739948,71b0a0415e77669f99502b4b00c70db6feea200e,10,4,2,1,8367,Arx Cruz,arxcruz,"Update tempest-skiplist

This patch updates the tempest-skiplist yaml file with latest
skipped jobs based on validate-tempest role

Change-Id: I61bf6c9875f3da29eb8a8783ae485da6c1c20bd1
"
openstack%2Foctavia~master~I638c5c8baf1d76365fff2c99ded9c6b310348710,openstack/octavia,master,ipv6-only,I638c5c8baf1d76365fff2c99ded9c6b310348710,Add a router to the lb-mgmt-net for slaac,MERGED,2020-07-06 17:26:53.000000000,2020-07-09 10:44:08.000000000,2020-07-09 10:36:31.000000000,6,0,4,739557,77f5c3893c0ed56c62c72d5d50dcdd9faf10cf0f,17,5,4,2,11628,Michael Johnson,johnsom,"Add a router to the lb-mgmt-net for slaac

Neutron now needs to have a router attached to the subnet to provide
the router advertisement messages needed for slaac address
configuration.
This patch adds this router to the lb-mgmt-network, allowing
the amphora instances to configure an IPv6 address.

Change-Id: I638c5c8baf1d76365fff2c99ded9c6b310348710
"
openstack%2Foctavia-tempest-plugin~master~I2fb037a15fadf52f5dd918f80d2ef8c82833c24f,openstack/octavia-tempest-plugin,master,,I2fb037a15fadf52f5dd918f80d2ef8c82833c24f,Add py38 package metadata,MERGED,2020-05-28 03:47:59.000000000,2020-07-09 10:43:39.000000000,2020-07-09 10:40:42.000000000,1,0,0,731416,0b64a191efbefc0d7299697d5340b2f0021c521e,10,5,1,1,27565,inspurericzhang,inspurericzhang,"Add py38 package metadata

Change-Id: I2fb037a15fadf52f5dd918f80d2ef8c82833c24f
"
openstack%2Fopenstack-ansible-os_glance~master~I33297d21fbd8618e167e1f332ec2c838c5086b0e,openstack/openstack-ansible-os_glance,master,osa/el8,I33297d21fbd8618e167e1f332ec2c838c5086b0e,Add Centos-8 support,MERGED,2020-06-16 14:38:34.000000000,2020-07-09 10:30:52.000000000,2020-07-08 13:40:28.000000000,1,1,0,735926,5245eafd146ab8c886d432f38a161fa44880beba,45,5,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Centos-8 support

Change-Id: I33297d21fbd8618e167e1f332ec2c838c5086b0e
"
openstack%2Fopenstack-ansible-ceph_client~master~Ie26a4539c7c2e413e4dd61f3afaf1db8e8e2857e,openstack/openstack-ansible-ceph_client,master,osa/el8,Ie26a4539c7c2e413e4dd61f3afaf1db8e8e2857e,Add centos-8 support,MERGED,2020-07-06 04:37:29.000000000,2020-07-09 10:30:38.000000000,2020-07-08 10:54:35.000000000,3,3,2,739398,645f1241e86a0d87bc66d63a9f0e1b24637dfecb,16,3,2,1,28752,Satish Patel,spatel,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml and fixing ceph download url using ""ansible_distribution_major_version"" facts.

Change-Id: Ie26a4539c7c2e413e4dd61f3afaf1db8e8e2857e
"
openstack%2Fopenstack-ansible-lxc_hosts~master~If57de332945291d139d54e9aed5d782a69a71d97,openstack/openstack-ansible-lxc_hosts,master,osa/el8,If57de332945291d139d54e9aed5d782a69a71d97,Add centos-8 support,MERGED,2020-06-16 06:48:17.000000000,2020-07-09 10:30:09.000000000,2020-07-05 20:15:14.000000000,151,50,11,735781,eaae389a4bf9708eb32bb820429da6343edeb7d5,51,6,11,7,25023,Jonathan Rosser,jrosser,"Add centos-8 support

Centos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the
Centos-8 setup exclusively in tasks/lxc_install_dnf.yml which
means there are few conditional setup tasks needed.

Add cache prep and lxc host vars files for rhel-8 variants.

This patch takes the systemd-networkd package from EPEL and installs
it into the LXC image, so that the existing lxc_container_create
role can set up the container networking in the same manner as the
other supported operating systems.

Depends-On: https://review.opendev.org/738913
Change-Id: If57de332945291d139d54e9aed5d782a69a71d97
"
openstack%2Fopenstack-ansible-openstack_hosts~master~Ic48c7a38673235c3925775d73018c45c237627d5,openstack/openstack-ansible-openstack_hosts,master,osa/el8,Ic48c7a38673235c3925775d73018c45c237627d5,Add advanced-virtualization CentOS 8 repo,MERGED,2020-07-01 17:16:02.000000000,2020-07-09 10:29:43.000000000,2020-07-05 19:31:47.000000000,19,4,0,738903,19b1b7bf50ce409c3041670cad2f3c1a710b13a3,22,4,5,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add advanced-virtualization CentOS 8 repo

RDO packages require libvirt to be >=5.0 which is possible only in
case of usage advanced-virtualization repo.

Patch also adds python3-six package which should be updated in CI as
it has incompatible version with python3-urllib because of usage [1],
as old six don't have that method onboard.

[1] https://github.com/urllib3/urllib3/blob/a5a45dc36f3821e97bb9d6f2b4cd438a3f518af3/src/urllib3/util/url.py#L217

Change-Id: Ic48c7a38673235c3925775d73018c45c237627d5
"
openstack%2Fironic~master~Id709613c33754de9dc336d27db8174c06f4ff39a,openstack/ironic,master,test-focal,Id709613c33754de9dc336d27db8174c06f4ff39a,[DNM] Test CI with Ubuntu focal,ABANDONED,2020-06-10 08:23:56.000000000,2020-07-09 10:25:04.000000000,,18,17,0,734763,5fd972d04f4f8ba6d5ddecb899396002a4fd1d27,7,3,2,2,23851,Riccardo Pittau,elfosardo,"[DNM] Test CI with Ubuntu focal

Depends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6
Change-Id: Id709613c33754de9dc336d27db8174c06f4ff39a
"
openstack%2Fcharm-heat~master~I22c383859960395866018d8eee8d97bdf0d38f07,openstack/charm-heat,master,victoria-charm-tests,I22c383859960395866018d8eee8d97bdf0d38f07,Add Victoria test bundles,MERGED,2020-07-07 13:11:30.000000000,2020-07-09 10:20:16.000000000,2020-07-09 10:20:16.000000000,455,2,0,739739,e0cd2f2af4357ad53035fc09000cca54cf433a31,14,4,2,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: I22c383859960395866018d8eee8d97bdf0d38f07
"
openstack%2Fironic~master~Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f,openstack/ironic,master,add_tempest_boot_mode,Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f,add tempest boot_mode config,MERGED,2020-03-23 14:09:43.000000000,2020-07-09 10:18:25.000000000,2020-07-09 10:07:06.000000000,9,2,12,714453,ddbc4a6a099da83701aad67386e8f1e1646ee80d,147,9,21,2,15519,Iury Gregory Melo Ferreira,iurygregory,"add tempest boot_mode config

This patches update the devstack to automatically
set the new tempest configuration `boot_mode`,
it will use the value from IRONIC_BOOT_MODE variable.

Increase the number of VM's in ironic-tempest-ipa-partition-pxe_ipmitool
and ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa
to 2 since it runs cleanning and now we run two tempest tests.

Depends-On: https://review.opendev.org/735960
Change-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f
"
openstack%2Fcharm-neutron-openvswitch~master~I71ca8e1a00785afa5ccd16418f3a5b54bfe90113,openstack/charm-neutron-openvswitch,master,victoria-charm-tests,I71ca8e1a00785afa5ccd16418f3a5b54bfe90113,Add Victoria test bundles,MERGED,2020-07-07 12:36:14.000000000,2020-07-09 10:17:52.000000000,2020-07-09 10:17:52.000000000,321,1,0,739727,0b32f37815df46b11f512a6433f17d0bf1780194,13,3,3,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: I71ca8e1a00785afa5ccd16418f3a5b54bfe90113
"
openstack%2Fcharm-ceilometer~master~If311b8952d68bdc3c05e883ff77664515ee4f888,openstack/charm-ceilometer,master,victoria-charm-tests,If311b8952d68bdc3c05e883ff77664515ee4f888,Add Victoria test bundles,MERGED,2020-07-09 07:57:01.000000000,2020-07-09 10:17:30.000000000,2020-07-09 10:17:30.000000000,479,1,0,740177,17366cbf65afd25cfe1f2f16e00518f0b50a363f,8,3,1,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: If311b8952d68bdc3c05e883ff77664515ee4f888
"
openstack%2Fcharm-designate~master~I35fb25787e4210fcc85ed7d5e3d74d5a277546fd,openstack/charm-designate,master,victoria-charm-tests,I35fb25787e4210fcc85ed7d5e3d74d5a277546fd,Add Victoria test bundles,MERGED,2020-07-07 13:15:36.000000000,2020-07-09 10:17:15.000000000,2020-07-09 10:17:15.000000000,255,2,0,739740,7e11bab1503a62370a207d0cad47c21502cb3eda,11,3,2,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: I35fb25787e4210fcc85ed7d5e3d74d5a277546fd
"
openstack%2Fcharm-nova-compute~master~I76eb9b34a7a8e603b1e9153c8653d0e18e9bf4fc,openstack/charm-nova-compute,master,victoria-charm-tests,I76eb9b34a7a8e603b1e9153c8653d0e18e9bf4fc,Add Victoria test bundles,MERGED,2020-07-07 12:40:01.000000000,2020-07-09 10:16:30.000000000,2020-07-09 10:16:30.000000000,407,1,0,739729,9c30e3d6bfb2385e2a6f177f0208c2553a55d74a,16,4,3,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: I76eb9b34a7a8e603b1e9153c8653d0e18e9bf4fc
"
openstack%2Fcharm-ceph-radosgw~master~If4831f159ca42d112eb29f2ef4ea9928e90ed569,openstack/charm-ceph-radosgw,master,victoria-charm-tests,If4831f159ca42d112eb29f2ef4ea9928e90ed569,Add Victoria test bundles,MERGED,2020-07-07 13:44:08.000000000,2020-07-09 10:14:53.000000000,2020-07-09 10:14:53.000000000,472,3,0,739755,f884bdb0bff8f512645e52371bc807fbf16f8031,14,4,2,5,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: If4831f159ca42d112eb29f2ef4ea9928e90ed569
"
openstack%2Fcharm-swift-proxy~master~I4a1d73f6aae29f2462ad73e3a6fe0b11345f44cf,openstack/charm-swift-proxy,master,victoria-charm-tests,I4a1d73f6aae29f2462ad73e3a6fe0b11345f44cf,Add Victoria test bundles,MERGED,2020-07-08 11:38:54.000000000,2020-07-09 10:14:24.000000000,2020-07-09 10:14:24.000000000,214,1,0,739956,2c52de0ebd822dfa3aaf0cc066479d3d0d1fbb9f,11,3,2,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: I4a1d73f6aae29f2462ad73e3a6fe0b11345f44cf
"
openstack%2Fneutron~master~Icbf86d5472b205000983adbc382f52f296440740,openstack/neutron,master,,Icbf86d5472b205000983adbc382f52f296440740,WIP DNM: please ignore,ABANDONED,2020-05-21 08:48:37.000000000,2020-07-09 10:13:20.000000000,,36,0,0,729877,3c68273bb3dc179ca87306a635950a3676db44ea,10,5,2,2,11952,Flavio Fernandes,ffernand,"WIP DNM: please ignore

Change-Id: Icbf86d5472b205000983adbc382f52f296440740
"
openstack%2Fneutron~master~Ie618cdde7d5268de0707a3eb0a8bcf20a0081d58,openstack/neutron,master,,Ie618cdde7d5268de0707a3eb0a8bcf20a0081d58,wip,ABANDONED,2020-07-09 09:06:36.000000000,2020-07-09 10:13:09.000000000,,1,1,0,740196,f0bac7eb47e0408012eacfd2ff2201447b13af69,2,0,1,1,11952,Flavio Fernandes,ffernand,"wip

test

Change-Id: Ie618cdde7d5268de0707a3eb0a8bcf20a0081d58
"
openstack%2Fironic-python-agent~bugfix%2F6.2~I42aec2958d2ae2cc888040a1408d0c28b213bc89,openstack/ironic-python-agent,bugfix/6.2,create-6.2,I42aec2958d2ae2cc888040a1408d0c28b213bc89,Update .gitreview for bugfix/6.2,MERGED,2020-07-08 18:51:17.000000000,2020-07-09 10:12:37.000000000,2020-07-09 10:07:08.000000000,1,0,0,740087,71fe9a59c3bbcb5c6318acbd5e7be791c86241fe,8,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for bugfix/6.2

Change-Id: I42aec2958d2ae2cc888040a1408d0c28b213bc89
"
openstack%2Fovsdbapp~master~I149947fb8597faafb21aeb073f9f09ad98dcd7c5,openstack/ovsdbapp,master,drop_mock,I149947fb8597faafb21aeb073f9f09ad98dcd7c5,drop mock from lower-constraints,MERGED,2020-06-09 09:51:20.000000000,2020-07-09 10:12:23.000000000,2020-07-09 10:10:18.000000000,0,1,0,734495,f905f4e9de5ea2725c0a618320228482bf12607b,8,3,1,1,28522,Hervé Beraud,hberaud,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I149947fb8597faafb21aeb073f9f09ad98dcd7c5
"
openstack%2Fneutron~master~I795ee7ca729646be0411a1232bf218015c65010f,openstack/neutron,master,bug/1883712,I795ee7ca729646be0411a1232bf218015c65010f,Add config option ``http_retries``,MERGED,2020-06-16 20:42:10.000000000,2020-07-09 10:11:22.000000000,2020-07-08 23:16:53.000000000,20,2,18,736026,e94511cd251299cee84b8b67d404972988ae28d3,67,11,4,5,11975,Slawek Kaplonski,slaweq,"Add config option ``http_retries``

This option allows to configure Number of times nova or ironic client
should retry on any failed http call.
Default value for this new option is ""3"".

Change-Id: I795ee7ca729646be0411a1232bf218015c65010f
Closes-Bug: #1883712
"
openstack%2Fcharm-nova-cloud-controller~master~I5a78ae64131e83af43ba8b38d9a8acf0328fad8d,openstack/charm-nova-cloud-controller,master,victoria-charm-tests,I5a78ae64131e83af43ba8b38d9a8acf0328fad8d,Add Victoria test bundles,MERGED,2020-07-07 12:26:09.000000000,2020-07-09 10:10:41.000000000,2020-07-09 10:10:41.000000000,423,1,0,739724,2060af3941a065b23e41cb6f86e61476ba0116eb,11,3,2,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: I5a78ae64131e83af43ba8b38d9a8acf0328fad8d
"
openstack%2Fcharm-cinder-ceph~master~I6ad0deb3783461f5f63c6a5b3740297d77bf2f39,openstack/charm-cinder-ceph,master,victoria-charm-tests,I6ad0deb3783461f5f63c6a5b3740297d77bf2f39,Add Victoria test bundles,MERGED,2020-07-07 13:48:52.000000000,2020-07-09 10:10:29.000000000,2020-07-09 10:10:29.000000000,552,0,0,739760,4ac805177abb61a136af570f087c6963a2aa5445,14,4,2,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: I6ad0deb3783461f5f63c6a5b3740297d77bf2f39
"
openstack%2Fcharm-designate-bind~master~Ia7854253346b04f74771826ee14ef90167c15e0a,openstack/charm-designate-bind,master,victoria-charm-tests,Ia7854253346b04f74771826ee14ef90167c15e0a,Add Victoria test bundles,MERGED,2020-07-07 12:50:21.000000000,2020-07-09 10:10:16.000000000,2020-07-09 10:10:16.000000000,199,2,0,739734,c9b2fed85b619bdd79fecb4687b5fff6449ae5a0,11,3,2,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: Ia7854253346b04f74771826ee14ef90167c15e0a
"
openstack%2Fcharm-barbican~master~Ibb0bd976463c8c88eaf6f577af4399452ebe24a7,openstack/charm-barbican,master,victoria-charm-tests,Ibb0bd976463c8c88eaf6f577af4399452ebe24a7,Add Victoria test bundles,MERGED,2020-07-07 13:38:08.000000000,2020-07-09 10:06:54.000000000,2020-07-09 10:06:54.000000000,154,0,0,739752,099e195e9ee919792d7eaebae8b8b225b004a7ed,14,4,2,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: Ibb0bd976463c8c88eaf6f577af4399452ebe24a7
"
openstack%2Fsahara-plugin-ambari~master~I54cdcfd3373c2c9d917bd71af74219d4c0f001e4,openstack/sahara-plugin-ambari,master,drop_future_imports,I54cdcfd3373c2c9d917bd71af74219d4c0f001e4,Stop to use the __future__ module.,MERGED,2020-06-02 18:57:35.000000000,2020-07-09 10:02:14.000000000,2020-07-09 09:59:23.000000000,0,1,0,732949,af11145cef3e66804ccd51c48fd8122fc87a22a4,11,5,1,1,28522,Hervé Beraud,hberaud,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I54cdcfd3373c2c9d917bd71af74219d4c0f001e4
"
openstack%2Fcharm-neutron-api~master~I4a36837799dc3044c66cbafa734c7e0b72dec25f,openstack/charm-neutron-api,master,victoria-charm-tests,I4a36837799dc3044c66cbafa734c7e0b72dec25f,Fix openstack-origin in groovy-victoria test bundle,MERGED,2020-07-08 12:47:52.000000000,2020-07-09 10:01:59.000000000,2020-07-09 10:01:58.000000000,1,1,0,739974,c86da1c2d2ae882125b9f88056a650245a115b03,8,3,1,1,31289,Aurelien Lourot,lourot,"Fix openstack-origin in groovy-victoria test bundle

Change-Id: I4a36837799dc3044c66cbafa734c7e0b72dec25f
"
openstack%2Fcharm-barbican-softhsm~master~Ia4ab72a73ab44c3263d627bc7f18c1dbafaae2ad,openstack/charm-barbican-softhsm,master,victoria-charm-tests,Ia4ab72a73ab44c3263d627bc7f18c1dbafaae2ad,Add Ussuri and Victoria tests,MERGED,2020-07-08 09:15:35.000000000,2020-07-09 10:01:46.000000000,2020-07-09 10:01:46.000000000,44,2,0,739932,d9b05879b322ee60dc7ec9b8a17a01bc89e730dd,19,4,3,5,31289,Aurelien Lourot,lourot,"Add Ussuri and Victoria tests

Closes-Bug: #1885935
Change-Id: Ia4ab72a73ab44c3263d627bc7f18c1dbafaae2ad
"
openstack%2Fcharm-neutron-gateway~master~Ide4a257812e2b844aea869aba698936d1e0f7393,openstack/charm-neutron-gateway,master,victoria-charm-tests,Ide4a257812e2b844aea869aba698936d1e0f7393,Add Victoria test bundles,MERGED,2020-07-07 11:30:45.000000000,2020-07-09 10:01:31.000000000,2020-07-09 10:01:31.000000000,178,49,0,739716,de513bc49d6fc0b68cf62b0fcdd1909662e48543,16,4,3,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Also remove Eoan bundles.

Change-Id: Ide4a257812e2b844aea869aba698936d1e0f7393
"
openstack%2Fmolteniron~master~Iaf6e2c9b16d053a8c279a48a25979c941b1c00da,openstack/molteniron,master,drop_future_imports,Iaf6e2c9b16d053a8c279a48a25979c941b1c00da,Stop to use the __future__ module.,MERGED,2020-06-02 18:24:04.000000000,2020-07-09 09:58:05.000000000,2020-07-09 09:58:04.000000000,0,30,0,732861,524d1f1c7dee581b7a17b3dfc2041871604a1eac,9,4,1,15,28522,Hervé Beraud,hberaud,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Iaf6e2c9b16d053a8c279a48a25979c941b1c00da
"
openstack%2Fproject-team-guide~master~I95f4a999eca87627046892be3f79c8520d605bf0,openstack/project-team-guide,master,update-release-models,I95f4a999eca87627046892be3f79c8520d605bf0,Update release management page,MERGED,2020-06-17 13:12:04.000000000,2020-07-09 09:56:53.000000000,2020-07-09 09:53:35.000000000,115,167,3,736213,647bcbdc1cc6456a09a9580b58e51a32fbe7f567,10,4,1,1,308,Thierry Carrez,ttx,"Update release management page

The release management page was out-of-date, mentioning models that
no longer exist, or requirements that we no longer enforce.

Simplify it and avoid documenting release models twice. Instead, the
Project Team Guide should focus on giving guidance on how to choose
a release model, given a deliverable type.

Change-Id: I95f4a999eca87627046892be3f79c8520d605bf0
"
openstack%2Foctavia~master~I6152838c697e12d19b27343e3a0714e55ca52d88,openstack/octavia,master,improve-terminology,I6152838c697e12d19b27343e3a0714e55ca52d88,Remove blacklist terminology in the Octavia tree,MERGED,2020-07-08 19:22:26.000000000,2020-07-09 09:55:19.000000000,2020-07-09 09:53:22.000000000,38,27,0,740096,7890f0d99929f0c2630486c7956448b1ae3d1843,9,4,1,7,1131,Brian Haley,brian-haley,"Remove blacklist terminology in the Octavia tree

The configuration option tls_cipher_blacklist has been
deprecated and replaced by tls_cipher_prohibit_list.

Change-Id: I6152838c697e12d19b27343e3a0714e55ca52d88
"
openstack%2Fcastellan~stable%2Frocky~I83bafe5b7e0c4cca67f773858007fb59d98a93a5,openstack/castellan,stable/rocky,bug/1876102,I83bafe5b7e0c4cca67f773858007fb59d98a93a5,"add ""verify_ssl_path"" config for barbican key manager",ABANDONED,2020-06-29 08:19:33.000000000,2020-07-09 09:46:23.000000000,,30,5,1,738391,53e6a281912563843f815f92ac7fbac2107eba72,9,9,2,4,27594,Jie Li,ramboman,"add ""verify_ssl_path"" config for barbican key manager

Now we cann't use the verify_ssl if we set True, so we
add the ""verify_ssl_path"" config to solve it.

Closes-Bug: #1876102
(cherry picked from commit 89f311dfbd264a5d4309ea1ca4283f2746d6fa24)

Change-Id: I83bafe5b7e0c4cca67f773858007fb59d98a93a5
"
openstack%2Fneutron~master~I4aca67c98ae77bbc4c130764af5a92515b95443a,openstack/neutron,master,bug/1886116,I4aca67c98ae77bbc4c130764af5a92515b95443a,Better document router requirements for IPv6,MERGED,2020-07-07 20:36:29.000000000,2020-07-09 09:13:36.000000000,2020-07-09 09:11:22.000000000,44,30,6,739848,a3ecaf6a1078ae1e1edbe72db0fd612e826539ad,18,8,2,1,1131,Brian Haley,brian-haley,"Better document router requirements for IPv6

In order for IPv6 to function correctly for instances, a router
must be created and added to a subnet. Update the documentation
to better highlight this as it wasn't clear a router was
required on an isolated subnet such that Router Advertisements
messages would be sent.

Change-Id: I4aca67c98ae77bbc4c130764af5a92515b95443a
Closes-bug: #1886116
"
openstack%2Ftripleo-common~stable%2Fussuri~I28d2edd4f923fb2d263df43fff4ef82a4072040c,openstack/tripleo-common,stable/ussuri,tcib-testing/ussuri,I28d2edd4f923fb2d263df43fff4ef82a4072040c,Run standalone jobs with locally built images,MERGED,2020-07-06 16:14:03.000000000,2020-07-09 09:13:15.000000000,2020-07-09 09:08:41.000000000,24,0,0,739533,b53977c72356cc4338e3bf9c0cb8620a789d268d,25,4,3,1,3153,Emilien Macchi,emilienm,"Run standalone jobs with locally built images

Instead of pulling images from a local registry, build them locally
since the configs that build them are in tripleo-common.

Also trigger the appropriate scenarios if a container config is changed.

Note: this patch will make all standalone jobs running against
tripleo-common to use locally built container images, even if the patch
isn't about a container image config file. It has been found that the
time to build images is roughly the same as the time it takes to update
them once pulled from a remote registry.

Note: scenario001/002 will come later once we figure out an issue with
gnocchi-db-sync and cradox.

Depends-On: https://review.opendev.org/#/c/739530/
Change-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c
(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)
"
openstack%2Fpuppet-barbican~master~I5068505afbaf57e66d28f7cf472ab09bb8355f04,openstack/puppet-barbican,master,at-interface,I5068505afbaf57e66d28f7cf472ab09bb8355f04,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 23:19:52.000000000,2020-07-09 09:01:02.000000000,2020-07-09 08:59:32.000000000,16,0,0,740126,000d145608baad5daffcb2b80863b45b3200e435,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I5068505afbaf57e66d28f7cf472ab09bb8355f04
"
openstack%2Freleases~master~I36461375db7a55aeb9cd87acf87870cb6db8f543,openstack/releases,master,castellan-ussuri-07-07,I36461375db7a55aeb9cd87acf87870cb6db8f543,Release castellan 3.0.2 for ussuri,MERGED,2020-07-07 09:19:48.000000000,2020-07-09 09:00:11.000000000,2020-07-09 09:00:11.000000000,4,0,0,739686,da98cfefd033876ec86d4d2335f16d2d09821176,18,4,3,1,28522,Hervé Beraud,hberaud,"Release castellan 3.0.2 for ussuri

A new CLI option was added to verify the SSL path and solve an issue
[1].

Unfortunattely we can't propose a minor release because 3.1.0 is already
in use on victoria [2].

Also backport new feature and options on stable is something that we
want to avoid but here if this option is not given by operator then the
behavior stay consistent with previous versions, so I don't think it can
hurt.

[1] https://review.opendev.org/#/c/738399/
[2] https://opendev.org/openstack/releases/src/branch/master/deliverables/victoria/castellan.yaml#L9

Change-Id: I36461375db7a55aeb9cd87acf87870cb6db8f543
"
openstack%2Freleases~master~I23bd10c2b1df4cf8a0cb6726610d5bd40e391a24,openstack/releases,master,oslo-07-07-victoria,I23bd10c2b1df4cf8a0cb6726610d5bd40e391a24,Release oslo for victoria 2020-07-07,MERGED,2020-07-07 09:10:35.000000000,2020-07-09 09:00:09.000000000,2020-07-09 09:00:09.000000000,16,0,3,739682,e4ed69da018b3f1d9c707694953ba32984ad8562,14,3,2,4,28522,Hervé Beraud,hberaud,"Release oslo for victoria 2020-07-07

Change-Id: I23bd10c2b1df4cf8a0cb6726610d5bd40e391a24
"
openstack%2Fpuppet-panko~master~I8ae2e126048c130f7c498d5ec0e790bc0dd42c1e,openstack/puppet-panko,master,at-interface,I8ae2e126048c130f7c498d5ec0e790bc0dd42c1e,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 23:37:39.000000000,2020-07-09 09:00:00.000000000,2020-07-09 08:57:26.000000000,15,0,0,740130,ba317b7ef3c6212cc60473457dae94ca828959bf,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I8ae2e126048c130f7c498d5ec0e790bc0dd42c1e
"
openstack%2Fpuppet-gnocchi~master~I02f2b0cfe4641616a59043c947c65d373597da55,openstack/puppet-gnocchi,master,at-interface,I02f2b0cfe4641616a59043c947c65d373597da55,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 23:34:54.000000000,2020-07-09 08:51:50.000000000,2020-07-09 08:49:33.000000000,16,0,0,740129,3ac484f1d2aa0e84997cfddcb63d343cbda9a25b,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I02f2b0cfe4641616a59043c947c65d373597da55
"
openstack%2Fpuppet-aodh~master~I39bf94a041d7d4af31fb2653c9274ee8fbdb732e,openstack/puppet-aodh,master,at-interface,I39bf94a041d7d4af31fb2653c9274ee8fbdb732e,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 23:31:36.000000000,2020-07-09 08:48:05.000000000,2020-07-09 08:46:09.000000000,17,4,0,740128,33d690c7eb0cadf2d8782cb67bb2979e223a3f89,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I39bf94a041d7d4af31fb2653c9274ee8fbdb732e
"
openstack%2Fdevstack~stable%2Frocky~Ic24a24a3c0310af2eacf9398639dbded39ad1cc6,openstack/devstack,stable/rocky,,Ic24a24a3c0310af2eacf9398639dbded39ad1cc6,fixup_stuff: Ensure the Queens UCA is trusted on Xenial nodes,ABANDONED,2020-07-08 09:50:55.000000000,2020-07-09 08:35:26.000000000,,1,1,2,739941,907e1bef19d5e74aa6173d0e165f74ba5ecf681d,10,3,4,1,10135,Lee Yarwood,lyarwood,"fixup_stuff: Ensure the Queens UCA is trusted on Xenial nodes

Otherwise plugins such as devstack-plugin-ceph will fail when using apt
directly to refresh the repo as it is not signed.

Stable-Only
Change-Id: Ic24a24a3c0310af2eacf9398639dbded39ad1cc6
"
openstack%2Fcharm-mysql-innodb-cluster~master~I26d62d02c4dc6cd395efef144a1f455291d25459,openstack/charm-mysql-innodb-cluster,master,bug/1854133,I26d62d02c4dc6cd395efef144a1f455291d25459,Enable MySQL TLS,MERGED,2020-06-30 23:26:09.000000000,2020-07-09 08:31:19.000000000,2020-07-09 08:31:19.000000000,204,32,0,738717,d1eb32d11b949fd44d411cfe5ab067a841d66c7b,60,5,9,13,20805,David Ames,thedac,"Enable MySQL TLS

Enable passing the certificate authority on the relation in order to
enable TLS communication to the MySQL DB.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/354

Closes-Bug: #1854133
Depends-On: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5
Change-Id: I26d62d02c4dc6cd395efef144a1f455291d25459
"
openstack%2Foslo.messaging~stable%2Frocky~I0bea5fcf1b7c3a309c8b0429ab3fa8124815bfce,openstack/oslo.messaging,stable/rocky,,I0bea5fcf1b7c3a309c8b0429ab3fa8124815bfce,DNM: test zuul - bindep without basepython,ABANDONED,2020-06-17 14:42:48.000000000,2020-07-09 08:30:42.000000000,,0,1,0,736243,b859f4b833fb45658631781a401a2166cedb03fa,3,1,1,1,17685,Elod Illes,elod.illes,"DNM: test zuul - bindep without basepython

Change-Id: I0bea5fcf1b7c3a309c8b0429ab3fa8124815bfce
"
openstack%2Fcharm-aodh~master~Ic2477ed4ccc05c5bef384c4d9dc9a1776de9f6f6,openstack/charm-aodh,master,bug/1741723,Ic2477ed4ccc05c5bef384c4d9dc9a1776de9f6f6,Policyd override implementation,MERGED,2020-07-03 18:34:45.000000000,2020-07-09 08:28:39.000000000,2020-07-09 08:28:39.000000000,104,3,0,739275,2e500d38c2f4c6779dd06f5a841e1b268055e7ab,14,4,2,6,9247,Arif Ali,arif-ali,"Policyd override implementation

This patchset implements policy overrides for aodh. Updates
xenial-ocata and trusty-mitaka functional tests

Change-Id: Ic2477ed4ccc05c5bef384c4d9dc9a1776de9f6f6
Closed-Bug: #1741723
"
openstack%2Fkolla-ansible~stable%2Fussuri~Idfa7feb9157cdf12af9641be10c8eb8478930f15,openstack/kolla-ansible,stable/ussuri,,Idfa7feb9157cdf12af9641be10c8eb8478930f15,Manage octavia health manager worker through openstack_service worker,MERGED,2020-07-09 00:18:39.000000000,2020-07-09 08:24:13.000000000,2020-07-09 08:21:57.000000000,3,0,0,740133,6bba8cc52af3a26678da48129856f80c21eb8e38,10,4,1,1,7488,Jeffrey Zhang,Jeffrey4l,"Manage octavia health manager worker through openstack_service worker

Change-Id: Idfa7feb9157cdf12af9641be10c8eb8478930f15
Closes-Bug: #1886747
(cherry picked from commit 1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4)
"
openstack%2Fkolla-ansible~stable%2Ftrain~Idfa7feb9157cdf12af9641be10c8eb8478930f15,openstack/kolla-ansible,stable/train,,Idfa7feb9157cdf12af9641be10c8eb8478930f15,Manage octavia health manager worker through openstack_service worker,MERGED,2020-07-09 00:18:52.000000000,2020-07-09 08:23:32.000000000,2020-07-09 08:21:56.000000000,3,0,0,740134,1629f5fe082d2a592d2b3bcf18fe98139cadce46,8,3,1,1,7488,Jeffrey Zhang,Jeffrey4l,"Manage octavia health manager worker through openstack_service worker

Change-Id: Idfa7feb9157cdf12af9641be10c8eb8478930f15
Closes-Bug: #1886747
(cherry picked from commit 1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4)
"
openstack%2Fcharm-vault~master~I2dea8eabc084152125028bd64bad5319159af04f,openstack/charm-vault,master,bug/1886083,I2dea8eabc084152125028bd64bad5319159af04f,More DB loss handling,MERGED,2020-07-08 18:45:19.000000000,2020-07-09 08:20:31.000000000,2020-07-09 08:20:31.000000000,3,0,0,740086,42f1925fc42601f469a476dd045226fe2e25c954,7,3,1,1,20805,David Ames,thedac,"More DB loss handling

An addition to commit 25ac2cb0de7e7fdc0c7815aecb67a5906b1fbede
Use a retry on the client.auth_approle

Related-Bug: #1886083

Change-Id: I2dea8eabc084152125028bd64bad5319159af04f
"
openstack%2Ftempest~master~I7d00be25bb0b70ce55e27790df33d9134c2a52ae,openstack/tempest,master,,I7d00be25bb0b70ce55e27790df33d9134c2a52ae,Replace mock by unittest.mock in 2 forgotten cases,MERGED,2020-07-08 09:53:50.000000000,2020-07-09 08:12:41.000000000,2020-07-09 08:10:40.000000000,4,5,3,739942,e1eebfa8451d4c28bef0669e4a7f493b6086cab9,13,6,2,2,22873,Martin Kopec,mkopec,"Replace mock by unittest.mock in 2 forgotten cases

We replaced usage of third party mock by the standard library in:
https://review.opendev.org/#/c/721021/
There are 2 forgotten occurrences where we still use the third
party mock, the patch fixes that.

Change-Id: I7d00be25bb0b70ce55e27790df33d9134c2a52ae
"
openstack%2Fkolla-ansible~stable%2Fstein~Idfa7feb9157cdf12af9641be10c8eb8478930f15,openstack/kolla-ansible,stable/stein,,Idfa7feb9157cdf12af9641be10c8eb8478930f15,Manage octavia health manager worker through openstack_service worker,MERGED,2020-07-09 00:19:10.000000000,2020-07-09 08:11:37.000000000,2020-07-09 08:08:53.000000000,3,0,0,740135,a96ca60658b597ac0b2a04f05bb87f0ed6fd2c55,8,3,1,1,7488,Jeffrey Zhang,Jeffrey4l,"Manage octavia health manager worker through openstack_service worker

Change-Id: Idfa7feb9157cdf12af9641be10c8eb8478930f15
Closes-Bug: #1886747
(cherry picked from commit 1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4)
"
openstack%2Frally-openstack~master~I8b24286eaae23d948430e0ace5bc26a18f9a09fc,openstack/rally-openstack,master,,I8b24286eaae23d948430e0ace5bc26a18f9a09fc,Add security group neutron context,NEW,2020-07-06 19:09:39.000000000,2020-07-09 08:02:35.000000000,,327,0,0,739589,cfcee0585bec11a909b64a773f0dd2116864d9bb,5,1,3,7,30421,Asma Syed Hameed,asyedham,"Add security group neutron context

This patch adds ports and security_groups to neutron
context to allow this resources to be created during
rally context.

Change-Id: I8b24286eaae23d948430e0ace5bc26a18f9a09fc
"
openstack%2Fironic~master~I5fba89f5611cf6be3054f27ce7e04404b802dc16,openstack/ironic,master,,I5fba89f5611cf6be3054f27ce7e04404b802dc16,error wold confiuration to configuration,ABANDONED,2020-07-09 07:40:28.000000000,2020-07-09 07:55:47.000000000,,1,1,0,740174,2b2f394b31e584fb54a0bc1111c89ee2611edfa2,3,3,1,1,32148,liuyuanfeng,liuyuanfeng,"error wold confiuration to configuration

Change-Id: I5fba89f5611cf6be3054f27ce7e04404b802dc16
"
openstack%2Ffreezer-dr~master~I57bcfc2ee2e8cf764c54800beb0a2ec5788b52a1,openstack/freezer-dr,master,drop_future_imports,I57bcfc2ee2e8cf764c54800beb0a2ec5788b52a1,Stop to use the __future__ module.,NEW,2020-06-02 18:13:48.000000000,2020-07-09 07:52:49.000000000,,0,2,0,732839,3ca1dc7c6ab90afb84e52cb1fe718317a5595600,7,3,3,1,28522,Hervé Beraud,hberaud,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I57bcfc2ee2e8cf764c54800beb0a2ec5788b52a1
"
openstack%2Fopenstack-helm-infra~master~If607e168515f55478e9e55e421738d2d00269d3f,openstack/openstack-helm-infra,master,,If607e168515f55478e9e55e421738d2d00269d3f,[Ceph-osd] Avoid using lsblk/blkid.,MERGED,2020-05-26 22:16:07.000000000,2020-07-09 07:34:09.000000000,2020-07-09 07:30:37.000000000,9,2,0,730998,4841f53ca6cfd56bff046cba431ce89fa8500733,32,6,12,1,17119,Dmitrii Kabanov,dk370c,"[Ceph-osd] Avoid using lsblk/blkid.

The PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).
Also it allows to avoid deadlocks when there are RBDs mapped on the host.

Change-Id: If607e168515f55478e9e55e421738d2d00269d3f
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I8367fb3b140f38bb61a32dedafd36052897ce80b,openstack/python-tripleoclient,stable/ussuri,test,I8367fb3b140f38bb61a32dedafd36052897ce80b,Run tripleo-build-containers-ubi-8 under specific conditions,MERGED,2020-07-06 19:42:39.000000000,2020-07-09 06:53:31.000000000,2020-07-09 06:48:44.000000000,4,0,0,739597,be697b368bd7e37fca2c5efe78f9da7a4b749569,24,4,7,1,3153,Emilien Macchi,emilienm,"Run tripleo-build-containers-ubi-8 under specific conditions

Only run tripleo-build-containers-ubi-8-ussuri when we touch the code
that builds container images.

Depends-On: https://review.opendev.org/736751
Depends-On: https://review.opendev.org/739596

Change-Id: I8367fb3b140f38bb61a32dedafd36052897ce80b
(cherry picked from commit 9806e3908bde5bdf59e3eb6518664adc5d486c9d)
"
openstack%2Ftripleo-common~stable%2Fussuri~Ib099c3be867f41c66b088de50d9e176cdcc0592c,openstack/tripleo-common,stable/ussuri,images/new-stable/ussuri,Ib099c3be867f41c66b088de50d9e176cdcc0592c,Implement a new Container Images layout,MERGED,2020-06-18 15:40:37.000000000,2020-07-09 06:53:28.000000000,2020-07-09 06:48:43.000000000,2544,0,1,736751,1473cad030c92ad3585035b3f5fcf6f1f8afe5e3,48,5,6,128,7353,Kevin Carter,cloudnull,"Implement a new Container Images layout

- Kolla files that we need to copy into the images. We removed the bits
  for Debian/Ubuntu and Upgrades stuffs that we don't use in TripleO.
- A containerfile conversion tool has been added. This tool will interpret
  docker files and convert them to a simplified tcib format.
- TCIB aka TripleO Container Image Build, a new directory with the image
  configs. One file per image, following a simple structure.
  All images were pushed, we'll make some adjustments later.

Change-Id: Ib099c3be867f41c66b088de50d9e176cdcc0592c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit b84805d38d4c9e63b0452692f75b29d651356bb0)
"
openstack%2Fneutron-lib~master~Ibb78270c54d1775b0596a00ae652f6f0b7f7dff8,openstack/neutron-lib,master,dontdelete/rehome_security_groups,Ibb78270c54d1775b0596a00ae652f6f0b7f7dff8,WIP: rehome security_group api-def into neutron-lib,ABANDONED,2019-12-12 15:26:32.000000000,2020-07-09 06:28:22.000000000,,375,0,3,698741,aa6dc7c5455e936d5c4a9e01f03f521a5149bfd7,5,2,1,6,8313,Lajos Katona,elajkat,"WIP: rehome security_group api-def into neutron-lib

This patch rehomes neutron.extensions.securitygroups API definition and
associated exceptions into neutron-lib.

Unit tests and release note are also included.

Change-Id: Ibb78270c54d1775b0596a00ae652f6f0b7f7dff8
"
openstack%2Fironic~bugfix%2F15.1~I9225461c5088d1b77c5d18a3647300712d8c86f5,openstack/ironic,bugfix/15.1,create-15.1,I9225461c5088d1b77c5d18a3647300712d8c86f5,Update .gitreview for bugfix/15.1,MERGED,2020-07-08 19:08:19.000000000,2020-07-09 06:04:37.000000000,2020-07-08 21:51:26.000000000,1,0,0,740092,db324a8bb155949e1d98534150632183bed3ecf9,9,4,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for bugfix/15.1

Change-Id: I9225461c5088d1b77c5d18a3647300712d8c86f5
"
openstack%2Fcinder~master~Icbc1fbb1c9dcf3312860e504adb134811259c817,openstack/cinder,master,add-coverage-job,Icbc1fbb1c9dcf3312860e504adb134811259c817,Add non-voting code coverage job,MERGED,2020-06-30 20:02:33.000000000,2020-07-09 05:11:06.000000000,2020-07-08 23:38:35.000000000,20,0,0,738687,416e61e6499433f5b535d7011a6b23e26b31989d,149,32,8,1,5314,Brian Rosmaita,brian-rosmaita,"Add non-voting code coverage job

Change-Id: Icbc1fbb1c9dcf3312860e504adb134811259c817
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I614766bd9b111bda9ddfea0a60b032e1dee09abc,openstack/tripleo-ansible,stable/ussuri,systemd/ussuri,I614766bd9b111bda9ddfea0a60b032e1dee09abc,Introduce an Action Plugin to manage systemd services for containers,MERGED,2020-07-08 14:17:22.000000000,2020-07-09 05:09:50.000000000,2020-07-09 05:09:50.000000000,376,140,0,739998,7f56c0c559e9e0db84aa4064ba04c50edef255c4,11,4,1,7,3153,Emilien Macchi,emilienm,"Introduce an Action Plugin to manage systemd services for containers

Instead of running a bunch of tasks to manage systemd resources, move
it into an action plugin which should make the execution faster and
easier to debug as well.

Example of task:
- name: Manage container systemd services
  container_systemd:
    container_config:
      - keystone:
          image: quay.io/tripleo/keystone
          restart: always
      - mysql:
          image: quay.io/tripleo/mysql
          stop_grace_period: 25
          restart: always

The output is ""restarted"" for the list of services that were actually
restarted in systemd.

Note on testing: since that module is consummed by
tripleo_container_manage role, there is no need to create dedicated
molecule tests, we already cover containers with restart policy in that
role's molecule tests. So we'll re-use it.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>

Change-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc
(cherry picked from commit af7f083066574dcefe637b3aae5026de4573d954)
"
openstack%2Fpuppet-neutron~master~Id6e609d0a556e23c484f38f4651d2709d898a76c,openstack/puppet-neutron,master,,Id6e609d0a556e23c484f38f4651d2709d898a76c,Nuage: remove check on mechanism driver,MERGED,2020-07-07 05:09:19.000000000,2020-07-09 05:02:28.000000000,2020-07-08 23:31:57.000000000,0,22,2,739657,9fc323f48a466dfb5bc64c048a67ce878599ff2f,26,6,5,2,13988,Vlad Gridin,gridinv,"Nuage: remove check on mechanism driver

Nuage neutron integration has a collection of mechanism
drivers sharing same configuration. This patchset removes check
on nuage ml2 mechanism driver which is not mandatory anymore.

Change-Id: Id6e609d0a556e23c484f38f4651d2709d898a76c
"
openstack%2Fcinder~master~I2d4f4e522e4a1b655858cdc041c207bbcade11f4,openstack/cinder,master,bug/1877028,I2d4f4e522e4a1b655858cdc041c207bbcade11f4,Query error state volumes should contain error_managing state,ABANDONED,2020-05-06 07:52:54.000000000,2020-07-09 03:51:02.000000000,,81,2,5,725778,6b184f019f31952f72ede5dc340b020c98c5cc1e,74,33,3,4,30407,haixin,haixin,"Query error state volumes should contain error_managing state

When we fail to manage a volume, we use cinder list to view the volume
list, or use cinder show to view the volume details, We can see that the
volume state is error.
But when we filter the list of volumes by specifying the status as
error,We found that there were no manage failed volumes in the
screening results,this will confuse the user.
so what needs to be fixed?

(A) when a user filters on status=error, volumes in (internal) status
error_managing should also be included
(B) when a user filters on status=creating, volumes in (internal) status
managing should also be included
(C) when a user filters on status=deleting, volumes in (internal) status
error_managing_deleting should also be included
(D) when a user filters on any status that's not in the official list,
they should get an empty list of volumes (need to verify that's the
current behavior, but I'm pretty sure that if you GET
/v3/v3/{project_id}/volumes/detail?status=not-a-status you get the
response { ""volumes"": [] }, not a 400). Currently we rely on the
database for this, but we may need to handle it in the REST API layer.
(E) fixing the ""like"" operator from microversion 3.34 is going to be
tricky. ?status~=error should include volumes in statuses error,
error_deleting, error_backing-up, error_restoring, and error_extending
(and error_managing), but NOT include volumes with status
error_managing_deleting. ?status~=creating should include volumes with
(internal) status 'managing'. ?status~=deleting (I think) probably works
as expected. I think the ""like"" operator is handled in the DB layer
right now.

Closes-Bug:#1877028
Closes-Bug:#1885961

Change-Id: I2d4f4e522e4a1b655858cdc041c207bbcade11f4
"
openstack%2Fopenstack-helm~master~I66681c8556a289b57b9c7d7ca10d9819dd9298a2,openstack/openstack-helm,master,,I66681c8556a289b57b9c7d7ca10d9819dd9298a2,[dnm],ABANDONED,2020-07-09 01:24:29.000000000,2020-07-09 03:20:28.000000000,,2264,63,0,740141,3dc6fbd77722d2e75037299096f58f47915d791f,4,0,3,123,8863,Andrii Ostapenko,aostapenko,"[dnm]

Depends-on: https://review.opendev.org/#/c/737194/
Change-Id: I66681c8556a289b57b9c7d7ca10d9819dd9298a2
"
openstack%2Fopenstack-helm-infra~master~I4f70cc4fa8aa75a5dbd3fad92b2c9bda610c4c44,openstack/openstack-helm-infra,master,,I4f70cc4fa8aa75a5dbd3fad92b2c9bda610c4c44,[dnm],ABANDONED,2020-07-09 01:35:32.000000000,2020-07-09 03:19:25.000000000,,144,144,0,740143,98bf63e87865b7f755a41f81e49c2642402f59bc,5,1,3,41,8863,Andrii Ostapenko,aostapenko,"[dnm]

Change-Id: I4f70cc4fa8aa75a5dbd3fad92b2c9bda610c4c44
"
openstack%2Fopenstack-helm~master~I2cfa6d71b196c7562dab5918c6c192b6620c973c,openstack/openstack-helm,master,,I2cfa6d71b196c7562dab5918c6c192b6620c973c,[dnm],ABANDONED,2020-07-09 01:18:19.000000000,2020-07-09 03:18:24.000000000,,0,2,0,740140,d3fa30591f115fadbb721d26eaf0569786e9a3c5,5,1,3,1,8863,Andrii Ostapenko,aostapenko,"[dnm]

Change-Id: I2cfa6d71b196c7562dab5918c6c192b6620c973c
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fopenstack-helm~master~Ib0e28e3157a1aa09a49e62fc01e6dcb3d0d65c0a,openstack/openstack-helm,master,,Ib0e28e3157a1aa09a49e62fc01e6dcb3d0d65c0a,[dnm],ABANDONED,2020-07-09 01:36:51.000000000,2020-07-09 03:17:53.000000000,,255,255,0,740144,82c43bdf5cd847821a3a3e8c3ff4af6c9b0972e0,5,1,3,20,8863,Andrii Ostapenko,aostapenko,"[dnm]

Change-Id: Ib0e28e3157a1aa09a49e62fc01e6dcb3d0d65c0a
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fopenstack-helm~master~I102847dfec5417bbe099f2734fb7923c1dffc349,openstack/openstack-helm,master,,I102847dfec5417bbe099f2734fb7923c1dffc349,[dnm],ABANDONED,2020-07-09 01:37:56.000000000,2020-07-09 03:17:20.000000000,,2264,63,0,740145,3ed494e12b6626abd52233500f05a34e9596d447,4,0,3,123,8863,Andrii Ostapenko,aostapenko,"[dnm]

Depends-on: https://review.opendev.org/#/c/737194/
Change-Id: I102847dfec5417bbe099f2734fb7923c1dffc349
"
openstack%2Fdesignate~master~I59926bc1c116ec6fa0aef270a18001d27dfd3bb3,openstack/designate,master,drop_mock,I59926bc1c116ec6fa0aef270a18001d27dfd3bb3,Use unittest.mock instead of mock,MERGED,2020-06-08 22:07:38.000000000,2020-07-09 02:21:33.000000000,2020-07-09 02:20:04.000000000,1,1,0,734329,2dd101a3af92b357cf54f3f6983db293fea60934,15,5,1,1,28522,Hervé Beraud,hberaud,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I59926bc1c116ec6fa0aef270a18001d27dfd3bb3
"
openstack%2Fironic-lib~stable%2Ftrain~I874783b8ece0eedf27a94dfed5163d0c82f8b9de,openstack/ironic-lib,stable/train,train-basic-auth,I874783b8ece0eedf27a94dfed5163d0c82f8b9de,Implement Basic HTTP authentication middleware,ABANDONED,2020-07-05 21:27:36.000000000,2020-07-09 02:02:58.000000000,,422,0,0,739375,65eae3a8a810240bc73e2a2d52bc4c8c6fd6233a,4,2,1,6,4571,Steve Baker,steve-stevebaker,"Implement Basic HTTP authentication middleware

This middleware is added to ironic-lib so that it can eventually be
used by ironic and ironic-inspector as an alternative to noauth in
standalone environments.

This middleware is passed a path to a file which supports the
Apache htpasswd syntax[1]. This file is read for every request, so no
service restart is required when changes are made.

The only password digest supported is bcrypt, and the ``bcrypt``
python library is used for password checks since it supports ``$2y$``
prefixed bcrypt passwords as generated by the Apache htpasswd utility.

[1] https://httpd.apache.org/docs/current/misc/password_encryptions.html

Change-Id: I874783b8ece0eedf27a94dfed5163d0c82f8b9de
Story: 2007656
Task: 39740
(cherry picked from commit a9abc5699f0842082177ff2401955214373c08de)
"
openstack%2Fironic-lib~stable%2Fussuri~I874783b8ece0eedf27a94dfed5163d0c82f8b9de,openstack/ironic-lib,stable/ussuri,ussuri-basic-auth,I874783b8ece0eedf27a94dfed5163d0c82f8b9de,Implement Basic HTTP authentication middleware,ABANDONED,2020-07-05 21:20:34.000000000,2020-07-09 02:02:45.000000000,,422,0,0,739374,25d978b0e06c5a6c7b48181f69b199eac45a4198,5,2,1,6,4571,Steve Baker,steve-stevebaker,"Implement Basic HTTP authentication middleware

This middleware is added to ironic-lib so that it can eventually be
used by ironic and ironic-inspector as an alternative to noauth in
standalone environments.

This middleware is passed a path to a file which supports the
Apache htpasswd syntax[1]. This file is read for every request, so no
service restart is required when changes are made.

The only password digest supported is bcrypt, and the ``bcrypt``
python library is used for password checks since it supports ``$2y$``
prefixed bcrypt passwords as generated by the Apache htpasswd utility.

[1] https://httpd.apache.org/docs/current/misc/password_encryptions.html

Change-Id: I874783b8ece0eedf27a94dfed5163d0c82f8b9de
Story: 2007656
Task: 39740
(cherry picked from commit a9abc5699f0842082177ff2401955214373c08de)
"
openstack%2Fpuppet-glance~master~I380868884abe92b35e93c3bf22d877838d0eac55,openstack/puppet-glance,master,at-interface,I380868884abe92b35e93c3bf22d877838d0eac55,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 02:03:06.000000000,2020-07-09 01:47:45.000000000,2020-07-09 01:46:25.000000000,28,0,0,739872,0b973b4648dd0f5cc74ae70588a1e37f7636a0af,16,4,3,5,9816,Takashi Kajinami,kajinamit,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I380868884abe92b35e93c3bf22d877838d0eac55
"
openstack%2Fcharm-ceilometer-agent~master~Ica00b89582725480df07fd4ffac7f11c906105c0,openstack/charm-ceilometer-agent,master,,Ica00b89582725480df07fd4ffac7f11c906105c0,Pin mongodb charm to 53 for trusty-mitaka,ABANDONED,2020-07-06 19:16:08.000000000,2020-07-09 01:22:22.000000000,,1,1,0,739590,3068b20cb9031147a70ef530c3e11ff8d3814f74,7,3,1,1,14567,Rodrigo Barbieri,ganso,"Pin mongodb charm to 53 for trusty-mitaka

Same as change https://review.opendev.org/739153

Change-Id: Ica00b89582725480df07fd4ffac7f11c906105c0
"
openstack%2Fkolla-ansible~master~Idfa7feb9157cdf12af9641be10c8eb8478930f15,openstack/kolla-ansible,master,,Idfa7feb9157cdf12af9641be10c8eb8478930f15,Manage octavia health manager worker through openstack_service worker,MERGED,2020-07-08 03:36:31.000000000,2020-07-09 00:19:10.000000000,2020-07-08 16:50:56.000000000,3,0,0,739882,1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4,13,4,1,1,7488,Jeffrey Zhang,Jeffrey4l,"Manage octavia health manager worker through openstack_service worker

Change-Id: Idfa7feb9157cdf12af9641be10c8eb8478930f15
Closes-Bug: #1886747
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01,openstack/tripleo-ansible,stable/train,molecule/train,I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01,Molecule testing for TripleO Strategy Plugins,MERGED,2020-07-06 19:06:54.000000000,2020-07-08 23:46:40.000000000,2020-07-08 23:46:40.000000000,219,0,5,739587,1b29ddbd1ee2974f21c06436eff9cace2e8f5be2,28,4,8,8,3153,Emilien Macchi,emilienm,"Molecule testing for TripleO Strategy Plugins

For both tripleo_free and tripleo_linear, add molecule tests that will
execute a simple task (for now) and test the max_fail_percentage value
that is defined in the Ansible inventory.

We simulate a failure on one compute node, which shouldn't make the
playbook failing since we tolerate 50% of failure (we have 6 nodes and
one failure).

Change-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01
(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)
"
openstack%2Fopenstack-helm-infra~master~I98644981094cb4fb7cc348b80628006ab59cb77f,openstack/openstack-helm-infra,master,,I98644981094cb4fb7cc348b80628006ab59cb77f,"[Ceph-OSD] Wait for pods before running ""post-apply"" job.",MERGED,2020-07-07 21:41:32.000000000,2020-07-08 23:46:23.000000000,2020-07-08 23:44:41.000000000,2,0,0,739857,ea038c5c85cf797cc5e23dae8d7e4a1036a295a1,13,6,2,1,17119,Dmitrii Kabanov,dk370c,"[Ceph-OSD] Wait for pods before running ""post-apply"" job.

The PS updates ""post-apply"" job and adds execution of ""wait_for_pods""
function as the first step of the job.

Change-Id: I98644981094cb4fb7cc348b80628006ab59cb77f
"
openstack%2Fneutron~master~Ib25d74aee6c0d257bf4ec92dea56f904711e2fa7,openstack/neutron,master,ipv6,Ib25d74aee6c0d257bf4ec92dea56f904711e2fa7,WIP: Test ipv6 with ovn,NEW,2020-07-08 14:18:56.000000000,2020-07-08 23:45:44.000000000,,7,2,0,739999,93a727912869b3f059e911c3b1adeac00bed130c,2,1,1,1,8655,Jakub Libosvar,jlibosva,"WIP: Test ipv6 with ovn

The RA bug has been fixed in core OVN. Test if we were hitting that one.

Change-Id: Ib25d74aee6c0d257bf4ec92dea56f904711e2fa7
"
openstack%2Fneutron~master~I7f4366ff5a26f73013433bfbfb299fd06294f359,openstack/neutron,master,bug/1873091,I7f4366ff5a26f73013433bfbfb299fd06294f359,Sync the dns-assignment with the actual designate dns-domain,MERGED,2020-05-28 23:22:38.000000000,2020-07-08 23:43:57.000000000,2020-07-08 23:38:32.000000000,11,0,0,731624,ea13f2e83f8c2de3def69b6c883a5c161c3a6180,47,9,5,3,31039,hamza,hamalq,"Sync the dns-assignment with the actual designate dns-domain

When a port is created the dns-assignment (dns-domain part)
was always taken form Neutron config dns_domain which is not
always true, since it could be Neutron network dns_domain or
the dns_domain sent when creating the port

Change-Id: I7f4366ff5a26f73013433bfbfb299fd06294f359
Closes-Bug:1873091
"
openstack%2Fopenstack-helm-infra~master~I8d1057f242b741fd297eca7475eb3bfb5e383f1c,openstack/openstack-helm-infra,master,elastic,I8d1057f242b741fd297eca7475eb3bfb5e383f1c,Add missing security context to elasticsearch pods/containers,MERGED,2020-07-07 01:05:41.000000000,2020-07-08 23:22:02.000000000,2020-07-08 23:20:09.000000000,24,2,5,739630,eec5635f437103c0ac66020ffdfd44e6917c5532,18,12,5,4,29161,Rahul Khiyani,rk0850,"Add missing security context to elasticsearch pods/containers

This updates the elasticsearch chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: I8d1057f242b741fd297eca7475eb3bfb5e383f1c
"
openstack%2Fironic-inspector~bugfix%2F10.2~I38e086290ba880b149fe193692c43483a8a1295a,openstack/ironic-inspector,bugfix/10.2,create-10.2,I38e086290ba880b149fe193692c43483a8a1295a,Update .gitreview for bugfix/10.2,MERGED,2020-07-08 18:45:05.000000000,2020-07-08 23:03:32.000000000,2020-07-08 22:13:18.000000000,1,0,0,740084,c029455093c56ea6dccda04ce810abb732eda097,8,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for bugfix/10.2

Change-Id: I38e086290ba880b149fe193692c43483a8a1295a
"
openstack%2Fironic-lib~master~Idc0c845dc499768d8f6ea2859596bc6e391c9f60,openstack/ironic-lib,master,tox-m-pip,Idc0c845dc499768d8f6ea2859596bc6e391c9f60,Set min version of tox to 3.2.1,MERGED,2020-07-06 09:15:45.000000000,2020-07-08 22:16:53.000000000,2020-07-08 22:15:09.000000000,1,1,0,739436,01574fa23a5bb8991167ccdfc0e1fd1196534d77,10,3,2,1,23851,Riccardo Pittau,elfosardo,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: Idc0c845dc499768d8f6ea2859596bc6e391c9f60
"
openstack%2Fironic~master~Ifdb63a80d4138a41fd0bac9880d14c90a4378fe5,openstack/ironic,master,get_rootfs_uuid,Ifdb63a80d4138a41fd0bac9880d14c90a4378fe5,[doc] Describe how to extract an fs UUID from an image,MERGED,2020-07-02 12:25:24.000000000,2020-07-08 22:07:34.000000000,2020-07-08 21:59:24.000000000,11,1,2,739027,25dbdb7dc707e5b65d49d05baefaa267c8659669,19,7,3,1,11292,Arne Wiebalck,wiebalck,"[doc] Describe how to extract an fs UUID from an image

For software RAID, the image needs to have the root filesystem UUID
as metadata. This patch describe how to extract this UUID from an
existing image.

Change-Id: Ifdb63a80d4138a41fd0bac9880d14c90a4378fe5
"
openstack%2Fopenstack-helm-infra~master~I6bf1f483999a10322362aa18bd43bc09cef7ffe9,openstack/openstack-helm-infra,master,,I6bf1f483999a10322362aa18bd43bc09cef7ffe9,Fix ALLOW_UNAUTHENTICATED for bionic kubeadm-AIO,MERGED,2020-07-08 18:04:02.000000000,2020-07-08 21:45:46.000000000,2020-07-08 21:41:49.000000000,4,1,0,740074,a0ca4a3bb9d79695ec424556e292084318eca62b,12,4,3,1,8863,Andrii Ostapenko,aostapenko,"Fix ALLOW_UNAUTHENTICATED for bionic kubeadm-AIO

Change-Id: I6bf1f483999a10322362aa18bd43bc09cef7ffe9
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fopenstack-helm-infra~master~Ie42af89551bd8804b87fe936c676e85130564187,openstack/openstack-helm-infra,master,,Ie42af89551bd8804b87fe936c676e85130564187,allocate_data_node function improvement,MERGED,2020-07-02 19:25:03.000000000,2020-07-08 21:43:24.000000000,2020-07-08 21:41:48.000000000,18,15,12,739137,e89c1c3c06c75ae84b61f384aba5e8a458ad4c57,29,8,7,1,31713,William Zhang,willxz,"allocate_data_node function improvement

- Remove ""if"" condition of allocate_data_node
- Dealy 5 seconds for wait_to_join initial check to start
- Set 60 minutes timeout for wait_to_join function

Change-Id: Ie42af89551bd8804b87fe936c676e85130564187
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I04cb72210fbd25a720158988698a300140f4e7db,openstack/tripleo-heat-templates,stable/train,bug/1886203-stable/train,I04cb72210fbd25a720158988698a300140f4e7db,undercloud/heat: set YAQL memory quota to 200000,MERGED,2020-07-07 01:16:40.000000000,2020-07-08 21:39:36.000000000,2020-07-08 21:39:36.000000000,1,0,0,739632,39c977afb6a3292c57914658453795c9eab51271,21,4,2,1,3153,Emilien Macchi,emilienm,"undercloud/heat: set YAQL memory quota to 200000

Since the ""optimization"" [1] of host entries in Heat and it's YAQLization,
we need to increase the memory quota for YAQL queries or the resource
will fail to process at large scale (250 nodes).

[1] 3b8e6f78e19e776c087dc5c3ff225703b5c487bc

Change-Id: I04cb72210fbd25a720158988698a300140f4e7db
Closes-Bug: #1886203
(cherry picked from commit c67c53a8d8094382bc75e7d56480ecb3f8897610)
"
openstack%2Fneutron-specs~master~I15877081f685832d9fc71c2ed167968910c4ee57,openstack/neutron-specs,master,neutron_dns_assignment,I15877081f685832d9fc71c2ed167968910c4ee57,Move port_dns_assignment spec to the Victoria release,MERGED,2020-07-02 12:53:06.000000000,2020-07-08 21:35:01.000000000,2020-07-07 23:07:37.000000000,0,0,2,739035,ebbb6054317b8c2f030bc0ed69669d0c3cf93112,11,6,1,1,11975,Slawek Kaplonski,slaweq,"Move port_dns_assignment spec to the Victoria release

This spec should be merged to victoria directory but was by mistake
proposed to the Ussuri. So this fixes it.

Change-Id: I15877081f685832d9fc71c2ed167968910c4ee57
"
openstack%2Fcharm-ceilometer~master~I7a1df0c0fabc17de525fb1458169bc32e7dad962,openstack/charm-ceilometer,master,batch-groovy-ch-libs,I7a1df0c0fabc17de525fb1458169bc32e7dad962,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:27:34.000000000,2020-07-08 21:27:55.000000000,2020-07-08 21:27:55.000000000,15,14,0,732625,05616eb1fa4f8861f5471a4e33386afe34609f45,19,5,2,1,20870,Alex Kavanagh,ajkavanagh,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I7a1df0c0fabc17de525fb1458169bc32e7dad962
"
openstack%2Ftripleo-heat-templates~master~Ib011963d864dad44947d6ca0902937f84b19f5b5,openstack/tripleo-heat-templates,master,idempotency,Ib011963d864dad44947d6ca0902937f84b19f5b5,"volumes: remove trailing ""/"" at the end of a directory bind mount",ABANDONED,2020-07-08 21:08:08.000000000,2020-07-08 21:19:50.000000000,,73,73,9,740117,8994174af920feeac8590f3cf94fadfef42aea56,4,2,1,42,3153,Emilien Macchi,emilienm,"volumes: remove trailing ""/"" at the end of a directory bind mount

Podman remove them when bind mouting the volumes into the containers, so
the config data which has the ""/"" won't match with the ""podman inspect""
data which won't have the ""/"" (removed by podman).

Removing them in THT will help to make these containers idempotent.

Change-Id: Ib011963d864dad44947d6ca0902937f84b19f5b5
"
openstack%2Fopenstack-helm-infra~master~I1ef27858b5b02d367eea1c24447aefa2b6712458,openstack/openstack-helm-infra,master,,I1ef27858b5b02d367eea1c24447aefa2b6712458,Add openstack-helm-single-16GB-node nodeset,MERGED,2020-07-08 12:19:24.000000000,2020-07-08 21:18:46.000000000,2020-07-08 21:11:08.000000000,10,0,0,739967,0242d974375b3bc8cb661c2628ea2d501180217f,8,5,1,1,8863,Andrii Ostapenko,aostapenko,"Add openstack-helm-single-16GB-node nodeset

Based on 8 CPU 16GB memory ubuntu-bionic-expanded label

Change-Id: I1ef27858b5b02d367eea1c24447aefa2b6712458
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fneutron~master~Iea4a82a21d32a064ff5dd530e104a2de2efb46b5,openstack/neutron,master,port-groups-removal,Iea4a82a21d32a064ff5dd530e104a2de2efb46b5,ovn: Remove UpdateACLsCommand,MERGED,2020-06-10 15:21:10.000000000,2020-07-08 21:18:35.000000000,2020-07-08 21:15:25.000000000,0,535,0,734876,e748f3f2d800de6c84b6fe835edfa1385bc223b1,25,8,1,5,8655,Jakub Libosvar,jlibosva,"ovn: Remove UpdateACLsCommand

This patch removes unused UpdateACLsCommand which was previously used by the
code using Address Sets but that has been already removed. OpenStack API
doesn't implement update operation for security group rules so this
command is not needed anymore.

Change-Id: Iea4a82a21d32a064ff5dd530e104a2de2efb46b5
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I986391617231b9dd23aa487d73db490db84f61ce,openstack/tripleo-heat-templates,stable/train,collaps/deploy/train,I986391617231b9dd23aa487d73db490db84f61ce,Collapse deploy steps,MERGED,2020-07-06 15:20:52.000000000,2020-07-08 21:16:55.000000000,2020-07-08 21:16:55.000000000,28,68,0,739519,cbefd789d09628bddc3447b61e2dce380d94d6a9,25,5,5,1,3153,Emilien Macchi,emilienm,"Collapse deploy steps

Once again we're splitting the deployment steps into multiple plays
which causes ansible to artificially stop at the end of each play when
using a free-style strategy. By combining the deploy steps, bootstrap
tasks and common deploy steps, we can run each step to completion in
parallel rather than stopping at each of these for every step. This will
reduce the overall play count to (1*6) instead of (3*6+1)

Change-Id: I986391617231b9dd23aa487d73db490db84f61ce
(cherry picked from commit f82af5595a7e8b377a7aef66b947b73b5ec8ae90)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I5c91122b6cbd731d369b19b13fd011114dd48175,openstack/tripleo-ansible,stable/train,,I5c91122b6cbd731d369b19b13fd011114dd48175,Simplify ssh_known_hosts role,MERGED,2020-06-17 14:12:04.000000000,2020-07-08 20:59:51.000000000,2020-07-08 20:59:51.000000000,223,22,0,736229,5dd61d3b0acdb1fc9e4287fd194529724aca0342,26,8,3,8,23811,Oliver Walsh,owalsh,"Simplify ssh_known_hosts role

This is only required for compute nodes running nova_migration_target so
we can simplify the logic significantly.

The host.network entries are now omitted as cold/live migration only uses
either the fqdn,short hostname, or IP. This should help a little with scaling
too as ssh_host_keys can get gigantic with a large number of computes.

We can assume the remaining vars for networks and fqdn/ip are all set as host
or role group vars in the inventory.
Just in case fallback to basic entry when the host vars are missing.

This should also make it easier for operators to run the role in isolation
e.g to quickly fix up the ssh keys on any compute hosts omittied from a
scale-up.

Also fixes bug #1861296 which was caused by attempting to use set to override
a jinja2 var from an outer scope.

Change-Id: I5c91122b6cbd731d369b19b13fd011114dd48175
Depends-On: https://review.opendev.org/#/c/704919/
Closes-bug: #1861296
(cherry picked from commit 07946456d0380b441f75aeb3f7d5bec229f33bf1)
"
openstack%2Foslo.messaging~stable%2Ftrain~I5ca930cada523bc77c644703a0f02b9160816231,openstack/oslo.messaging,stable/train,bug/1871813-stable/ussuri-stable/train,I5ca930cada523bc77c644703a0f02b9160816231,Print warning message when connection running out,MERGED,2020-06-10 04:26:31.000000000,2020-07-08 20:55:46.000000000,2020-07-08 11:13:20.000000000,4,0,0,734740,1613b7a968f33ef7dc683d05fde05be0c458c8fc,26,5,2,1,29071,norman shen,ushen,"Print warning message when connection running out

I believe when connection pool running out of available
resources, there will be all kinds of weird consequences
following. So let's print warning logs when we are going
to waiting indefinitely for the lock

Change-Id: I5ca930cada523bc77c644703a0f02b9160816231
Related-bug: #1871813
(cherry picked from commit 96300a32213d1a9bf114b90bef6971d69b839d1d)
(cherry picked from commit 39f770f55b3331b7a99b3ea42a34982a20635cf2)
"
openstack%2Ftripleo-heat-templates~master~I257c0f4f73e616f159860916ec1db704bd195b86,openstack/tripleo-heat-templates,master,bug/1885924,I257c0f4f73e616f159860916ec1db704bd195b86,Task should fail on any failure,MERGED,2020-07-06 12:24:12.000000000,2020-07-08 20:51:28.000000000,2020-07-08 16:01:15.000000000,1,0,0,739470,1192ea1684f607d647e46b96471d921e0d05342b,11,10,1,1,11090,Sergii Golovatiuk,holser,"Task should fail on any failure

Ansible should fail on any command in this task not only on last one.

Change-Id: I257c0f4f73e616f159860916ec1db704bd195b86
Closes-Bug: #1885924
"
openstack%2Ftripleo-common~stable%2Ftrain~I397f8d641504ac2ceed36fa975cf97fac5bbb81a,openstack/tripleo-common,stable/train,,I397f8d641504ac2ceed36fa975cf97fac5bbb81a,Catch exception if servers are in error state with no bm_node attached,MERGED,2020-07-07 11:14:46.000000000,2020-07-08 20:45:37.000000000,2020-07-08 20:43:17.000000000,11,4,0,739713,8806829a6278386cae9b93b6084891830c83a2c1,12,4,2,1,30126,Luca Miccini,lmiccini2,"Catch exception if servers are in error state with no bm_node attached

There have been reports (rhbz#1851507) where generating the fencing
parameters fails because of one or more servers in error state, like
when a scale out operation doesn't go as planned.

This commit wraps get_by_instance_uuid in a try/except block to prevent
this from happening, skipping the node in error state and allowing
users to still get a valid fencing config for the remaining servers.

Note: manually cherry picked skipping the unit tests (conflict vs the
mistral_to_ansible patchset).

Change-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a
(cherry picked from commit 7d2c25319b10daad3d3ef6ba2ff656b10b716beb)
"
openstack%2Fmanila~master~Ibbe8ef5b49abbccd30bd2d551b737cac89180d4c,openstack/manila,master,,Ibbe8ef5b49abbccd30bd2d551b737cac89180d4c,[DNM] Disabling ``mark_qos_policy_group_for_deletion`` method,ABANDONED,2020-07-08 18:29:42.000000000,2020-07-08 20:41:59.000000000,,19,16,0,740081,6b2752ac6029f76245a303c1bb660c0adb692a40,3,0,1,2,31528,Daniel Tapia,danielarthurt,"[DNM] Disabling ``mark_qos_policy_group_for_deletion`` method

To test SVM scoped accounts, this method will be disabled to analyze
if its failure in retrieving QoS of a share, that is not allowed if not
using cluster credentials, is related with the TearDown problem in tests
on CI with SVM scoped accounts.

Change-Id: Ibbe8ef5b49abbccd30bd2d551b737cac89180d4c
"
openstack%2Fkolla-ansible~master~Ib37ea4d42f82096a682cebc724c45c9dd39c8b47,openstack/kolla-ansible,master,,Ib37ea4d42f82096a682cebc724c45c9dd39c8b47,Remove the ml2_conf.ini merging for agents,MERGED,2020-07-06 15:52:09.000000000,2020-07-08 19:49:58.000000000,2020-07-08 19:47:01.000000000,7,6,0,739525,c7d92ed6686ace1134167bbae778af68f676d593,20,4,6,2,30356,gugug,gujin,"Remove the ml2_conf.ini merging for agents

planned removal

Change-Id: Ib37ea4d42f82096a682cebc724c45c9dd39c8b47
"
openstack%2Fdevstack-plugin-ceph~master~Ic534a47fff17d36eb1ef128ad6af70a34ed942c9,openstack/devstack-plugin-ceph,master,,Ic534a47fff17d36eb1ef128ad6af70a34ed942c9,Use apt-get to update repos on Ubuntu,MERGED,2020-07-07 10:03:26.000000000,2020-07-08 19:36:38.000000000,2020-07-08 19:22:53.000000000,9,9,4,739694,16f8bef33b9278547eee540fb3bb0e5a84eb2d3d,20,6,3,1,10135,Lee Yarwood,lyarwood,"Use apt-get to update repos on Ubuntu

The use of apt to refresh repos is discouraged and prints the following
warning when used:

WARNING: apt does not have a stable CLI interface. Use with caution in scripts

The use of apt also appears to break on our Xenial based branches where
we enable the Xenial Queens Ubuntu Cloud Archive repos that are
unsigned. When using apt to refresh these repos apt returns a failure,
while apt-get only returns a warning.

This change simply switches to apt-get to avoid the above warning and to
allow the older Xenial based stable branches to continue to work.

Change-Id: Ic534a47fff17d36eb1ef128ad6af70a34ed942c9
"
openstack%2Fkolla-ansible~stable%2Ftrain~Ia1743e202e310fc88a61476c80eadf3855256c20,openstack/kolla-ansible,stable/train,bug/1859162-stable/train,Ia1743e202e310fc88a61476c80eadf3855256c20,Use kolla_logs volume for Elasticsearch,MERGED,2020-07-08 15:08:29.000000000,2020-07-08 19:33:06.000000000,2020-07-08 19:31:01.000000000,9,0,0,740015,0c1b326e32d7d6f1470e4ee6a83cfcafbdedcc69,8,4,1,2,17669,Doug Szumski,DougSzumski,"Use kolla_logs volume for Elasticsearch

This patch mounts the kolla_logs volume into the Elasticsearch
container so that logs are no longer written to the container
filesystem. It is up to the user to migrate any existing logs
into the kolla_logs volume, if they so desire.

Closes-Bug: #1859162
Change-Id: Ia1743e202e310fc88a61476c80eadf3855256c20
(cherry picked from commit 1917d1a9f54a86b1376b54652804070b307673ea)
"
openstack%2Fbifrost~bugfix%2F8.2~Ief1f6dc67f171bddcaf5ad54975e8e738c3f9bd8,openstack/bifrost,bugfix/8.2,create-8.2,Ief1f6dc67f171bddcaf5ad54975e8e738c3f9bd8,Update .gitreview for bugfix/8.2,MERGED,2020-07-08 13:48:41.000000000,2020-07-08 19:17:52.000000000,2020-07-08 19:08:26.000000000,1,0,0,739990,9184d5a79aa98fe05380f680af51595b6b081e3a,8,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for bugfix/8.2

Change-Id: Ief1f6dc67f171bddcaf5ad54975e8e738c3f9bd8
"
openstack%2Frpm-packaging~stable%2Frocky~I913715f8ee64d8aa1695f46e0103322e66362eef,openstack/rpm-packaging,stable/rocky,fix_cve_2020_10755,I913715f8ee64d8aa1695f46e0103322e66362eef,Add patches to os-brick to resolve CVE-2020-10755,MERGED,2020-07-06 13:46:03.000000000,2020-07-08 19:14:54.000000000,2020-07-08 19:14:54.000000000,281,1,1,739491,99ca3bad0bac53a03e18204f985bf63a9bf07b5e,43,9,5,3,14892,Keith Berger,kberger,"Add patches to os-brick to resolve CVE-2020-10755

This patch resovles a vulnerability in the ScaleIO driver.
[OSSN-0086] erratum: Dell EMC ScaleIO/VxFlex OS Backend
Credentials Exposure

Change-Id: I913715f8ee64d8aa1695f46e0103322e66362eef
"
openstack%2Fcinder~master~Ifef0a8b4b45f5e6a0960ddd0832f08a5d5760f7a,openstack/cinder,master,,Ifef0a8b4b45f5e6a0960ddd0832f08a5d5760f7a,tests: remove self.injected,MERGED,2020-05-19 18:11:00.000000000,2020-07-08 19:05:24.000000000,2020-07-08 18:48:18.000000000,0,8,0,729343,38fa7f66d0d9726a0ae816bb6cc2c834ec0a2fd8,42,28,1,1,4523,Eric Harney,eharney,"tests: remove self.injected

This is in the base TestCase but is not used
by anything.  Remove it.

Change-Id: Ifef0a8b4b45f5e6a0960ddd0832f08a5d5760f7a
"
openstack%2Fopenstack-helm-infra~master~I0a144e2a05b9617d2cb46bcb56c746ca05743c1b,openstack/openstack-helm-infra,master,,I0a144e2a05b9617d2cb46bcb56c746ca05743c1b,Node Exporter: Add rootfs mount argument,MERGED,2020-07-06 17:44:11.000000000,2020-07-08 19:04:24.000000000,2020-07-08 18:59:11.000000000,5,1,0,739560,ddc35266c94f67d01166765983d660bf933dcb22,9,4,1,2,30777,Steven Fitzpatrick,sf280x,"Node Exporter: Add rootfs mount argument

Change-Id: I0a144e2a05b9617d2cb46bcb56c746ca05743c1b
"
openstack%2Fcinder~master~I7c17d915389de79f686804f5f9d2b2eb5ab26334,openstack/cinder,master,,I7c17d915389de79f686804f5f9d2b2eb5ab26334,Move make_initiator_target_all2all_map out of vutils,MERGED,2020-05-19 14:54:27.000000000,2020-07-08 19:02:43.000000000,2020-07-08 18:48:14.000000000,26,27,0,729296,f2446b4f9049064b09c5b63a563b0ebaaacd3498,57,34,2,4,4523,Eric Harney,eharney,"Move make_initiator_target_all2all_map out of vutils

This is only used by one driver -- move it there.

Change-Id: I7c17d915389de79f686804f5f9d2b2eb5ab26334
"
openstack%2Fopenstack-helm-infra~master~I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1,openstack/openstack-helm-infra,master,ceph,I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1,Add missing security context to ceph-rgw and ceph-osd pods/containers,MERGED,2020-07-07 00:00:04.000000000,2020-07-08 19:02:34.000000000,2020-07-08 18:53:52.000000000,18,2,0,739623,00a64aa8071de745e422ed402c2e9057acb8b6fd,16,12,5,4,29161,Rahul Khiyani,rk0850,"Add missing security context to ceph-rgw and ceph-osd pods/containers

This updates the ceph-rgw and ceph-osd chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1
"
openstack%2Freleases~master~I7045ccddeb6517b105c9b73c21db822bd7380eed,openstack/releases,master,ironic-victoria-151,I7045ccddeb6517b105c9b73c21db822bd7380eed,Release ironic 15.1.0 for victoria,MERGED,2020-07-08 14:07:42.000000000,2020-07-08 18:59:15.000000000,2020-07-08 18:59:14.000000000,9,0,0,739993,9a08aff4240b20046e3522ef01792d4048004a11,10,3,1,1,23851,Riccardo Pittau,elfosardo,"Release ironic 15.1.0 for victoria

Also add stable-branch-type: std-with-versions to reflect change
in the release model.

Change-Id: I7045ccddeb6517b105c9b73c21db822bd7380eed
"
openstack%2Freleases~master~Ie4adba1ca399abb43abc7741e55e82968ba742f6,openstack/releases,master,,Ie4adba1ca399abb43abc7741e55e82968ba742f6,Release 5.3.0 of python-openstackclient,MERGED,2020-07-08 17:27:06.000000000,2020-07-08 18:59:13.000000000,2020-07-08 18:59:13.000000000,5,0,0,740069,d11077094bf40490cb9fbe5cf94bf067cabd4842,10,3,2,1,2,Monty Taylor,mordred,"Release 5.3.0 of python-openstackclient

Change-Id: Ie4adba1ca399abb43abc7741e55e82968ba742f6
"
openstack%2Freleases~master~Ie9d49a82ad4d8bddb47a22912e29746060e78305,openstack/releases,master,ironic-inspector-victoria-102,Ie9d49a82ad4d8bddb47a22912e29746060e78305,Release ironic-inspector 10.2.0 for victoria,MERGED,2020-07-08 13:27:58.000000000,2020-07-08 18:40:33.000000000,2020-07-08 18:40:33.000000000,9,0,0,739983,240f25f18921970a12a5f7998bed85586ba4ccec,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Release ironic-inspector 10.2.0 for victoria

Also add stable-branch-type: std-with-versions to reflect change
in the release model.

Change-Id: Ie9d49a82ad4d8bddb47a22912e29746060e78305
"
openstack%2Freleases~master~Ie1f182128a06976a5c80b12e0d159f74b7b1bbf0,openstack/releases,master,ipa-victoria-620,Ie1f182128a06976a5c80b12e0d159f74b7b1bbf0,Release ironic-python-agent 6.2.0 for victoria,MERGED,2020-07-08 13:21:09.000000000,2020-07-08 18:40:31.000000000,2020-07-08 18:40:31.000000000,9,0,0,739980,f22c170346fc5c52210443e1243e1c355cb403fd,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Release ironic-python-agent 6.2.0 for victoria

Also add stable-branch-type: std-with-versions to reflect change
in the release model.

Change-Id: Ie1f182128a06976a5c80b12e0d159f74b7b1bbf0
"
openstack%2Fpuppet-neutron~master~I179fa93a0226f982019f2366684aa24b4e6e9a12,openstack/puppet-neutron,master,at-interface,I179fa93a0226f982019f2366684aa24b4e6e9a12,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 01:57:34.000000000,2020-07-08 18:38:40.000000000,2020-07-08 18:35:33.000000000,16,0,0,739871,6d825ca6fe925f535504f34626f82116cdc49dd4,12,3,4,3,9816,Takashi Kajinami,kajinamit,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I179fa93a0226f982019f2366684aa24b4e6e9a12
"
openstack%2Freleases~master~I72c703037acfd2eb591d70426be06a3fff72123e,openstack/releases,master,oslo-policy,I72c703037acfd2eb591d70426be06a3fff72123e,release oslo.policy,MERGED,2020-07-01 11:57:03.000000000,2020-07-08 18:32:46.000000000,2020-07-08 18:32:46.000000000,8,0,0,738833,9ac1b5bd9003b8047537e26477294ba50244eaee,14,6,1,2,28522,Hervé Beraud,hberaud,"release oslo.policy

2.3.4 for train
2.1.3 for stein

It will release important bugfixes

Change-Id: I72c703037acfd2eb591d70426be06a3fff72123e
"
openstack%2Fneutron~stable%2Frocky~I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6,openstack/neutron,stable/rocky,bug/1884512,I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6,[OVS] Make QoS OVS agent deletion operations more resilient,MERGED,2020-06-26 09:24:22.000000000,2020-07-08 18:27:07.000000000,2020-07-08 18:27:07.000000000,13,13,0,738172,94271ad8661a36558172d141a84fdd3891786090,27,5,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVS] Make QoS OVS agent deletion operations more resilient

When a Port is deleted, the QoS extension will reset any rule (QoS
and Queue registers) applied on this port or will reset the
related Interface policing parameters.

If the Port and the related Interface are deleted during the QoS
extension operation, those commands will fail. This patch makes those
operations more resiliant by not checking the errors when writing on
the Port or the Interface register.

NOTE: this patch is squashed with [1]. That will fix the problem
with empty ""vsctl"" transactions when using this OVS DB implementation.

[1]https://review.opendev.org/#/c/738574/

Change-Id: I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6
Closes-Bug: #1884512
(cherry picked from commit e2d1c2869a2c8883157d29cf47d7a5236e63dbc1)
(cherry picked from commit 84ac8cf9ffb66d826d9d7875bb0d1addc9120034)
(cherry picked from commit 3785868bfb387002f4a89d3fa18c20210e8f17db)
(cherry picked from commit 7edfb0ef4aba338e0225dffda7c8bf0918ef71cb)
"
openstack%2Fopenstack-helm-infra~master~Icb7a9de4d98bac1f0bcf6181b6e88695f4b09709,openstack/openstack-helm-infra,master,prometheus,Icb7a9de4d98bac1f0bcf6181b6e88695f4b09709,Add missing security context to promethues and postgresql pods/containers,MERGED,2020-07-07 21:18:10.000000000,2020-07-08 18:21:23.000000000,2020-07-08 18:14:35.000000000,18,0,0,739852,b400a6c41dce25d61451915fe4c99906a548171e,13,8,3,4,29161,Rahul Khiyani,rk0850,"Add missing security context to promethues and postgresql pods/containers

This updates the chart to include the pod security context
on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: Icb7a9de4d98bac1f0bcf6181b6e88695f4b09709
"
openstack%2Fpuppet-nova~master~Ic3f9ad9d4366ec2d4279e7463fe22eb2b63eacaf,openstack/puppet-nova,master,at-interface,Ic3f9ad9d4366ec2d4279e7463fe22eb2b63eacaf,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 00:56:36.000000000,2020-07-08 18:18:44.000000000,2020-07-08 18:14:36.000000000,15,0,0,739867,651c1a6bab14ad8da7317b43bc81288c624d0803,11,3,4,3,9816,Takashi Kajinami,kajinamit,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: Ic3f9ad9d4366ec2d4279e7463fe22eb2b63eacaf
"
openstack%2Fopenstack-helm-infra~master~I12a5fd6c5043079f830eb36043f5b0ca495a3e93,openstack/openstack-helm-infra,master,,I12a5fd6c5043079f830eb36043f5b0ca495a3e93,Fix application name for grafana session sync,MERGED,2020-07-07 21:52:57.000000000,2020-07-08 18:18:34.000000000,2020-07-08 18:14:33.000000000,5,3,0,739860,a43f479e6cdd373007561668bf6878a272a4e72b,10,11,1,3,29161,Rahul Khiyani,rk0850,"Fix application name for grafana session sync

Implement helm-toolkit snippet for grafana add-home-dashboard
which adds security context template at pod/container

Change-Id: I12a5fd6c5043079f830eb36043f5b0ca495a3e93
"
openstack%2Fneutron~master~If7d68212cadb8eb8a12fa3271023c9e86b2d411e,openstack/neutron,master,devstack-ovn-suse,If7d68212cadb8eb8a12fa3271023c9e86b2d411e,[OVN] Fix devstack module for OpenSuse,MERGED,2020-07-02 12:58:59.000000000,2020-07-08 18:17:18.000000000,2020-07-08 18:07:44.000000000,4,0,0,739036,528e0d382e712035355e7b9914828c1b8013dcb2,20,5,1,1,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Fix devstack module for OpenSuse

The default path for the OVS tools is /usr/local/bin [0] but, by default
this location is not included in the $PATH for some distros (e.g
OpenSuse).

This patch includes the $OVS_BINDIR to the $PATH variable for deploying
DevStack.

[0]
https://github.com/openvswitch/ovs/blob/0fc38297ba3830631e4a6ad3f9fbbe364e8a3b6b/python/ovs/dirs.py#L23

Change-Id: If7d68212cadb8eb8a12fa3271023c9e86b2d411e
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fneutron~stable%2Frocky~Ie8a63eacf479ac6871af448a1741598584de8de8,openstack/neutron,stable/rocky,clean-non-voting-jobs-in-em,Ie8a63eacf479ac6871af448a1741598584de8de8,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2020-07-07 07:24:31.000000000,2020-07-08 18:07:49.000000000,2020-07-08 18:07:49.000000000,7,7,0,739668,1e2640fbb93c1b0afff7d5c079137e4e47587f5d,15,5,1,1,11975,Slawek Kaplonski,slaweq,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: Ie8a63eacf479ac6871af448a1741598584de8de8
"
openstack%2Foslo.messaging~stable%2Frocky~Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,openstack/oslo.messaging,stable/rocky,,Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,Simplify tools/test-setup.sh,MERGED,2020-07-06 13:45:00.000000000,2020-07-08 18:01:10.000000000,2020-07-08 17:51:27.000000000,20,35,0,739490,41a7da012e0f0df2a5ddb689897448fd02b6175c,12,5,1,3,17685,Elod Illes,elod.illes,"Simplify tools/test-setup.sh

test-setup.sh is called after bindep is run in CI, and tox is not setup.

Simplify the script so that it only does what's needed - install
qdrouterd for Ubuntu from qpid/testing.

Install the other packages using bindep, add test to amqp1 profile.

Add amqp1 to bindep_profiles where needed for scenario tests, previously
test-setup.sh added it everywhere.

Change-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2
Related-Bug: #1885923
(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)
(cherry picked from commit dfcc4b0010d39d1f16be413bb1c3a4808718cd19)
(cherry picked from commit 88cf5aebef790ff40ab8ca7219d537ccfc54d12e)
(cherry picked from commit c5d17905de32a29352a7ad31fd1c7dcde8887017)
"
openstack%2Fneutron~stable%2Fpike~Ie846a8cb481da65999b12f5547b407cc7bdc3138,openstack/neutron,stable/pike,fix_pike_gate,Ie846a8cb481da65999b12f5547b407cc7bdc3138,"Fix pike gates, multiple fixes",MERGED,2020-07-06 10:16:49.000000000,2020-07-08 17:44:37.000000000,2020-07-08 17:44:37.000000000,191,34,1,739456,2c7e9810eccd8c7fd0140f4ffce9f3797f3861a2,24,6,5,8,21798,Bernard Cafarelli,bcafarel,"Fix pike gates, multiple fixes

1. Make grenade jobs experimental for EM branches

As discussed in ML thread[1], we are going to
make grenade jobs as non voting for all EM stable and
oldest stable. grenade jobs are failing not and it might take
time to fix those if we are able to fix. Once it jobs are
working depends on project team, they can bring them back to
voting or keep non-voting.

If those jobs are failing consistently and no one is fixing them
then removing those n-v jobs in future also fine.

Additionally, it was proposed in neutron CI meeting [2] that non-voting
jobs would be moved to experimental, so move grenade jobs there instead
of keeping them non-voting

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html
[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101

StableOnly

Conflicts:
	.zuul.yaml

(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)

2. Install pip2 for functional, fullstack,
   neutron-tempest-iptables_hybrid, rally

Else both jobs fail with ""sudo: pip: command not found""

3. Add ensure-tox for functional, fullstack,
   neutron-tempest-iptables_hybrid, rally

Similar error message for tox

4. Disable OVS compilation for fullstack and move job to experimental

Compilation fails similarly to recent master failures:
/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: ‘const struct ipv6_stub’ has no member named ‘ipv6_dst_lookup’

But branch 2.9 is not updated anymore. Use official package

This triggers a few tests failures, so move it to experimental (instead
of marking non-voting), same as grenade jobs

5. Adapt old legacy-neutron-dsvm-api job definition

This copies old definition from openstack-zuul-jobs in repo as
neutron-dsvm-api and add similar changes to other jobs (pip2 install and
ensure-tox)

Conflicts:
	.zuul.yaml
	neutron/tests/contrib/gate_hook.sh

Depends-On: https://review.opendev.org/735616/
Change-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138
(cherry picked from commit 57f527a748f292597ee548e8d386720b72346d17)
(cherry picked from commit 774b3ff89e5ec01494d7ca66773aba8984f0cd80)
"
openstack%2Fpython-openstackclient~master~Ia7c84aa7b840bf92aeb7db7246d14119eb727b03,openstack/python-openstackclient,master,story-2007890,Ia7c84aa7b840bf92aeb7db7246d14119eb727b03,Fix uploading an signed image does not work if private signing key is encrypted,MERGED,2020-07-07 09:24:01.000000000,2020-07-08 17:43:36.000000000,2020-07-08 17:30:38.000000000,13,0,5,739687,c06d82563526c715d3ed508fa3cc5f9dc0963294,18,4,5,2,29891,Alexander Gräb,graeb,"Fix uploading an signed image does not work if private signing key is encrypted

Change-Id: Ia7c84aa7b840bf92aeb7db7246d14119eb727b03
Story: 2007890
Task: 40269
"
openstack%2Fopenstack-ansible~stable%2Fussuri~Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f,openstack/openstack-ansible,stable/ussuri,,Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f,Fix tmpfiles-setup wait handler,MERGED,2020-07-07 08:27:42.000000000,2020-07-08 17:43:32.000000000,2020-07-08 17:37:30.000000000,1,1,0,739675,7f58002b8a1154f7f219fa5b2fce69dcbc9202d1,13,3,2,1,25023,Jonathan Rosser,jrosser,"Fix tmpfiles-setup wait handler

Precess column was present only for CentOS 8 and is not applicable for
other distros. In the meanwhile Active column is present in all distros.

Change-Id: Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f
(cherry picked from commit 61941eaa8fbf024387fda886b89df7dc601945b4)
"
openstack%2Fopenstack-ansible~stable%2Ftrain~I5212262c20fdc69ed414fe92c602e24bdf7c4ec1,openstack/openstack-ansible,stable/train,bump_osa,I5212262c20fdc69ed414fe92c602e24bdf7c4ec1,Bump SHAs for stable/train,MERGED,2020-06-28 15:27:19.000000000,2020-07-08 17:43:32.000000000,2020-07-08 17:37:28.000000000,56,56,0,738357,7a67afc83e06834f318305887f158ee04dd47b43,45,6,8,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump SHAs for stable/train

Change-Id: I5212262c20fdc69ed414fe92c602e24bdf7c4ec1
"
openstack%2Fopenstacksdk~master~I6c73a178f01e010535237f839d85bedac5222624,openstack/openstacksdk,master,,I6c73a178f01e010535237f839d85bedac5222624,Add TLS protocol support for Octavia,MERGED,2020-05-01 02:32:46.000000000,2020-07-08 17:41:45.000000000,2020-07-08 17:30:43.000000000,22,6,6,724789,c5748fb1b29a8321ce8a16b7da6a8dd0d9dd4230,17,4,3,5,31565,Noah Mickus,nmickus,"Add TLS protocol support for Octavia

Add a property ""tls_versions"" for storing
a list of TLS protocol versions

Change-Id: I6c73a178f01e010535237f839d85bedac5222624
Story: 2006627
Task: 37188
Depends-On:I480b7fb9756d98ba9dbcdfd1d4b193ce6868e291
"
openstack%2Fpython-openstackclient~master~I73502be6d68c4a38561c9524b4def3c6a6f61ac6,openstack/python-openstackclient,master,osc-performance,I73502be6d68c4a38561c9524b4def3c6a6f61ac6,Add a command to trigger entrypoint cache creation,MERGED,2020-07-06 19:53:54.000000000,2020-07-08 17:40:39.000000000,2020-07-08 17:30:36.000000000,3,0,2,739598,5c4eb0bf9d7bc154e583f1d864984d56192ccb4b,9,3,1,1,2,Monty Taylor,mordred,"Add a command to trigger entrypoint cache creation

stevedore will cache the entrypoint scan when needed. Since we
just installed the things here, do an openstack --help to cause
the entrypoints to get scanned at build time and for the cache
file to be written into the container image.

Change-Id: I73502be6d68c4a38561c9524b4def3c6a6f61ac6
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I89c848bdae1b997b38a5164302acdcca94619471,openstack/puppet-tripleo,stable/train,ffu-ceph-nfs-stable/train,I89c848bdae1b997b38a5164302acdcca94619471,Add FFU support for ceph_nfs,MERGED,2020-07-07 14:41:41.000000000,2020-07-08 17:37:26.000000000,2020-07-08 17:37:25.000000000,6,1,0,739782,8cc3c772974afaee2fe77223c90267bbc844cb7c,10,8,1,1,25402,Francesco Pantano,fmount,"Add FFU support for ceph_nfs

This patch fixes the ceph_nfs upgrade process checking
for the short_name variable definition.
This is required to properly handle the FFU process for
this service.

Change-Id: I89c848bdae1b997b38a5164302acdcca94619471
(cherry picked from commit 4243119d09ff9ee88aea71496753658f9d06d934)
"
openstack%2Fneutron~stable%2Fqueens~Ie8a63eacf479ac6871af448a1741598584de8de8,openstack/neutron,stable/queens,clean-non-voting-jobs-in-em,Ie8a63eacf479ac6871af448a1741598584de8de8,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2020-07-07 07:28:21.000000000,2020-07-08 17:30:34.000000000,2020-07-08 17:30:33.000000000,3,3,1,739669,db4c00a90f1ef9981d0d2841a7c46a061421de74,15,7,2,1,11975,Slawek Kaplonski,slaweq,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extended Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Conflicts:
    .zuul.yaml

Change-Id: Ie8a63eacf479ac6871af448a1741598584de8de8
(cherry picked from commit 1e2640fbb93c1b0afff7d5c079137e4e47587f5d)
"
openstack%2Fpuppet-cinder~master~Ic65f385e5f867cb7346b8b5fc62e8cbf7be8cfb3,openstack/puppet-cinder,master,at-interface,Ic65f385e5f867cb7346b8b5fc62e8cbf7be8cfb3,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 01:53:11.000000000,2020-07-08 17:22:30.000000000,2020-07-08 17:19:23.000000000,16,0,0,739870,17b97ec245fb691bfd13b7614012a6ce99d4e204,13,4,4,3,9816,Takashi Kajinami,kajinamit,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: Ic65f385e5f867cb7346b8b5fc62e8cbf7be8cfb3
"
openstack%2Fpython-designateclient~master~I3be6c40ef61e0334cab860689abbee84f5d19265,openstack/python-designateclient,master,drop_mock,I3be6c40ef61e0334cab860689abbee84f5d19265,Use unittest.mock instead of mock,MERGED,2020-06-09 09:54:25.000000000,2020-07-08 17:12:26.000000000,2020-07-08 17:09:31.000000000,3,3,1,734507,c37f8ff9f034592808b917debd058546cbb67e41,14,4,2,3,28522,Hervé Beraud,hberaud,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I3be6c40ef61e0334cab860689abbee84f5d19265
"
openstack%2Fpython-openstackclient~master~Ied938a8f63f305305a20ace42e9f4c84b0a5c00e,openstack/python-openstackclient,master,bp/rbd-glance-multistore-patch2,Ied938a8f63f305305a20ace42e9f4c84b0a5c00e,Expose flag for forcing use of import for images,MERGED,2020-06-23 20:47:46.000000000,2020-07-08 17:08:01.000000000,2020-07-08 17:01:22.000000000,40,2,6,737625,c04ec16cf7ad2dbe7bf8edf5f6e7840c54b0efa3,22,5,4,5,2,Monty Taylor,mordred,"Expose flag for forcing use of import for images

openstacksdk added support for using image import as a fallback
which is transparently supported here, but also provides an
override flag to allow a user to force use of import. Expose that
here.

Depends-On: https://review.opendev.org/737608
Change-Id: Ied938a8f63f305305a20ace42e9f4c84b0a5c00e
"
openstack%2Fpuppet-heat~master~I5325bdfbcec13b53b83ac669fb2b91885c370e60,openstack/puppet-heat,master,at-interface,I5325bdfbcec13b53b83ac669fb2b91885c370e60,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 02:20:56.000000000,2020-07-08 16:45:14.000000000,2020-07-08 16:43:25.000000000,15,0,0,739873,e633bc0ae5a1d54907c12ae1a8b651c060a62562,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I5325bdfbcec13b53b83ac669fb2b91885c370e60
"
openstack%2Fkolla-ansible~stable%2Fussuri~Iaa69b2096b09a448345de50911e21436875d48d6,openstack/kolla-ansible,stable/ussuri,bug/1886711-stable/ussuri,Iaa69b2096b09a448345de50911e21436875d48d6,Fix incorrect value of [storage]/ceph_keyring in gnocchi.conf,MERGED,2020-07-08 08:11:45.000000000,2020-07-08 16:44:55.000000000,2020-07-08 16:40:24.000000000,7,1,1,739917,1636ea073956979ce62890edcc94b05522e4bebe,12,4,1,2,15197,Pierre Riteau,priteau,"Fix incorrect value of [storage]/ceph_keyring in gnocchi.conf

The value should be the full path to the keyring file, not just the
name. Without this fix Gnocchi fails to connect to Ceph.

Change-Id: Iaa69b2096b09a448345de50911e21436875d48d6
Closes-Bug: #1886711
(cherry picked from commit 9a0f8c319358b9b4a78bc38d8391dc61104ad49d)
"
openstack%2Fpuppet-ironic~master~Ib16d3b1a0f60d6bbc9fec470449977bd4ebaf109,openstack/puppet-ironic,master,at-interface,Ib16d3b1a0f60d6bbc9fec470449977bd4ebaf109,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 04:01:57.000000000,2020-07-08 16:44:02.000000000,2020-07-08 16:41:48.000000000,23,0,0,739887,dbe9e4c996758ad25e52cc7687744ae5e0c15f9e,8,3,1,4,9816,Takashi Kajinami,kajinamit,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: Ib16d3b1a0f60d6bbc9fec470449977bd4ebaf109
"
openstack%2Fproject-config~master~Ibf5ac5fa0371cc70dbe58806d147568278afcfea,openstack/project-config,master,nested-virt,Ibf5ac5fa0371cc70dbe58806d147568278afcfea,Add nested-virt-centos-8 label,MERGED,2020-06-26 08:50:00.000000000,2020-07-08 16:42:34.000000000,2020-07-08 16:33:05.000000000,47,0,0,738161,2cd18a77720755515b01fb611b319b8bd8cc9636,10,6,2,3,6469,Carlos Gonçalves,cgoncalves,"Add nested-virt-centos-8 label

Change [1] added nested virtualization labels for Ubuntu Bionic and
CentOS 7. This patch extends that to CentOS 8.

Additionally, we extend nl04 to include these labels too as OVH is a
nested-virt enabled nodepool provider.

[1] https://review.opendev.org/#/c/683431/

Change-Id: Ibf5ac5fa0371cc70dbe58806d147568278afcfea
"
openstack%2Fopenstack-ansible~stable%2Fussuri~Ia59beb11e1441892ed3bebddcf2a9196ba552ced,openstack/openstack-ansible,stable/ussuri,bump_osa,Ia59beb11e1441892ed3bebddcf2a9196ba552ced,Bump SHAs for stable/ussuri,MERGED,2020-06-30 20:19:05.000000000,2020-07-08 16:38:06.000000000,2020-07-08 16:34:14.000000000,113,113,0,738689,c353ccdedcb15f10fad8b322e2da62330e0f3fa4,13,4,2,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump SHAs for stable/ussuri

Change-Id: Ia59beb11e1441892ed3bebddcf2a9196ba552ced
"
openstack%2Ftripleo-ci~master~Iadb569851d5b07439cd21dc57061baa061538d14,openstack/tripleo-ci,master,,Iadb569851d5b07439cd21dc57061baa061538d14,Introduce stable jobs for tripleo-build-containers-ubi-8,MERGED,2020-07-06 19:39:31.000000000,2020-07-08 16:24:33.000000000,2020-07-08 16:24:33.000000000,25,3,6,739596,405a96b51e0b0dc4e1f5c8fb040ccc2e7c33e04f,32,8,8,1,3153,Emilien Macchi,emilienm,"Introduce stable jobs for tripleo-build-containers-ubi-8

tripleo-build-containers-ubi-8-ussuri (and train), child jobs of
tripleo-build-containers-ubi-8 and non voting. It'll allow to test
container builds without Kolla on stable/ussuri and train.

Change-Id: Iadb569851d5b07439cd21dc57061baa061538d14
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Idf1e24e69a485b51761c161bb939ccbba6601912,openstack/tripleo-heat-templates,stable/train,sidecar/train,Idf1e24e69a485b51761c161bb939ccbba6601912,"Manual backport of ""Move sidecar kill scripts to host prep"" to Train",MERGED,2020-07-06 16:29:10.000000000,2020-07-08 16:24:31.000000000,2020-07-08 16:24:31.000000000,93,111,0,739547,16fc8da6349fd1f3d1e806082a454c0ed758684a,19,6,2,3,3153,Emilien Macchi,emilienm,"Manual backport of ""Move sidecar kill scripts to host prep"" to Train

Manual backport of https://review.opendev.org/#/c/736279 into
stable/train.

The patch didn't apply cleanly so we manually moved the tasks so
these tasks are managed a single time against the host rather than at
deployment time.

Change-Id: Idf1e24e69a485b51761c161bb939ccbba6601912
Related-Bug: #1883609
"
openstack%2Fnova~master~I9abe783a9a9443c799e7c74a57cc30835f679a01,openstack/nova,master,bug/1847367,I9abe783a9a9443c799e7c74a57cc30835f679a01,add [libvirt]/max_queues config option,MERGED,2019-11-20 00:38:11.000000000,2020-07-08 16:22:10.000000000,2019-12-03 10:08:35.000000000,45,0,6,695118,0e6aac3c2d97c999451da50537df6a0cbddeb4a6,28,13,2,4,11604,sean mooney,sean-k-mooney,"add [libvirt]/max_queues config option

This change adds a max_queues config option to allow
operators to set the maximium number of virtio queue
pairs that can be allocated to a virtio network
interface.

Change-Id: I9abe783a9a9443c799e7c74a57cc30835f679a01
Closes-Bug: #1847367
"
openstack%2Fopenstack-ansible~stable%2Fussuri~I3c9bbe5b43025b7a3f77435828c9501b3fdadd67,openstack/openstack-ansible,stable/ussuri,,I3c9bbe5b43025b7a3f77435828c9501b3fdadd67,Disable test_swift_acl_anonymous_download test,MERGED,2020-07-01 20:54:36.000000000,2020-07-08 16:20:46.000000000,2020-07-08 16:07:42.000000000,3,0,0,738938,35c84c4d5e1c18f00497347fb9e65bbf41e81ab7,14,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Disable test_swift_acl_anonymous_download test

Ceph rgw in 14.2.10 and 15.2.4 has changed return code for unathorized
from 401 to 404, which makes this test fail.

Change-Id: I3c9bbe5b43025b7a3f77435828c9501b3fdadd67
(cherry picked from commit 75cfbe4db64f0989d1489ed162a45a73cf14b33c)
"
openstack%2Fnova~master~I29c5a678efec4fbc4bd7958ebe6d454ae30701cd,openstack/nova,master,,I29c5a678efec4fbc4bd7958ebe6d454ae30701cd,Prevent libvirt driver starting on non Linux platform,MERGED,2020-06-23 12:14:51.000000000,2020-07-08 16:19:16.000000000,2020-07-01 19:59:33.000000000,12,2,9,737508,68a5531568aa358da8ccddd5d7cb365ca662d890,34,11,3,3,9708,Balazs Gibizer,gibi,"Prevent libvirt driver starting on non Linux platform

The libvirt driver reads under /proc and /sys and depends on os.stat to
detect if two directories are on the same device. So the driver is
heavily Linux dependent. This patch makes sure that the nova-compute
service refuse to start with the libvirt driver on a non Linux platform.

Change-Id: I29c5a678efec4fbc4bd7958ebe6d454ae30701cd
"
openstack%2Fkolla-ansible~master~I51054561af93f03e09fa86eeec7c579aca103cdf,openstack/kolla-ansible,master,,I51054561af93f03e09fa86eeec7c579aca103cdf,Remove monasca log api upgrade task (planned),MERGED,2020-07-06 10:02:52.000000000,2020-07-08 16:14:37.000000000,2020-07-06 18:56:44.000000000,0,9,2,739449,3e0f4f2bd08e1501eb43f7d7c7cbe74f919a90a7,22,5,3,1,26285,wu.chunyang,wu.chunyang,"Remove monasca log api upgrade task (planned)

Change-Id: I51054561af93f03e09fa86eeec7c579aca103cdf
"
openstack%2Fproject-config~master~Ic02f436eb655dcbe84824b304ea2933e16312e67,openstack/project-config,master,maintain-github-mirror,Ic02f436eb655dcbe84824b304ea2933e16312e67,Define maintain-github-openstack-mirror job,MERGED,2020-06-26 15:47:41.000000000,2020-07-08 16:07:44.000000000,2020-07-08 16:07:44.000000000,332,0,23,738228,0197d9f92ab7c2b40206b8e8054f34bff9f36d7e,19,4,5,5,308,Thierry Carrez,ttx,"Define maintain-github-openstack-mirror job

Opendev no longer automatically creates repositories on the
GitHub mirror, nor does it update descriptions or closes open PRs.

Add a playbook and a job for periodically maintaining the GitHub
mirror for the 'openstack' organization:

- updating descriptions based on Gerrit project descriptions
- creating on GitHub newly-added openstack repositories
- archiving from GitHub recently-retired openstack repositories
- closing any open PR with a healpful message

This job makes use of a GitHub API token (from the openstack-mirroring
user) and is defined to run periodically on project-config.

Change-Id: Ic02f436eb655dcbe84824b304ea2933e16312e67
"
openstack%2Ftripleo-ci~master~I6ea1b57f0349044a5852172b8b4b92f718e5c4bf,openstack/tripleo-ci,master,newcontainerbuild-osp,I6ea1b57f0349044a5852172b8b4b92f718e5c4bf,Add support for OSP containers in new build process,MERGED,2020-07-06 00:46:22.000000000,2020-07-08 16:01:12.000000000,2020-07-08 16:01:12.000000000,17,17,3,739385,450a40cc2a5a9ea45b54d75234bef661d0a6d390,41,7,19,4,9976,Ronelle Landy,rlandy,"Add support for OSP containers in new build process

This patch:
 - adds support for excludes from osp_branch
 - uses the OSP repo versions in venv setup
when running on downstream builds
 - allows for the use of a custom container name
prefix to deal with the rhel/redhat switch up using
container_name_prefix var.

Change-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf
"
openstack%2Ftripleo-ci~master~I3d75734031bc8f1f6f44a671e71ae0b4f6769f0d,openstack/tripleo-ci,master,ep,I3d75734031bc8f1f6f44a671e71ae0b4f6769f0d,Don't fail on EPEL disable if not exists,MERGED,2020-07-08 07:27:23.000000000,2020-07-08 16:01:10.000000000,2020-07-08 16:01:10.000000000,12,8,0,739909,47e66205c08175a2d3b37451a8ff457349be95a8,13,5,2,2,10969,Shnaidman Sagi (Sergey),sergsh,"Don't fail on EPEL disable if not exists

If EPEL repos don't exist the task will fail.
Ignore errors if repos don't exist.
Change-Id: I3d75734031bc8f1f6f44a671e71ae0b4f6769f0d
"
openstack%2Ftripleo-quickstart-extras~master~I5221ea1324cf6dfbfd48153f6a99a396c36c042a,openstack/tripleo-quickstart-extras,master,interop-repo-renaming,I5221ea1324cf6dfbfd48153f6a99a396c36c042a,Fix tempestconf URL,MERGED,2020-06-13 14:19:40.000000000,2020-07-08 16:01:05.000000000,2020-07-08 16:01:05.000000000,2,2,0,735428,2322ebce7c165e8d4f75507315ce392576588009,62,8,5,2,6547,Andreas Jaeger,jaegerandi,"Fix tempestconf URL

Change I02ac67e333cc1a5133269bd8562f18a8d50bb036 renamed
openstack/python-tempestconf to osf/python-tempestconf. Update use in
this repository.

TripleO team: Please check whether this needs backporting and
do the backporting yourself.

Depends-On: https://review.opendev.org/#/c/735890/
Change-Id: I5221ea1324cf6dfbfd48153f6a99a396c36c042a
"
openstack%2Fansible-role-collect-logs~master~I138f9d892b8058ae3f7b2e69eb9fd335de9e7367,openstack/ansible-role-collect-logs,master,,I138f9d892b8058ae3f7b2e69eb9fd335de9e7367,Add missing artcl_publish in infrared plugin,MERGED,2020-06-30 16:37:47.000000000,2020-07-08 16:01:04.000000000,2020-07-08 16:01:04.000000000,3,1,0,738667,01ad1bb5e9b159ad0fd6e5f234d34f649565a472,18,5,3,2,22873,Martin Kopec,mkopec,"Add missing artcl_publish in infrared plugin

The patch adds a missing artcl_publish condition in the infrared
plugin definition - infrared_plugin/main.yml. The var is used to
controll publishing part of the role.

Change-Id: I138f9d892b8058ae3f7b2e69eb9fd335de9e7367
"
openstack%2Ftripleo-upgrade~stable%2Frocky~I3eadfad34aa563084fd4cc68990cb247e734d508,openstack/tripleo-upgrade,stable/rocky,bug/1885637-stable/rocky,I3eadfad34aa563084fd4cc68990cb247e734d508,Refactor ceph-ansible upgrade,MERGED,2020-07-07 16:54:01.000000000,2020-07-08 16:01:03.000000000,2020-07-08 16:01:03.000000000,34,3,0,739816,db7864ac72dfc014216dae0df38dfd77b3ca0e48,9,4,1,4,11090,Sergii Golovatiuk,holser,"Refactor ceph-ansible upgrade

ceph-ansible and python-tripleoclient have different ""minimum"" required
version of ansible in specification. This patch upgrades ceph-ansible as
prerequisite so all dependencies will be met. In fast-forward script
checks if ceph-ansible is installed.If yes, it will upgrade it to latest
versions in repositories.

Change-Id: I3eadfad34aa563084fd4cc68990cb247e734d508
Related-Bug: 1885637
(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)
"
openstack%2Fironic~master~I4419254c23095929e52a0fda11789f2f5167dc6b,openstack/ironic,master,story/2007003,I4419254c23095929e52a0fda11789f2f5167dc6b,Provide a path to set explicit ipxe bootloaders,MERGED,2020-05-15 00:51:16.000000000,2020-07-08 15:49:54.000000000,2020-07-08 12:08:47.000000000,227,53,31,728315,5f7d84f483be165fde04954453e156ceefc43d28,77,10,9,10,11655,Julia Kreger,jkreger,"Provide a path to set explicit ipxe bootloaders

I did something stupid when started driving forth the split of ipxe
from the pxe interface: I didn't think about the need to actually
separate bootloaders. In part, because the use case was a mixed
Power8/Power9 and x86 cluster. Mainly because the Power hardware
does not honor or care about the bootfile name provided over DHCP.
The firmware knows how to read the PXELINUX boot file format
and the machines are able to boot from there.

Where this all goes sideways is when:
* Enabled boot interfaces are set to ipxe,pxe
* No default boot interface is set
* Node is created without a default for x86 hardware.
* Node uses ipxe boot_interface, and creates files under /httpboot
* bootfile transmitted via DHCP is pxelinux.0.

Fun right?

The simple workaround for the power user is to just define the iPXE
loader, or maybe use UEFI. But that is neither here nor there, this
is still a bug and a possible use case is GRUB2 via PXE and iPXE.
Not that would really work via ipxe, but hopefully people get the
idea.

The solution kind of seems clear, duplicate configuration and
fallback if not defined.

Story: #2007003
Task: #40282
Change-Id: I4419254c23095929e52a0fda11789f2f5167dc6b
"
openstack%2Fneutron~master~Ia012a8e116a276a6674f86366c803e0e2d8ff704,openstack/neutron,master,bug/1877377,Ia012a8e116a276a6674f86366c803e0e2d8ff704,[OVN] Unify OVN/OVS compilation,MERGED,2020-06-25 11:29:36.000000000,2020-07-08 15:49:34.000000000,2020-07-08 15:39:48.000000000,42,151,4,737984,fb2806f8088dccafd6616a68f5b296914d192150,57,8,8,7,24791,Maciej Jozefczyk,maciej.jozefczyk,"[OVN] Unify OVN/OVS compilation

There were duplicated methods doing almost the same in terms
of OVS/OVN compilation.

This change:
 * move of OVS related compilation code to devstack/lib/ovs
 * delete of OVS related compilation code from devstack/lib/ovn_agent
 * source unified functions in devstack/lib/ovn_agent from
   devstack/lib/ovs
 * Unify NEUTRON_PATH variable to NEUTRON_DIR

Closes-Bug: #1877377

Change-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I3d38d406e9f63008f7060f31cc9ff378e97120bb,openstack/tripleo-ansible,stable/ussuri,739415-stable/ussuri,I3d38d406e9f63008f7060f31cc9ff378e97120bb,Login with buildah too to allow registry access with buildah,MERGED,2020-07-08 01:49:26.000000000,2020-07-08 15:45:43.000000000,2020-07-08 15:45:43.000000000,17,1,0,739868,ee70524bab3a517f7a151138d6d651b6013d57ae,11,6,2,2,3153,Emilien Macchi,emilienm,"Login with buildah too to allow registry access with buildah

buildah login and podman login with root do not share same
authfile, buildah uses /run/containers/0/auth.json while
podman uses /run/user/0/containers/auth.json resulted from
$XDG_RUNTIME_DIR.

To ensure both podman and buildah can access the configured
registry, run login command with both.

It's mainly needed as container images are being pushed
with tripleoclient using sudo buildah push and buildah creds
are not setup.

Related-Bug: #1886555
Change-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb
(cherry picked from commit 067a315df92248f83103e5b4b7ec8424c9b5d6a9)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I644210a2dcc4cb3810d0999e8c69f8d54f602793,openstack/tripleo-ansible,stable/ussuri,739415-stable/ussuri,I644210a2dcc4cb3810d0999e8c69f8d54f602793,Use registry:2.7.0 instead of registry:2,MERGED,2020-07-08 03:58:01.000000000,2020-07-08 15:45:41.000000000,2020-07-08 15:45:41.000000000,2,2,0,739885,ed7e090a047b4e602dda74b7fb22d37b215f3092,6,4,1,1,13861,yatin,yatinkarel,"Use registry:2.7.0 instead of registry:2

htpasswd is removed in latest registry image[1]
and it's breaking molecule job for tripleo_podman
role, let's use working registry image.

[1] https://github.com/docker/distribution-library-image/issues/106
Change-Id: I644210a2dcc4cb3810d0999e8c69f8d54f602793
(cherry picked from commit 439671e77011ef638a280041ad4469e4a764bf7c)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I3d38d406e9f63008f7060f31cc9ff378e97120bb,openstack/tripleo-ansible,stable/train,buildah/train,I3d38d406e9f63008f7060f31cc9ff378e97120bb,Login with buildah too to allow registry access with buildah,MERGED,2020-07-08 01:50:13.000000000,2020-07-08 15:45:40.000000000,2020-07-08 15:45:40.000000000,17,1,0,739869,d0fbe8b8441b1a1de3ce60856cfe9486ea4b4962,13,5,3,2,3153,Emilien Macchi,emilienm,"Login with buildah too to allow registry access with buildah

buildah login and podman login with root do not share same
authfile, buildah uses /run/containers/0/auth.json while
podman uses /run/user/0/containers/auth.json resulted from
$XDG_RUNTIME_DIR.

To ensure both podman and buildah can access the configured
registry, run login command with both.

It's mainly needed as container images are being pushed
with tripleoclient using sudo buildah push and buildah creds
are not setup.

Related-Bug: #1886555
Change-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb
(cherry picked from commit 067a315df92248f83103e5b4b7ec8424c9b5d6a9)
"
openstack%2Fpuppet-openstack_spec_helper~master~Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b,openstack/puppet-openstack_spec_helper,master,pin-puppet-lint-absolute_classname-check,Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b,Disable relative_classname_inclusion,MERGED,2019-12-07 12:55:42.000000000,2020-07-08 15:44:23.000000000,2019-12-07 23:10:16.000000000,6,5,0,697836,33fc996588f092d5d5a43875a5339cba070a5853,7,2,1,2,9816,Takashi Kajinami,kajinamit,"Disable relative_classname_inclusion

We still have some places to use absolute paths to inclusion,
so disable the test until we complete migration to relative paths.

Change-Id: Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b
"
openstack%2Fnova~stable%2Fstein~I7f40f167cea073a73cf249a9adfd73e1187c031b,openstack/nova,stable/stein,bug/1878024,I7f40f167cea073a73cf249a9adfd73e1187c031b,Add admin doc information about image cache resource accounting,MERGED,2020-06-02 11:53:37.000000000,2020-07-08 15:37:13.000000000,2020-07-08 15:30:36.000000000,92,0,4,732542,5429fd3d6e71dd2dd0e87c2055e55d69fc5023da,21,7,4,2,28332,Alexandre arents,aarents,"Add admin doc information about image cache resource accounting

This adds some details to the image cache page in the admin docs about
how image cache disk usage is (not) considered in the scheduler disk
space calculation. Workarounds and mitigation strategies are provided.

Basically this patch is now a partial backport of
829ccbe2bbc4e80e92baf7553401d7925d883732 squashed into
57702ad4849a4ffc0c02df97269c8d7f44b57bae .

Change-Id: I7f40f167cea073a73cf249a9adfd73e1187c031b
Related-Bug: #1878024
(cherry picked from commit ab3fab03222a5e82ca96ed2a4e959ac7faa3f4fe)
(cherry picked from commit 57702ad4849a4ffc0c02df97269c8d7f44b57bae)
(cherry picked from commit 147f1c753a225a09485ddd2d575d489ad67428ae)
"
openstack%2Fnova~stable%2Ftrain~I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a,openstack/nova,stable/train,backport-hash-check,I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a,Fix cherry-pick check for merge patch,MERGED,2020-07-03 08:25:02.000000000,2020-07-08 15:35:30.000000000,2020-07-08 15:30:45.000000000,11,1,0,739177,7a5111ba2943014b6fd53a5fe7adcd9bc445315e,13,5,1,1,17685,Elod Illes,elod.illes,"Fix cherry-pick check for merge patch

Cherry-pick check script validates the proposed patch's commit message.
If a patch is not on top of the given branch then Zuul rebases it to
the top and the patch becomes a merge patch. In this case the script
validates the merge patch's commit message instead of the original
patch's commit message and fails.

This fix selects the parent of the patch if it is a merge patch.

Change-Id: I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a
(cherry picked from commit c7c48c6f52c9159767b60a4576ba37726156a5f7)
(cherry picked from commit 02f213b831d8e1d4a1d8ebb18d1260571fe20b84)
"
openstack%2Fneutron~master~Iaf08c75d6a3721c05db9e3858c0136847b0102a6,openstack/neutron,master,remove_router_exists,Iaf08c75d6a3721c05db9e3858c0136847b0102a6,Remove _router_exists  method,MERGED,2020-07-03 10:50:44.000000000,2020-07-08 15:34:40.000000000,2020-07-08 15:30:15.000000000,10,17,9,739204,7a427bcd2aa3dc444c8362429405786dde21d2f0,29,7,5,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove _router_exists  method

Instead of retrieving the full DB object, ""objects_exist"" OVO method
will be faster.

Trivial-Fix

Change-Id: Iaf08c75d6a3721c05db9e3858c0136847b0102a6
"
openstack%2Fironic-tempest-plugin~master~I920675b8a61a65c850b245283c3613b03f33ee6a,openstack/ironic-tempest-plugin,master,improve_basic_ops,I920675b8a61a65c850b245283c3613b03f33ee6a,Improve test_baremetal_basic_ops,MERGED,2020-06-16 16:20:19.000000000,2020-07-08 15:34:29.000000000,2020-07-08 15:32:31.000000000,34,3,8,735960,d180a3ef76a332f059f420889fb19ddd2695f4f1,26,4,5,2,15519,Iury Gregory Melo Ferreira,iurygregory,"Improve test_baremetal_basic_ops

- test_baremetal_basic_ops now can test scenarios
for partition/wholedisk images.
- added a new configuration for tempest `boot_mode`.
- if boot_mode is uefi the test_baremetal_basic_ops
will run a verification to make sure the VM is using
uefi.

Change-Id: I920675b8a61a65c850b245283c3613b03f33ee6a
"
openstack%2Fnova~stable%2Fstein~I253f4f305ecf8b5331212be87caef41f2ebb747e,openstack/nova,stable/stein,bug/1854126,I253f4f305ecf8b5331212be87caef41f2ebb747e,libvirt: avoid cpu check at s390x arch,MERGED,2020-01-08 10:06:11.000000000,2020-07-08 15:34:09.000000000,2020-07-08 15:30:20.000000000,32,0,0,701526,21642202ffe834a8086d428dd500bf09413bc002,29,9,2,2,6062,jichenjc,jichenjc,"libvirt: avoid cpu check at s390x arch

nova compute will call check_can_live_migrate_destination when doing
live migration and it will compare cpu model, however, following info
indicated that cpu compare is not supported at s390x arch.

URI qemu:///system does not support full set of host capabilities: this
function is not supported by the connection driver:
cannot compute baseline CPU of s390x architecture

https://www.libvirt.org/news.html has the info
v5.9.0 has Improvements part indicated the compare was added at 5.9

so the workaround is to avoid the check and let the migration proceed.

Change-Id: I253f4f305ecf8b5331212be87caef41f2ebb747e
Closes-Bug: 1854126
(cherry picked from commit 011cce6adb30c50737b45ec02e161fd71ab5b3e3)
(cherry picked from commit 7d7a3ba70a36f05b07ee471490f1b587663348f8)
"
openstack%2Fcharm-nova-compute~stable%2F20.05~I96e4e5ce9eb670974506371b2f6d6ca797ba0909,openstack/charm-nova-compute,stable/20.05,bug/1881017-stable/20.05,I96e4e5ce9eb670974506371b2f6d6ca797ba0909,Fix multipath mount issue with apparmor profile,MERGED,2020-06-01 16:59:30.000000000,2020-07-08 15:31:53.000000000,2020-07-08 15:31:53.000000000,2,2,0,732419,389f317023cac3d676a0ae8f5aa3593dc73704e7,27,8,1,1,17097,Tiago Pasqualini da Silva,tiago.pasqualini,"Fix multipath mount issue with apparmor profile

When nova-compute is deployed with aa-profile-mode=enforce,
apparmor is currently blocking the file lock operation on
/etc/multipath/wwids and /etc/multipath/bindings.

This patch fixes that by adding the file locking flag to those
files on the nova-compute apparmor profile.

Change-Id: I96e4e5ce9eb670974506371b2f6d6ca797ba0909
Closes-bug: 1881017
(cherry picked from commit a7999d8145a0320935a3f531c526000780dd4fc1)
"
openstack%2Fnova~stable%2Fstein~If874f018ea996587e178219569c2903c2ee923cf,openstack/nova,stable/stein,bug/1878024,If874f018ea996587e178219569c2903c2ee923cf,Reserve DISK_GB resource for the image cache,MERGED,2020-06-02 11:35:06.000000000,2020-07-08 15:30:30.000000000,2020-07-08 15:30:29.000000000,166,1,6,732529,86be251451716e3fa64f030c1f44954251bbee5d,25,10,3,7,28332,Alexandre arents,aarents,"Reserve DISK_GB resource for the image cache

If the nova compute image cache is on the same disk as the instance
directory then the images in the cache will consume the same disk
resource as the nova instances which can lead to disk overallocation.

This patch adds a new config option
[workarounds]/reserve_disk_resource_for_image_cache . If it is set the
libvirt driver will reserve DISK_GB resources in placement for the
actual size of the image cache.

This is a low complexity solution with known limitations:
* Reservation is updated long after the image is downloaded
* This code allows the reservation to push the provider into negative
available resource if the reservation + allocations exceed the total
inventory.

Conflicts:
  nova/conf/workarounds.py due to
  Ie38aa625dff543b5980fd437ad2febeba3b50079 (""Add support for translating CPU
  policy extra specs, image meta"") is not in stable/stein

  nova/tests/unit/virt/libvirt/test_driver.py due to
  I25d70aa09080b22d1bfa0aa097f0a114de8bf15a (""Add reshaper for PCPU"")
  is not in stable/stein

Change-Id: If874f018ea996587e178219569c2903c2ee923cf
Closes-Bug: #1878024
(cherry picked from commit 89fe504abfbd41a9c37f9b544c0ce98b23b45799)
(cherry picked from commit 968981b5853724a8225cfc16b04ea83b4f485a9a)
(cherry picked from commit 90c70f04d777e444eb8e2f0bccb8aa616e69dc66)
"
openstack%2Fbifrost~master~Iaabeb3d6dfd964afc17f7a703c5e4301a3b0ad1e,openstack/bifrost,master,bifrost-openstack-ci-prep,Iaabeb3d6dfd964afc17f7a703c5e4301a3b0ad1e,Remove bifrost-openstack-ci-prep role,MERGED,2020-07-08 13:07:31.000000000,2020-07-08 15:23:02.000000000,2020-07-08 15:20:40.000000000,5,161,0,739978,12bbea5ea628c5748d4ae3e05940dbc9debe1b96,8,3,1,6,10239,Dmitry Tantsur,dtantsur,"Remove bifrost-openstack-ci-prep role

It no longer has any effect: the only action that is not skipped
(stopping unbound) actually fails nowadays.

Also remove an invalid action from test-bifrost (the path it's looking
for does not seem to exist).

This removes the amount of special-casing for CI.

Change-Id: Iaabeb3d6dfd964afc17f7a703c5e4301a3b0ad1e
"
openstack%2Ftripleo-upgrade~stable%2Fstein~I3eadfad34aa563084fd4cc68990cb247e734d508,openstack/tripleo-upgrade,stable/stein,bug/1885637-stable/stein,I3eadfad34aa563084fd4cc68990cb247e734d508,Refactor ceph-ansible upgrade,MERGED,2020-07-07 16:37:54.000000000,2020-07-08 15:18:17.000000000,2020-07-08 15:18:17.000000000,14,11,0,739812,deaae2cde52a99436dc80d639bb11a10763f52b9,8,3,1,3,11090,Sergii Golovatiuk,holser,"Refactor ceph-ansible upgrade

ceph-ansible and python-tripleoclient have different ""minimum"" required
version of ansible in specification. This patch upgrades ceph-ansible as
prerequisite so all dependencies will be met. In fast-forward script
checks if ceph-ansible is installed.If yes, it will upgrade it to latest
versions in repositories.

Change-Id: I3eadfad34aa563084fd4cc68990cb247e734d508
Related-Bug: 1885637
(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)
"
openstack%2Fglance_store~master~I79d647e8c8a060eacfa5cbee39a99344adc0ae94,openstack/glance_store,master,unittest.mock,I79d647e8c8a060eacfa5cbee39a99344adc0ae94,Fix mock import in unit tests,MERGED,2020-07-02 20:10:08.000000000,2020-07-08 15:17:07.000000000,2020-07-08 15:14:56.000000000,2,2,0,739140,31bd6ad1a14edb3f2d9c00cc6f341fbe849d6e70,9,4,1,1,11904,Sean McGinnis,SeanM,"Fix mock import in unit tests

We allowed the use of the third party mock lib, even though we no longer
declare it as a test-requirement. That should have failed, but there
must still be a dependency that pulls it in for us. But unit tests will
start failing once more dependencies move away from it, so we need to
clean that up.

Change-Id: I79d647e8c8a060eacfa5cbee39a99344adc0ae94
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fkolla~stable%2Fussuri~I0d8fe379d27962b5adf604d1c999371d52f570ed,openstack/kolla,stable/ussuri,,I0d8fe379d27962b5adf604d1c999371d52f570ed,version-check: handle using of stable branch tarballs,ABANDONED,2020-07-01 17:51:17.000000000,2020-07-08 15:11:31.000000000,,156,106,0,738907,b07c31ef7674110d589e781554300597f2f21058,9,3,2,2,24072,Marcin Juszkiewicz,hrw,"version-check: handle using of stable branch tarballs

For Ussuri we decided to follow stable branch tarballs instead of using
release ones. This gives us all fixes just as they land in a repository.

Change-Id: Iff600179630484228fb359417687e3d2a1a8b9f9
(cherry-picked from master + updated SOURCES in config.py)
"
openstack%2Fkolla-ansible~master~Ia1743e202e310fc88a61476c80eadf3855256c20,openstack/kolla-ansible,master,bug/1859162,Ia1743e202e310fc88a61476c80eadf3855256c20,Use kolla_logs volume for Elasticsearch,MERGED,2020-01-10 11:04:12.000000000,2020-07-08 15:08:29.000000000,2020-01-10 23:29:11.000000000,9,0,4,701930,1917d1a9f54a86b1376b54652804070b307673ea,19,5,5,2,17669,Doug Szumski,DougSzumski,"Use kolla_logs volume for Elasticsearch

This patch mounts the kolla_logs volume into the Elasticsearch
container so that logs are no longer written to the container
filesystem. It is up to the user to migrate any existing logs
into the kolla_logs volume, if they so desire.

Closes-Bug: #1859162
Change-Id: Ia1743e202e310fc88a61476c80eadf3855256c20
"
openstack%2Fironic~stable%2Fussuri~Iaa2cf80896ba9fcecf6a4f528255bd81f8b754cb,openstack/ironic,stable/ussuri,increase-vm-ram-uefi,Iaa2cf80896ba9fcecf6a4f528255bd81f8b754cb,Increase vm ram size in uefi netbooted jobs,MERGED,2020-07-07 12:39:36.000000000,2020-07-08 15:07:29.000000000,2020-07-08 14:55:20.000000000,2,1,0,739728,27df8e851ca410cf60bc248c7b311e4e2f40d02a,14,4,2,1,23851,Riccardo Pittau,elfosardo,"Increase vm ram size in uefi netbooted jobs

This is to prevent the issues we're seeing where the size of
the dib based centos8 ipa ramdisks can't be unpacked causing
kernel panic and subsequent failure.

Change-Id: Iaa2cf80896ba9fcecf6a4f528255bd81f8b754cb
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I644210a2dcc4cb3810d0999e8c69f8d54f602793,openstack/tripleo-ansible,stable/train,,I644210a2dcc4cb3810d0999e8c69f8d54f602793,Use registry:2.7.0 instead of registry:2,MERGED,2020-07-08 04:06:06.000000000,2020-07-08 15:02:25.000000000,2020-07-08 15:02:25.000000000,2,2,0,739888,93f36830428a00682393d66feb60e30789554c28,6,4,1,1,13861,yatin,yatinkarel,"Use registry:2.7.0 instead of registry:2

htpasswd is removed in latest registry image[1]
and it's breaking molecule job for tripleo_podman
role, let's use working registry image.

[1] https://github.com/docker/distribution-library-image/issues/106
Change-Id: I644210a2dcc4cb3810d0999e8c69f8d54f602793
(cherry picked from commit 439671e77011ef638a280041ad4469e4a764bf7c)
Conflicts:
    tripleo_ansible/roles/tripleo-podman/molecule/login/prepare.yml
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77,openstack/tripleo-ansible,stable/ussuri,module/check_status-stable/ussuri,Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77,Introduce an Action Plugin to fetch container infos,MERGED,2020-07-08 08:41:32.000000000,2020-07-08 15:02:24.000000000,2020-07-08 15:02:24.000000000,347,117,0,739927,a4fbd48cc3e97b0fd6115a93acda1c371fe6cae3,8,4,1,6,3153,Emilien Macchi,emilienm,"Introduce an Action Plugin to fetch container infos

Instead of running a bunch of tasks to figure out what container
commands have been run, which ones did not terminate after 5 minutes,
which ones failed or finished with a wrong exit code. We now have an
action plugin that will do it faster and with better logging.

Faster before it reduces the number of tasks.
Better logging is provided, now displaying all errors during a run and
fail at the end.

Supporting check-mode.

Re-using tripleo_container_manage role for molecule testing.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>

Change-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77
"
openstack%2Fcharm-ceph-rbd-mirror~master~I6772e104b883b79cf85b5c19dc401b431c087878,openstack/charm-ceph-rbd-mirror,master,batch-groovy-ch-libs,I6772e104b883b79cf85b5c19dc401b431c087878,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:28:58.000000000,2020-07-08 15:00:20.000000000,2020-07-08 15:00:20.000000000,10,9,0,732633,280a034fd0d4b6b1d20d4b0df225669b65ad80fe,22,6,3,2,20870,Alex Kavanagh,ajkavanagh,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I6772e104b883b79cf85b5c19dc401b431c087878
"
openstack%2Fcharm-designate~master~I54b235de947e63e3d7b86ccfdba9f1b968b75650,openstack/charm-designate,master,bug/1828534,I54b235de947e63e3d7b86ccfdba9f1b968b75650,Request a restart of memcached after a service upgrade after queens,MERGED,2020-06-03 12:03:09.000000000,2020-07-08 14:42:26.000000000,2020-06-13 21:35:07.000000000,25,0,0,733121,5c929b3ba950257cd612c1ba94d57c145ec03526,11,4,1,2,20634,Chris MacNaughton,Chris.MacNaughton,"Request a restart of memcached after a service upgrade after queens

Change-Id: I54b235de947e63e3d7b86ccfdba9f1b968b75650
Closes-Bug: #1828534
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I57d5a8bb8b125727983df188968ae19366c3ebd4,openstack/tripleo-ansible,stable/ussuri,bug/1884816,I57d5a8bb8b125727983df188968ae19366c3ebd4,Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles,MERGED,2020-07-02 15:09:38.000000000,2020-07-08 14:12:57.000000000,2020-07-08 14:12:57.000000000,3,2,0,739068,4dff2a0838905d0f53a6d87c1d88727d679b5756,26,8,2,3,6796,Giulio Fidente,gfidente,"Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles

We set ANSIBLE_SSH_CONTROL_PATH_DIR to deal with permissions
issues. Bug 1885917 was introduced because it was set to a
variable which can make the path too long for a Unix domain
socket. We can fix it by hard coding it to something short
which will not vary.

Change-Id: I57d5a8bb8b125727983df188968ae19366c3ebd4
Closes-Bug: #1885917
(cherry picked from commit ca165ec94018293dfbbbd37c44a2704b8144f203)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic38b84d17e7f8e6d7758a2b658f043d41ce7abb5,openstack/tripleo-ansible,stable/train,buildah/train,Ic38b84d17e7f8e6d7758a2b658f043d41ce7abb5,Debug buildah login train,ABANDONED,2020-07-08 06:24:02.000000000,2020-07-08 14:10:30.000000000,,3,68,0,739898,035d7a0096f9cce961582d072001b104a9aae648,8,4,2,3,13861,yatin,yatinkarel,"Debug buildah login train

Change-Id: Ic38b84d17e7f8e6d7758a2b658f043d41ce7abb5
"
openstack%2Fcinderlib~master~I5d73027f8eb57aa9d149a4d106d3579e61b9c82d,openstack/cinderlib,master,xtremio_issues,I5d73027f8eb57aa9d149a4d106d3579e61b9c82d,WIP: Figure out why XtremIO cI fails,NEW,2019-12-19 14:04:44.000000000,2020-07-08 14:09:26.000000000,,8,0,0,699993,62639819daada6ba660218d8c15458c13e0e17ce,19,8,3,1,9535,Gorka Eguileor,Gorka,"WIP: Figure out why XtremIO cI fails

This patch is just to try to figure out what's going on in XtremIO CI
when it fails on the test_stats_with_creation tests.

Depends-On: https://review.opendev.org/701989
Change-Id: I5d73027f8eb57aa9d149a4d106d3579e61b9c82d
"
openstack%2Fnetworking-odl~master~I560aa5db3053a2b19819d64fc514f4eff8928603,openstack/networking-odl,master,,I560aa5db3053a2b19819d64fc514f4eff8928603,DNM: test CI,ABANDONED,2019-12-17 16:23:19.000000000,2020-07-08 14:08:22.000000000,,1,0,0,699449,30d0de73898d23e8cf265e95869f2693d5f6386c,4,1,1,1,17685,Elod Illes,elod.illes,"DNM: test CI

Change-Id: I560aa5db3053a2b19819d64fc514f4eff8928603
"
openstack%2Fneutron~stable%2Frocky~I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b,openstack/neutron,stable/rocky,bug/1840136-stable/rocky,I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b,"Add ""igmp_snooping_enable"" config option for OVS agent",MERGED,2020-06-12 15:03:32.000000000,2020-07-08 14:05:08.000000000,2020-07-08 14:02:35.000000000,66,5,0,735355,de322da9e0d91a321823332d89c4e17072641e61,18,7,1,7,13995,Nate Johnston,natejohnston,"Add ""igmp_snooping_enable"" config option for OVS agent

Neutron-ovs-agent can now enable IGMP snooping in integration bridge
if config option ""igmp_snooping_enable"" in OVS section in config will
be set to True.
It will also set mcast-snooping-disable-flood-unregistered=true
so flooding of multicast packets to all unregistered ports will be
disabled also.
Both changes are applied on integration bridge.

Change-Id: I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b
Closes-Bug: #1840136
(cherry picked from commit 5b341150e29137e3dab671453a9a6c0908e74585)
"
openstack%2Fansible-role-systemd_networkd~stable%2Fussuri~I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd,openstack/ansible-role-systemd_networkd,stable/ussuri,osa/el8-stable/ussuri,I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd,Add CentOS 8 support,MERGED,2020-07-02 17:14:53.000000000,2020-07-08 14:04:18.000000000,2020-07-08 14:01:05.000000000,43,0,0,739106,0640f99363b3db845bae6bfbe22538502fe20b7f,10,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add CentOS 8 support

Change-Id: I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd
(cherry picked from commit 438e946a064074765b8dda560ff0ad5a2bee5bb8)
"
openstack%2Fopenstack-helm~master~I73f2ced2b09dbb93146334b59fe4571fa13dbfb0,openstack/openstack-helm,master,tf_support,I73f2ced2b09dbb93146334b59fe4571fa13dbfb0,Add TungstenFabric compatibility to charts,MERGED,2019-06-05 17:46:46.000000000,2020-07-08 14:03:44.000000000,2020-07-08 13:47:49.000000000,716,1,76,663390,4f2eb8cac6929bc4f5225a1a0117785c59e95a49,277,19,91,15,30551,Oleg Bravo,olegbravo,"Add TungstenFabric compatibility to charts

The charts changes are required for deployment
of various clouds based on Tungsten Fabric SDN.
Right now it's tested for Airship-in-a-bottle.

The code cannot be tested currently in
OpenStack Helm project because of absence of
tests and platform for that.

This patchset doesn't have Heat-related changes,
they'll be added later.

Change-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0
Depends-On: https://review.opendev.org/#/c/734635/
"
openstack%2Freleases~master~I95e5eefda3fb950859b9c72528977ad2aaf6b0f5,openstack/releases,master,bifrost-victoria-820,I95e5eefda3fb950859b9c72528977ad2aaf6b0f5,Release bifrost 8.2.0 for victoria,MERGED,2020-07-07 11:20:55.000000000,2020-07-08 13:40:19.000000000,2020-07-08 13:40:19.000000000,9,0,1,739714,2028b7434f1bd36e0d2c22d714f5df9dfbc5621b,18,4,4,1,23851,Riccardo Pittau,elfosardo,"Release bifrost 8.2.0 for victoria

Also add stable-branch-type: std-with-versions to reflect change
in the release model.

Change-Id: I95e5eefda3fb950859b9c72528977ad2aaf6b0f5
"
openstack%2Fsushy-tools~master~I838c93f3db477bb00d27ddca5bd30e94f5b9321c,openstack/sushy-tools,master,victoria-tests,I838c93f3db477bb00d27ddca5bd30e94f5b9321c,Use victoria tests,MERGED,2020-07-03 07:34:56.000000000,2020-07-08 13:36:20.000000000,2020-07-08 13:26:49.000000000,26,1,0,739173,4c717c376485f6c2501e5872512c34375c52cc1b,8,3,1,2,23851,Riccardo Pittau,elfosardo,"Use victoria tests

Also fix the behavior change of the tostring() function in
Python 3.8 in test_libvirt.

Change-Id: I838c93f3db477bb00d27ddca5bd30e94f5b9321c
"
openstack%2Fnova~master~I0f7ca5ab5ee887c88e973f4a188f12b2ac248f16,openstack/nova,master,,I0f7ca5ab5ee887c88e973f4a188f12b2ac248f16,WIP block_device: Ensure volume returns to in-use if attachment_delete fails,ABANDONED,2020-05-28 11:52:58.000000000,2020-07-08 13:25:40.000000000,,21,1,0,731505,36fe942ea6bbe662670bf533bd1fc5f1d725bb75,11,9,1,1,10135,Lee Yarwood,lyarwood,"WIP block_device: Ensure volume returns to in-use if attachment_delete fails

Change-Id: I0f7ca5ab5ee887c88e973f4a188f12b2ac248f16
"
openstack%2Fneutron~master~I5dc1d8e7bcc94efd1fab68d980d60e3130d5e5bc,openstack/neutron,master,bug/1881297,I5dc1d8e7bcc94efd1fab68d980d60e3130d5e5bc,Use the correct value for the DHCP client port number,MERGED,2020-06-08 19:31:57.000000000,2020-07-08 13:23:51.000000000,2020-07-08 13:20:00.000000000,10,10,4,734182,0ffaac1db23d916c7a73437b13fab56bb9f6b6da,40,9,3,4,1131,Brian Haley,brian-haley,"Use the correct value for the DHCP client port number

Version 2.4.0 of neutron-lib has the DHCP port numbers
correct, so start using them.

Also updated other code in linux/dhcp.py to use the
constants as well, instead of re-defining them.

Closes-bug: #1882588

Change-Id: I5dc1d8e7bcc94efd1fab68d980d60e3130d5e5bc
"
openstack%2Fnova~stable%2Fstein~Ic719f2406cfdeb5779a3d85358791da40b9b8791,openstack/nova,stable/stein,,Ic719f2406cfdeb5779a3d85358791da40b9b8791,stable-only: skip volume backup tests in cellsv1 job,ABANDONED,2020-05-12 10:22:10.000000000,2020-07-08 13:20:07.000000000,,3,0,3,727147,28428b74782a37aad1cdc44e82396e0b47f23e7d,22,8,3,1,10135,Lee Yarwood,lyarwood,"stable-only: skip volume backup tests in cellsv1 job

These tests have long been skipped by the removal of the c-bak service
from the deployed test envs in Nova and have no relevance to cellsv1.
As we can't adjust the deployed services just skip the tests for now in
the cellsv1 jobs.

Change-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791
"
openstack%2Fnova~stable%2Frocky~Ic719f2406cfdeb5779a3d85358791da40b9b8791,openstack/nova,stable/rocky,,Ic719f2406cfdeb5779a3d85358791da40b9b8791,stable-only: skip volume backup tests in cellsv1 job,ABANDONED,2020-05-12 10:22:28.000000000,2020-07-08 13:20:04.000000000,,3,0,0,727148,9ca7248cadc717bf961eae5275c54df6923fdfb3,13,5,2,1,10135,Lee Yarwood,lyarwood,"stable-only: skip volume backup tests in cellsv1 job

These tests have long been skipped by the removal of the c-bak service
from the deployed test envs in Nova and have no relevance to cellsv1.
As we can't adjust the deployed services just skip the tests for now in
the cellsv1 jobs.

Change-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791
(cherry picked from commit 55fb6cc57d34b57e500cca749f9e464244f3c01d)
"
openstack%2Fnova~stable%2Fqueens~Ic719f2406cfdeb5779a3d85358791da40b9b8791,openstack/nova,stable/queens,,Ic719f2406cfdeb5779a3d85358791da40b9b8791,stable-only: skip volume backup tests in cellsv1 job,ABANDONED,2020-05-12 10:23:16.000000000,2020-07-08 13:20:02.000000000,,3,0,0,727150,c9ed8e14045c845b3cf098265d0efad324d2a60d,13,5,2,1,10135,Lee Yarwood,lyarwood,"stable-only: skip volume backup tests in cellsv1 job

These tests have long been skipped by the removal of the c-bak service
from the deployed test envs in Nova and have no relevance to cellsv1.
As we can't adjust the deployed services just skip the tests for now in
the cellsv1 jobs.

Change-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791
(cherry picked from commit 55fb6cc57d34b57e500cca749f9e464244f3c01d)
(cherry picked from commit 9ca7248cadc717bf961eae5275c54df6923fdfb3)
"
openstack%2Fironic~master~I226e329151e0f71e793ade432c80a1628aa21511,openstack/ironic,master,enforce-autospec,I226e329151e0f71e793ade432c80a1628aa21511,Enforce autospec in test_task_manager,MERGED,2020-07-07 13:46:19.000000000,2020-07-08 13:17:16.000000000,2020-07-08 13:00:50.000000000,9,10,0,739758,359d6bca92b4a5f6f0d843ee73f39ba2fbb20fb7,11,5,1,2,23851,Riccardo Pittau,elfosardo,"Enforce autospec in test_task_manager

And remove corresponding filter from tox.ini

Change-Id: I226e329151e0f71e793ade432c80a1628aa21511
"
openstack%2Fdevstack-plugin-ceph~master~I885ff78586540d01590f98cca2a00d55161dbe04,openstack/devstack-plugin-ceph,master,bp/update-cephfs-drivers,I885ff78586540d01590f98cca2a00d55161dbe04,[manila][ci] Disable tempest opt for snapshot cloning,MERGED,2020-07-08 05:11:16.000000000,2020-07-08 13:11:52.000000000,2020-07-08 13:08:30.000000000,5,0,0,739893,9036cca28506a964e1f4928980b2c27987e2ea73,7,2,1,1,16643,Goutham Pacha Ravi,gouthamr,"[manila][ci] Disable tempest opt for snapshot cloning

CephFS drivers don't support cloning snapshots
into shares. Manila's tempest tests need to be
told this explicitly. So, update the gate hooks
that control tempest configuration.

This affects all legacy style CephFS jobs that
use devstack-gate. These jobs will go away soon,
and be replaced with Zuulv3 native style job
definitions and this patch is a stop-gap,
because devstack-plugin-ceph is a branchless
devstack plugin, and we need to support legacy
style jobs for a while.

Change-Id: I885ff78586540d01590f98cca2a00d55161dbe04
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fironic~master~I35e2eb04306cf7538f715e077e0ad12f5bebea49,openstack/ironic,master,enforce-autospec,I35e2eb04306cf7538f715e077e0ad12f5bebea49,Follow up of enforce autospec in test_manager,MERGED,2020-07-02 14:55:48.000000000,2020-07-08 13:09:02.000000000,2020-07-08 13:00:48.000000000,21,21,0,739063,f26b500efb157c9e12828a74200de6c5cfeb784e,16,5,2,1,23851,Riccardo Pittau,elfosardo,"Follow up of enforce autospec in test_manager

Convert mock.ANY to actual call when possible.

Change-Id: I35e2eb04306cf7538f715e077e0ad12f5bebea49
"
openstack%2Fironic-inspector~master~I17cde409aba823f1d39540d8061ab5960b37cd87,openstack/ironic-inspector,master,,I17cde409aba823f1d39540d8061ab5960b37cd87,Add release version to release notes,MERGED,2020-07-07 16:48:33.000000000,2020-07-08 13:04:18.000000000,2020-07-08 13:00:52.000000000,6,6,0,739814,b1e79e0b4dd2fd06bc8e8027a66883f6941258a5,8,3,1,2,10239,Dmitry Tantsur,dtantsur,"Add release version to release notes

Change-Id: I17cde409aba823f1d39540d8061ab5960b37cd87
"
openstack%2Fironic-python-agent~master~I9c10bf05186dcebb37f175d61bf4ac9ff86b6510,openstack/ironic-python-agent,master,refactor-image,I9c10bf05186dcebb37f175d61bf4ac9ff86b6510,Refactor part of image module,MERGED,2020-07-03 15:05:55.000000000,2020-07-08 13:03:56.000000000,2020-07-08 13:00:46.000000000,32,27,4,739251,9d9a6bce5c246d18d50dc405265e865fb77142eb,17,5,2,1,23851,Riccardo Pittau,elfosardo,"Refactor part of image module

Shuffle some functions around and reduce size of _is_bootloader_loaded
moving logic out to a new function.

Change-Id: I9c10bf05186dcebb37f175d61bf4ac9ff86b6510
"
openstack%2Fos-ken~master~Ib609aeadfde08cb4c3767d51c3c9ec906504f8a7,openstack/os-ken,master,,Ib609aeadfde08cb4c3767d51c3c9ec906504f8a7,Update some URLs in README and tox,MERGED,2020-07-08 12:09:19.000000000,2020-07-08 13:00:29.000000000,2020-07-08 12:57:44.000000000,3,3,0,739965,9c04dc0c6f86f7984a47eb7250e8250ba322241a,8,3,1,2,21798,Bernard Cafarelli,bcafarel,"Update some URLs in README and tox

Use opendev.org URLs, point to storyboard instead of launchpad

Change-Id: Ib609aeadfde08cb4c3767d51c3c9ec906504f8a7
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5992edf43bf1995eebdf401c6bd886e77e528695,openstack/tripleo-heat-templates,stable/train,bug/1884654-stable/train,I5992edf43bf1995eebdf401c6bd886e77e528695,Always clear cached facts first,MERGED,2020-07-06 14:13:24.000000000,2020-07-08 12:58:52.000000000,2020-07-08 12:58:51.000000000,5,0,0,739494,40e2bf5dd1d9063c15573bf7b8a1bcdb81fc1035,14,5,2,1,3153,Emilien Macchi,emilienm,"Always clear cached facts first

Because you could be running against different clouds or hosts, we need
to always clear the facts at the start of the deployment playbook to
ensure we aren't using incorrectly cached facts. That being said, the
caching mechanism should persist between the plays in the overall
deployment.

Change-Id: I5992edf43bf1995eebdf401c6bd886e77e528695
Closes-Bug: #1884654
(cherry picked from commit 1f9942fd755a168f8a9b75afa09e8af7027d61d4)
"
openstack%2Ftripleo-heat-templates~master~I337aa287f1c88a0e2707b441fc6b19b997d52385,openstack/tripleo-heat-templates,master,dry/again,I337aa287f1c88a0e2707b441fc6b19b997d52385,Allow more tasks to be run in check mode,MERGED,2020-06-11 15:27:46.000000000,2020-07-08 12:58:49.000000000,2020-07-08 12:58:49.000000000,20,3,6,735179,df8003384ab347f8dd3265909ba4a416c105e77a,69,7,10,7,3153,Emilien Macchi,emilienm,"Allow more tasks to be run in check mode

When running Ansible in check mode (aka dry run), some tasks need some
changes, specially around variables and make sure they are actually
defined.

Change-Id: I337aa287f1c88a0e2707b441fc6b19b997d52385
"
openstack%2Fneutron-tempest-plugin~master~Ic032924cf90ba94f226c223053568f0708749531,openstack/neutron-tempest-plugin,master,enable-tls,Ic032924cf90ba94f226c223053568f0708749531,Fix cert handling for dynamic routing tests,MERGED,2020-07-02 10:53:05.000000000,2020-07-08 12:57:15.000000000,2020-07-08 12:57:15.000000000,2,2,3,739018,3cd2e1aa7c15a10159b946554122cbdb348b41fa,10,5,1,2,13252,Dr. Jens Harbott,jrosenboom,"Fix cert handling for dynamic routing tests

Instead of ignoring ca_certs, use the same configuration as the
remainder of the tests.

Change-Id: Ic032924cf90ba94f226c223053568f0708749531
"
openstack%2Fkolla~master~Ie9ce18f83c62bf133add5c9a464354d65c05722a,openstack/kolla,master,release-docs,Ie9ce18f83c62bf133add5c9a464354d65c05722a,[doc] Update example in release management,MERGED,2020-07-03 13:05:47.000000000,2020-07-08 12:47:15.000000000,2020-07-08 12:45:01.000000000,1,1,0,739226,2e00e27e2280de9f423787b0e90ae068d2d4baaa,9,4,1,1,30491,Radosław Piliszek,yoctozepto,"[doc] Update example in release management

Change-Id: Ie9ce18f83c62bf133add5c9a464354d65c05722a
"
openstack%2Fkolla-ansible~master~I4f10fdcbaa128fdb8d64c1490896ec6e29928f3c,openstack/kolla-ansible,master,,I4f10fdcbaa128fdb8d64c1490896ec6e29928f3c,[doc] Add missing required packages,MERGED,2020-07-07 16:13:14.000000000,2020-07-08 12:44:57.000000000,2020-07-08 12:40:06.000000000,2,2,3,739808,5cc52155150d328f657381cb4c9897ecc767cbd5,10,4,1,1,26285,wu.chunyang,wu.chunyang,"[doc] Add missing required packages

add missing required packages for octavia doc when build images
trivial fix

Change-Id: I4f10fdcbaa128fdb8d64c1490896ec6e29928f3c
"
openstack%2Fkolla-ansible~master~Iaa69b2096b09a448345de50911e21436875d48d6,openstack/kolla-ansible,master,bug/1886711,Iaa69b2096b09a448345de50911e21436875d48d6,Fix incorrect value of [storage]/ceph_keyring in gnocchi.conf,MERGED,2020-07-07 19:51:40.000000000,2020-07-08 12:43:04.000000000,2020-07-08 12:40:04.000000000,7,1,0,739843,9a0f8c319358b9b4a78bc38d8391dc61104ad49d,9,3,1,2,15197,Pierre Riteau,priteau,"Fix incorrect value of [storage]/ceph_keyring in gnocchi.conf

The value should be the full path to the keyring file, not just the
name. Without this fix Gnocchi fails to connect to Ceph.

Change-Id: Iaa69b2096b09a448345de50911e21436875d48d6
Closes-Bug: #1886711
"
openstack%2Ftripleo-operator-ansible~master~Ie4df9d621376935c441e89c73b6cffa9f18d52b6,openstack/tripleo-operator-ansible,master,opts,Ie4df9d621376935c441e89c73b6cffa9f18d52b6,Update introspection and discovery with latest options,MERGED,2020-07-06 09:01:20.000000000,2020-07-08 12:25:28.000000000,2020-07-08 12:25:28.000000000,112,2,0,739432,00fba6dea3dd1985de3fabc0ca028a1fca556bf4,7,5,1,8,10969,Shnaidman Sagi (Sergey),sergsh,"Update introspection and discovery with latest options

Add new options for introspection in discovery and introspection
roles.
Options are from client patch: https://review.opendev.org/#/c/737568
Change-Id: Ie4df9d621376935c441e89c73b6cffa9f18d52b6
"
openstack%2Fironic~master~I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671,openstack/ironic,master,story/2007733,I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671,Correct Redfish boot once fallback conditional,MERGED,2020-06-25 02:02:05.000000000,2020-07-08 12:24:34.000000000,2020-07-08 12:08:43.000000000,32,1,7,737892,91b0f738347cdbcb87c320e80023657b1824b6a5,48,15,5,2,23847,Richard G. Pioso,richard.pioso,"Correct Redfish boot once fallback conditional

This corrects the variable examined to determine if falling back from
Redfish boot source override enabled continuous to once should be
performed. The value of the variable 'enabled', instead of
'desired_enabled', should be used.

Story: 2007733
Task: 40273
Change-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671
"
openstack%2Fkolla~master~I6f04ee8243747ffeccdfe61e664e1aa6b1f9c78f,openstack/kolla,master,remove-sensu,I6f04ee8243747ffeccdfe61e664e1aa6b1f9c78f,Remove sensu images,ABANDONED,2020-06-09 15:46:05.000000000,2020-07-08 12:13:20.000000000,,5,191,0,734632,a3cb466d04aac6db3ce8d9a160156571d75f769f,5,3,1,15,167,Christian Berendt,berendt,"Remove sensu images

Change-Id: I6f04ee8243747ffeccdfe61e664e1aa6b1f9c78f
"
openstack%2Ftripleo-ansible~master~Ic6c2f0c8b9bd7096eecbc4d1b1fff8f7a597299e,openstack/tripleo-ansible,master,dnm,Ic6c2f0c8b9bd7096eecbc4d1b1fff8f7a597299e,DNM: Testing molecule job for tripleo_clients_install,ABANDONED,2020-06-23 00:47:46.000000000,2020-07-08 12:13:16.000000000,,1,0,0,737398,9f9a4e59e9b6380fc697e98efc4c313f56e5c7ff,4,2,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Testing molecule job for tripleo_clients_install

Change-Id: Ic6c2f0c8b9bd7096eecbc4d1b1fff8f7a597299e
"
openstack%2Ftripleo-heat-templates~master~I131e9e044fc2c62945c523a3b1f4d7145f1616d2,openstack/tripleo-heat-templates,master,horizon-console,I131e9e044fc2c62945c523a3b1f4d7145f1616d2,Try console logger of Horizon,ABANDONED,2020-05-24 00:53:08.000000000,2020-07-08 12:12:08.000000000,,1,0,0,730484,23b10416dd3c9224b30d086af89e871eb4016265,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Try console logger of Horizon

Depends-on: https://review.opendev.org/#/c/729585/
Change-Id: I131e9e044fc2c62945c523a3b1f4d7145f1616d2
"
openstack%2Foctavia~master~I3e2d25d0a9f698f5ce7d093306873e839b04027c,openstack/octavia,master,,I3e2d25d0a9f698f5ce7d093306873e839b04027c,[doc] add missing but required package,ABANDONED,2020-07-08 11:18:54.000000000,2020-07-08 11:47:34.000000000,,1,1,0,739953,c56e8799af785a6d83e18fb6300878d06ae43b3b,5,3,1,1,26285,wu.chunyang,wu.chunyang,"[doc] add missing but required package

debootstrap is also needed on centos during build image.

Change-Id: I3e2d25d0a9f698f5ce7d093306873e839b04027c
"
openstack%2Fcinder~master~I5b011f1a34ba00966cf3829d3502b0a3699a7a6e,openstack/cinder,master,manage_unmanage_api,I5b011f1a34ba00966cf3829d3502b0a3699a7a6e,Added manage/unmanage volume and snapshot support to Infinidat driver.,NEW,2020-01-23 01:57:26.000000000,2020-07-08 11:46:46.000000000,,642,39,23,703907,eeab3c3352cab558ba77774a3aed8a8b9846a0c9,376,51,11,4,31354,Venu Nayar,vnayar,"Added manage/unmanage volume and snapshot support to Infinidat driver.

Release note: infinidat-manage-unmanage-api.

Change-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e
"
openstack%2Fneutron~master~Iecca2649fc5e066fabe7f4b4746094506b595f0b,openstack/neutron,master,,Iecca2649fc5e066fabe7f4b4746094506b595f0b,[OVN] Stop using neutron_tempest_plugin in OVN singlenode job,MERGED,2020-06-23 12:25:37.000000000,2020-07-08 11:04:25.000000000,2020-07-08 10:57:00.000000000,3,40,7,737518,193df8279dbca4af6cb12fe25b79de4c1716f663,44,8,10,2,24791,Maciej Jozefczyk,maciej.jozefczyk,"[OVN] Stop using neutron_tempest_plugin in OVN singlenode job

In patch [1] we moved neutron_tempest_plugin test executions to
neutron-tempest-plugin repository.
That moves us forward with unifying the way of executing tests
after OVN merge.

[1] https://review.opendev.org/#/c/734832/

Change-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b
"
openstack%2Fdevstack~master~Ib8691c3eeee59758fbd98989d9460f1458ea422f,openstack/devstack,master,bug/1815082,Ib8691c3eeee59758fbd98989d9460f1458ea422f,Remove n-api-metadata service from compute nodes,MERGED,2020-07-07 07:03:21.000000000,2020-07-08 11:04:16.000000000,2020-07-08 10:57:04.000000000,1,6,4,739664,6184dea966d56f13f15d926dbb09e527ae3ba39e,12,4,2,1,11347,Rui Zang,rzang,"Remove n-api-metadata service from compute nodes

Starting up n-api-metadata service on every compute nodes does
not solve the problem of isolated networks (no route to metadata
service). It all depends on how 'enable_isolated_metadata' and
related options (e.g. force_metadata) are set in dhcp agent and
what is configured for the 'nova_metadata_host' option of q-meta
service. Having a global n-api-metadata service in the control
node is sufficient for a mult-node lab setup.
Besides, the n-api-metadata services on compute nodes are not
really working due to https://bugs.launchpad.net/nova/+bug/1815082

Change-Id: Ib8691c3eeee59758fbd98989d9460f1458ea422f
Related-Bug: 1815082
"
openstack%2Fpython-zaqarclient~master~Ia32c2262d4d871c31b141c23e8f49bade7720a8a,openstack/python-zaqarclient,master,kwargs,Ia32c2262d4d871c31b141c23e8f49bade7720a8a,Fix the error of parameter passing,MERGED,2020-07-08 09:09:56.000000000,2020-07-08 11:02:09.000000000,2020-07-08 10:54:56.000000000,2,2,0,739931,27a628f03b81917dbddae9eec6861d11c577fe15,7,3,1,1,28367,Zijian Guo,ZijianGuo,"Fix the error of parameter passing

Change-Id: Ia32c2262d4d871c31b141c23e8f49bade7720a8a
Signed-off-by: ZijianGuo <guozijn@gmail.com>
"
openstack%2Foctavia~master~Id52745f4751a62c53afbde94038b18b614f9b2dd,openstack/octavia,master,,Id52745f4751a62c53afbde94038b18b614f9b2dd,Remove translation sections from setup.cfg,MERGED,2020-05-14 10:55:50.000000000,2020-07-08 10:26:55.000000000,2020-07-08 10:22:13.000000000,0,16,0,728025,2f610b953463a3d186ac1e86edd56e93b1115c98,14,6,2,2,17130,melissaml,malei,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: Id52745f4751a62c53afbde94038b18b614f9b2dd
"
openstack%2Fironic~master~I8f6abbad1612311887f16a88c0fd3b7de8659e27,openstack/ironic,master,propose-release,I8f6abbad1612311887f16a88c0fd3b7de8659e27,Add documentation on how to propose a release,MERGED,2020-07-07 08:38:43.000000000,2020-07-08 10:22:16.000000000,2020-07-08 10:14:05.000000000,91,0,6,739678,759b722a5951d8d610e02bd491898702af7044dd,22,6,4,1,23851,Riccardo Pittau,elfosardo,"Add documentation on how to propose a release

Change-Id: I8f6abbad1612311887f16a88c0fd3b7de8659e27
"
openstack%2Fcharm-swift-proxy~master~I2d29812dc370065b010c49adbcc090c30b2d327e,openstack/charm-swift-proxy,master,batch-groovy-ch-libs,I2d29812dc370065b010c49adbcc090c30b2d327e,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:37:18.000000000,2020-07-08 10:22:12.000000000,2020-07-08 10:22:12.000000000,26,25,0,732676,6f4fdc97e98266413a4f65210483327a2c6e021e,16,5,1,4,20870,Alex Kavanagh,ajkavanagh,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I2d29812dc370065b010c49adbcc090c30b2d327e
"
openstack%2Fnova~master~Iebe2f629a2dcd6430dbce080243afbd3b4b509b9,openstack/nova,master,num-instances-filter,Iebe2f629a2dcd6430dbce080243afbd3b4b509b9,WIP: Sanity check for NumInstancesFilter,NEW,2017-12-22 17:39:37.000000000,2020-07-08 10:20:19.000000000,,8,0,1,529866,d5f8a3521e9ab8a9dc750ab1d948f14f7a4b3a9e,28,15,3,1,6873,Matt Riedemann,mriedem,"WIP: Sanity check for NumInstancesFilter

Someone was reporting that num_instances was 0 when the
node clearly had instances on it, so this change adds a
sanity check and logs a warning so we can see if this can
be hit in CI testing.

Related-Bug: #1740320

Change-Id: Iebe2f629a2dcd6430dbce080243afbd3b4b509b9
"
openstack%2Fnetworking-ovn~stable%2Frocky~Ia0ba2e78d4f97294a93ff127d9098978af21ba53,openstack/networking-ovn,stable/rocky,,Ia0ba2e78d4f97294a93ff127d9098978af21ba53,Fix broken gate because of OVS module compilation,MERGED,2020-06-24 14:25:21.000000000,2020-07-08 10:17:43.000000000,2020-07-08 10:17:43.000000000,14,10,0,737816,b623c77e72e4d312c2d6c4bfe2efe4637d416520,16,4,7,6,24791,Maciej Jozefczyk,maciej.jozefczyk,"Fix broken gate because of OVS module compilation

Fix functional jobs by installing missing dependencies

Six is needed for the OVS/OVN compilation and tox to run the tests
itself.

Update OVS/OVN to version 2.12 in order to have possibility to
compile it under Ubuntu Bionic.

There is no need to compile OVS kernel module for functional tests,
so disable it.

Change-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Co-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>
(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)
"
openstack%2Fdiskimage-builder~master~If2402bb02fc8a4778fa9434fa167ea1fafd87c28,openstack/diskimage-builder,master,,If2402bb02fc8a4778fa9434fa167ea1fafd87c28,Fix DIB scripts python version,MERGED,2020-07-07 19:53:52.000000000,2020-07-08 10:09:15.000000000,2020-07-08 10:06:50.000000000,3,21,0,739844,8b08d212c30c3c75eb23084f1e5552f970fe8b1d,14,8,1,6,11628,Michael Johnson,johnsom,"Fix DIB scripts python version

Now that DIB is python3 only we can remove a hack that made sure
scripts outside the chroot ran with the correct version of python.
This is necessary as python3 does not resolve symbolic links to the
binary like python2.x did, which causes element scripts to fail finding
modules when DIB was run from inside a venv.

This patch does the following:
1. Reverts 9c7b8d17144ae04dcd56cd736a8f05c76ec87cc1 which was the
   workaround for mixed python2/3 environments.
2. Updates the scripts to use ""python3"" instead of ""python"".

Change-Id: If2402bb02fc8a4778fa9434fa167ea1fafd87c28
"
openstack%2Ftripleo-heat-templates~master~I0fddd2dd4619556aa8c8e2bb5e66cc882e033cf7,openstack/tripleo-heat-templates,master,drop-noop-defaults-in-resource-registry,I0fddd2dd4619556aa8c8e2bb5e66cc882e033cf7,[DNM] Drop noop isolated network resources,ABANDONED,2020-03-31 11:18:04.000000000,2020-07-08 09:46:05.000000000,,0,13,0,716243,64ba688543c23139fe4352c3c323a7e45ab9213f,5,3,1,1,24245,Harald Jensås,harald.jensas,"[DNM] Drop noop isolated network resources

This change is probably going to break a lot of CI.

We have always had the issue of operators accidentally
forgetting to include environments/network-isolation.yaml
on an stack update, which result in the defaults for all
isolated networks in overcloud-resource-registry-puppet to
kick in and replace everything with NOOP.

Not including these resources in overcloud-resource-registry-puppet
should instead cause a heat validation error before anything bad
happens. This is an attemt at remove one gun so there is less chance
for the operator too shoot themselves in the foot.

If this change is merged deployment's without isolated networks will
have to specify /dev/null or a network_data.yaml with all networks
removed or disabled.

Change-Id: I0fddd2dd4619556aa8c8e2bb5e66cc882e033cf7
"
openstack%2Fneutron~stable%2Fqueens~I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6,openstack/neutron,stable/queens,bug/1884512,I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6,[OVS] Make QoS OVS agent deletion operations more resilient,MERGED,2020-06-26 09:24:52.000000000,2020-07-08 09:41:52.000000000,2020-07-08 09:41:52.000000000,13,13,0,738173,583c0313edb35afdc0afe94914f2e568cfe7a657,23,5,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVS] Make QoS OVS agent deletion operations more resilient

When a Port is deleted, the QoS extension will reset any rule (QoS
and Queue registers) applied on this port or will reset the
related Interface policing parameters.

If the Port and the related Interface are deleted during the QoS
extension operation, those commands will fail. This patch makes those
operations more resiliant by not checking the errors when writing on
the Port or the Interface register.

NOTE: this patch is squashed with [1]. That will fix the problem
with empty ""vsctl"" transactions when using this OVS DB implementation.

[1]https://review.opendev.org/#/c/738574/

Change-Id: I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6
Closes-Bug: #1884512
(cherry picked from commit e2d1c2869a2c8883157d29cf47d7a5236e63dbc1)
(cherry picked from commit 84ac8cf9ffb66d826d9d7875bb0d1addc9120034)
(cherry picked from commit 3785868bfb387002f4a89d3fa18c20210e8f17db)
(cherry picked from commit 7edfb0ef4aba338e0225dffda7c8bf0918ef71cb)
(cherry picked from commit 94271ad8661a36558172d141a84fdd3891786090)
"
openstack%2Frally~master~I4a10dda03078c51380e8faad7684d2ba810f097f,openstack/rally,master,,I4a10dda03078c51380e8faad7684d2ba810f097f,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-07-05 12:16:34.000000000,2020-07-08 09:40:57.000000000,2020-07-08 09:40:57.000000000,1,1,0,739361,7a5e8945f1ef70a76ba7de172c60b049e84c68f2,6,2,1,1,17130,melissaml,malei,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I4a10dda03078c51380e8faad7684d2ba810f097f
"
openstack%2Freleases~master~I8ca4ca8f72d374a2fee026acb397b8005254a0c9,openstack/releases,master,ironic-python-agent-train-503,I8ca4ca8f72d374a2fee026acb397b8005254a0c9,Release ironic-python-agent 5.0.3 for train,MERGED,2020-07-07 09:07:33.000000000,2020-07-08 09:30:32.000000000,2020-07-08 09:30:32.000000000,4,0,0,739681,db5f30215776b867162fbd98300fc4572920f3b6,11,4,2,1,23851,Riccardo Pittau,elfosardo,"Release ironic-python-agent 5.0.3 for train

Change-Id: I8ca4ca8f72d374a2fee026acb397b8005254a0c9
"
openstack%2Freleases~master~I3d02f8fe15a7afb0e2c13fa7ab0207c98314a68d,openstack/releases,master,release-ironic-train-1305,I3d02f8fe15a7afb0e2c13fa7ab0207c98314a68d,Release ironic 13.0.5 for train,MERGED,2020-07-07 07:42:46.000000000,2020-07-08 09:30:31.000000000,2020-07-08 09:30:31.000000000,4,0,0,739671,cded38f4a79328f9d0dc63af532a6ce887273923,11,5,1,1,23851,Riccardo Pittau,elfosardo,"Release ironic 13.0.5 for train

Change-Id: I3d02f8fe15a7afb0e2c13fa7ab0207c98314a68d
"
openstack%2Fkolla~stable%2Fussuri~I81e5b7abf4571fece13a029e25911e9e4dece673,openstack/kolla,stable/ussuri,disable-systemd-getent-stable/ussuri,I81e5b7abf4571fece13a029e25911e9e4dece673,Drop systemd support from nsswitch.conf on RHEL-based distros,MERGED,2020-07-06 14:44:54.000000000,2020-07-08 09:30:14.000000000,2020-07-08 09:26:34.000000000,9,1,0,739507,e667c10c67f7bbbc7682c775a37b35ad064697ad,10,4,1,2,30491,Radosław Piliszek,yoctozepto,"Drop systemd support from nsswitch.conf on RHEL-based distros

A bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we
should remove the nss-systemd lookup from containers. The reasons for
this are as follows:
1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5
when this nss module is triggered it tries to talk to dbus.
It triggers a bunch of selinux denials and it makes little sense
to open all containers to talk to dbus.
In particular, if a container is run as non-privileged and bind-mounts
/run from the host, we will hit selinux denials like the following:

  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg='avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?'UID=""dbus"" AUID=""unset"" SAUID=""dbus""

2) It just makes little sense in a kolla-world to have containers
talk to dbus/systemd and it saves us some time when a lookup triggers
the systemd module for whatever reason. Especially because the
nss-systemd module does a few things which are not useful in a container
(ensures that the root and nobody users and groups remain resolvable,
SystemD's DynamicUser= feature, provide Lookup API via Varlink)

The sed regex gives us the wanted results:
$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf
--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000
+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000
@@ -53,9 +53,9 @@
 # group:     db files

 # In order of likelihood of use to accelerate lookup.
-passwd:      sss files systemd
+passwd:      sss files
 shadow:     files sss
-group:       sss files systemd
+group:       sss files
 hosts:      files dns myhostname
 services:   files sss
 netgroup:   sss

Related-Bug: #1883849

Change-Id: I81e5b7abf4571fece13a029e25911e9e4dece673
(cherry picked from commit dc2ddfa9750f94430a5b04b62fc1fa6adcb234f8)
"
openstack%2Fkolla~stable%2Ftrain~I81e5b7abf4571fece13a029e25911e9e4dece673,openstack/kolla,stable/train,disable-systemd-getent-stable/ussuri-stable/train,I81e5b7abf4571fece13a029e25911e9e4dece673,Drop systemd support from nsswitch.conf on RHEL-based distros,MERGED,2020-07-06 14:45:03.000000000,2020-07-08 09:30:03.000000000,2020-07-08 09:26:33.000000000,9,1,0,739508,0e6465543e4ae91c9b791944444e72905a716a6d,9,4,1,2,30491,Radosław Piliszek,yoctozepto,"Drop systemd support from nsswitch.conf on RHEL-based distros

A bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we
should remove the nss-systemd lookup from containers. The reasons for
this are as follows:
1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5
when this nss module is triggered it tries to talk to dbus.
It triggers a bunch of selinux denials and it makes little sense
to open all containers to talk to dbus.
In particular, if a container is run as non-privileged and bind-mounts
/run from the host, we will hit selinux denials like the following:

  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg='avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?'UID=""dbus"" AUID=""unset"" SAUID=""dbus""

2) It just makes little sense in a kolla-world to have containers
talk to dbus/systemd and it saves us some time when a lookup triggers
the systemd module for whatever reason. Especially because the
nss-systemd module does a few things which are not useful in a container
(ensures that the root and nobody users and groups remain resolvable,
SystemD's DynamicUser= feature, provide Lookup API via Varlink)

The sed regex gives us the wanted results:
$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf
--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000
+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000
@@ -53,9 +53,9 @@
 # group:     db files

 # In order of likelihood of use to accelerate lookup.
-passwd:      sss files systemd
+passwd:      sss files
 shadow:     files sss
-group:       sss files systemd
+group:       sss files
 hosts:      files dns myhostname
 services:   files sss
 netgroup:   sss

Related-Bug: #1883849

Change-Id: I81e5b7abf4571fece13a029e25911e9e4dece673
(cherry picked from commit dc2ddfa9750f94430a5b04b62fc1fa6adcb234f8)
"
openstack%2Fkolla~stable%2Fstein~I81e5b7abf4571fece13a029e25911e9e4dece673,openstack/kolla,stable/stein,disable-systemd-getent-stable/ussuri-stable/train-stable/stein,I81e5b7abf4571fece13a029e25911e9e4dece673,Drop systemd support from nsswitch.conf on RHEL-based distros,MERGED,2020-07-06 14:45:10.000000000,2020-07-08 09:30:00.000000000,2020-07-08 09:26:36.000000000,9,1,0,739509,7038e3ff03c6d08e7b794f9087675964ddbbed0a,8,4,1,2,30491,Radosław Piliszek,yoctozepto,"Drop systemd support from nsswitch.conf on RHEL-based distros

A bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we
should remove the nss-systemd lookup from containers. The reasons for
this are as follows:
1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5
when this nss module is triggered it tries to talk to dbus.
It triggers a bunch of selinux denials and it makes little sense
to open all containers to talk to dbus.
In particular, if a container is run as non-privileged and bind-mounts
/run from the host, we will hit selinux denials like the following:

  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg='avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?'UID=""dbus"" AUID=""unset"" SAUID=""dbus""

2) It just makes little sense in a kolla-world to have containers
talk to dbus/systemd and it saves us some time when a lookup triggers
the systemd module for whatever reason. Especially because the
nss-systemd module does a few things which are not useful in a container
(ensures that the root and nobody users and groups remain resolvable,
SystemD's DynamicUser= feature, provide Lookup API via Varlink)

The sed regex gives us the wanted results:
$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf
--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000
+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000
@@ -53,9 +53,9 @@
 # group:     db files

 # In order of likelihood of use to accelerate lookup.
-passwd:      sss files systemd
+passwd:      sss files
 shadow:     files sss
-group:       sss files systemd
+group:       sss files
 hosts:      files dns myhostname
 services:   files sss
 netgroup:   sss

Related-Bug: #1883849

Change-Id: I81e5b7abf4571fece13a029e25911e9e4dece673
(cherry picked from commit dc2ddfa9750f94430a5b04b62fc1fa6adcb234f8)
"
openstack%2Fironic~master~If6fc0b99c4cb8654ba0b50400d51a184518a32cb,openstack/ironic,master,jsonpatch,If6fc0b99c4cb8654ba0b50400d51a184518a32cb,Do not verify error messages from jsonpatch in unit tests,MERGED,2020-07-07 15:44:06.000000000,2020-07-08 09:24:03.000000000,2020-07-08 09:06:29.000000000,14,25,0,739803,addbdf7c2b325288d9a024e699fd5d626b6885aa,11,6,1,2,10239,Dmitry Tantsur,dtantsur,"Do not verify error messages from jsonpatch in unit tests

They are not guaranteed to be stable and actually change in the next
version of jsonpatch.

Change-Id: If6fc0b99c4cb8654ba0b50400d51a184518a32cb
"
openstack%2Fcinder~stable%2Frocky~I08487575e52c5cfd5a268a23d97b6bd931aeaa45,openstack/cinder,stable/rocky,bug/1821207-stable/rocky,I08487575e52c5cfd5a268a23d97b6bd931aeaa45,Fix service_uuid migration for volumes with no host,MERGED,2019-12-05 15:31:26.000000000,2020-07-08 09:23:01.000000000,2020-01-03 19:33:02.000000000,8,3,0,697502,d70fc16718bce37404dd62aba24e2f0b7782a7cc,35,16,1,2,15197,Pierre Riteau,priteau,"Fix service_uuid migration for volumes with no host

For volumes that have no host assigned, this
migration will fail.  Skip those volumes, as they
don't need to be updated.

Closes-Bug: #1821207
Change-Id: I08487575e52c5cfd5a268a23d97b6bd931aeaa45
(cherry picked from commit 47d2a98fa63fb1bdf122c8a40bd06ea9c1709855)
(cherry picked from commit 997af3aa6b55d24c55c7cb9d179ca63819e40157)
"
openstack%2Fironic~master~I27fee44d8c89ed5dff310822af2a103e5e6e682c,openstack/ironic,master,fast-track-log,I27fee44d8c89ed5dff310822af2a103e5e6e682c,Log when a node should be fast-track-able but it's not,MERGED,2020-07-03 09:22:41.000000000,2020-07-08 09:15:25.000000000,2020-07-08 09:06:27.000000000,19,5,0,739189,1a02c79ed135291814695462bad633d6464af266,14,7,1,1,10239,Dmitry Tantsur,dtantsur,"Log when a node should be fast-track-able but it's not

Change-Id: I27fee44d8c89ed5dff310822af2a103e5e6e682c
"
openstack%2Fpython-tripleoclient~master~I555acc1553f4fb55f9aa34c990e476f685270da0,openstack/python-tripleoclient,master,drop_future_imports,I555acc1553f4fb55f9aa34c990e476f685270da0,Stop to use the __future__ module.,ABANDONED,2020-06-02 18:53:51.000000000,2020-07-08 09:04:18.000000000,,0,23,0,732938,122d62ae2a49fafe02226a7cedd7b07ca4e6b78c,10,3,1,16,28522,Hervé Beraud,hberaud,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I555acc1553f4fb55f9aa34c990e476f685270da0
"
openstack%2Fkolla-ansible~master~Icb5837b678c146890d5c8470bebe14074d87d126,openstack/kolla-ansible,master,,Icb5837b678c146890d5c8470bebe14074d87d126,fix typo for om_rpc_transport default value.,NEW,2020-07-08 08:34:44.000000000,2020-07-08 09:02:25.000000000,,1,1,0,739925,bbb5f9304c9881f9f7644bb713d5c512c1b37e51,3,2,1,1,26498,liumengke,liumk,"fix typo for om_rpc_transport default value.

Change-Id: Icb5837b678c146890d5c8470bebe14074d87d126
"
openstack%2Fdesignate~master~Idef54da1134e14511f336911b7c82f6a0bb282ce,openstack/designate,master,mock_removal,Idef54da1134e14511f336911b7c82f6a0bb282ce,Replace mock with unittest.mock,ABANDONED,2020-07-08 05:31:39.000000000,2020-07-08 08:52:29.000000000,,1,1,0,739894,03fb2bf8605b6ab92bca346a4d00c4e08370fb38,5,3,1,1,6994,Michael Chapman,michaeltchapman,"Replace mock with unittest.mock

Unittest is in the std library since py3

Change-Id: Idef54da1134e14511f336911b7c82f6a0bb282ce
"
openstack%2Ftripleo-ansible~master~Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77,openstack/tripleo-ansible,master,module/check_status,Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77,Introduce an Action Plugin to fetch container infos,MERGED,2020-06-29 12:56:18.000000000,2020-07-08 08:41:32.000000000,2020-07-08 07:21:24.000000000,347,117,9,738436,19774d0be436034ff2d5510d9cea2abbee296af1,57,5,14,6,3153,Emilien Macchi,emilienm,"Introduce an Action Plugin to fetch container infos

Instead of running a bunch of tasks to figure out what container
commands have been run, which ones did not terminate after 5 minutes,
which ones failed or finished with a wrong exit code. We now have an
action plugin that will do it faster and with better logging.

Faster before it reduces the number of tasks.
Better logging is provided, now displaying all errors during a run and
fail at the end.

Supporting check-mode.

Re-using tripleo_container_manage role for molecule testing.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>

Change-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77
"
openstack%2Fcharm-nova-compute~master~I83850f9149a4b2c0d6ffb5aa559d5e3bd8109f8e,openstack/charm-nova-compute,master,bug/1823718,I83850f9149a4b2c0d6ffb5aa559d5e3bd8109f8e,Add disco-stein bundle to gate tests,ABANDONED,2019-08-27 17:58:19.000000000,2020-07-08 08:27:09.000000000,,4,1,0,678925,98b72f23e33a49bf26d0e4b797136cb435a565de,10,4,1,2,30670,Camille Rodriguez,crodriguez,"Add disco-stein bundle to gate tests

The bundle disco-stein was in the dev bundles because
a bug with the Python 3.7 syntax prevented the success of
the deployment of HA clusters. This bug is fixed, we can
reintegrate disco-stein in the gate bundles.

Other small additions:
- removing sitepackages in tox.ini to avoid test env pollution
- skip_missing_interpreters in tox.ini set to False to avoid false
positives by skipping missing interpreters.

LP Related-Bug: #1823718
Change-Id: I83850f9149a4b2c0d6ffb5aa559d5e3bd8109f8e
"
openstack%2Fnova~stable%2Fussuri~I9619338ad0f60253b628d96543f8ce3ac86242e3,openstack/nova,stable/ussuri,bug/1882821,I9619338ad0f60253b628d96543f8ce3ac86242e3,"libvirt: Don't allow ""reserving"" file-backed memory",MERGED,2020-06-17 13:37:43.000000000,2020-07-08 08:15:44.000000000,2020-07-08 08:12:55.000000000,96,19,0,736219,9d3ebd58aa6a7514ab4db401980848570415706a,34,8,2,4,15334,Stephen Finucane,sfinucan,"libvirt: Don't allow ""reserving"" file-backed memory

When file-backed memory is configured, it is the only ""memory"" reported
by nova and used by instances, with RAM used in caching capacity. We
should be warning users of this and insisting they explicitly configure
the '[DEFAULT] reserved_host_memory_mb' config option to 0. However,
doing so now would be breaking change. Instead, start logging a warning
instead, failing only for the truly broken combination of reserving more
file-backed memory than we have allocated.

Change-Id: I9619338ad0f60253b628d96543f8ce3ac86242e3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1882821
(cherry picked from commit 3b99747b42e460567d52cc6d748396cb349d56b8)
"
openstack%2Frequirements~master~I158bcc8c249ad7ec981707c0d96ad8db87eb23d9,openstack/requirements,master,bug/1886422,I158bcc8c249ad7ec981707c0d96ad8db87eb23d9,"Add ""isort"" library to blacklist",MERGED,2020-07-06 12:23:21.000000000,2020-07-08 07:54:12.000000000,2020-07-07 12:36:24.000000000,1,0,5,739469,be1dca06e04a68e6ad02f293369124d3c24875ba,31,10,5,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add ""isort"" library to blacklist

""pylint"" requires a class named ""SortImports"", not present in
""isort"" versions >=5.0.0. Until ""pylint"" fixes this problem, we
should allow each projecty to install its own ""isort"" library
version to unblock CI pep8 jobs.

Change-Id: I158bcc8c249ad7ec981707c0d96ad8db87eb23d9
Related-Bug: #1886422
"
openstack%2Fneutron~master~I91ab5a0f2533cee60b0888a4c57fe41017ae9225,openstack/neutron,master,dns-v6-size,I91ab5a0f2533cee60b0888a4c57fe41017ae9225,Change default ipv6_ptr_zone_prefix_size to 64,ABANDONED,2020-05-27 09:04:35.000000000,2020-07-08 07:52:48.000000000,,24,15,3,731119,8fa8d329be14f41c360dd9a1f7b0580f44665e73,27,11,3,3,13252,Dr. Jens Harbott,jrosenboom,"Change default ipv6_ptr_zone_prefix_size to 64

The natural IPv6 network prefix size is a /64 at least when using SLAAC.
The old default would create a lot of different zones in designate when
creating PTR records for such a network, which all would need to be
delegated properly in order to get rDNS work correctly. With the new
default, there will be just a single zone that can be handled much
easier.

Amend the documentation accordingly and do a bit more of cleanup there
for consistency.

Change-Id: I91ab5a0f2533cee60b0888a4c57fe41017ae9225
"
openstack%2Ffreezer-api~master~I3187b652da0cf9e0b6211d8317d5cf3e50a4aba3,openstack/freezer-api,master,,I3187b652da0cf9e0b6211d8317d5cf3e50a4aba3,Add Devstack installation guide in README.rst,MERGED,2020-07-08 06:45:09.000000000,2020-07-08 07:45:46.000000000,2020-07-08 07:43:01.000000000,65,1,0,739902,4bb4ec03834442a9ac1fd3221c32ce05b27e6993,9,2,2,1,21069,Carl caihui,caihui,"Add Devstack installation guide in README.rst

Add  DevStak installation  guide for the freezer-api project.

Change-Id: I3187b652da0cf9e0b6211d8317d5cf3e50a4aba3
"
openstack%2Ffreezer-tempest-plugin~master~I5d5c1e762c92d235df5dc3673e9475457a84ea40,openstack/freezer-tempest-plugin,master,,I5d5c1e762c92d235df5dc3673e9475457a84ea40,Update DevStack installation guide,MERGED,2020-07-08 06:49:31.000000000,2020-07-08 07:45:05.000000000,2020-07-08 07:45:05.000000000,8,3,0,739903,d82ad4bda677690e3284ab4880da6a3dd09f5cdd,8,2,2,1,21069,Carl caihui,caihui,"Update DevStack installation guide

Update DevStack installation guide for the project

Change-Id: I5d5c1e762c92d235df5dc3673e9475457a84ea40
"
openstack%2Fansible-role-python_venv_build~stable%2Fussuri~I1a8f4961358c9551c5493b332187b411177b2769,openstack/ansible-role-python_venv_build,stable/ussuri,,I1a8f4961358c9551c5493b332187b411177b2769,Remove the virtualenv version check,MERGED,2020-07-06 17:57:24.000000000,2020-07-08 07:36:43.000000000,2020-07-08 07:32:36.000000000,9,28,0,739565,e7a165b1d05ae9b07b4a75e096af184da9609a6c,8,3,1,3,25023,Jonathan Rosser,jrosser,"Remove the virtualenv version check

Simplify this code by making the assumption that we always have a
new enough version of virtualenv present. Centos-7 ships 15.1.0 so
it is now possible to remove some conditional logic as well.

This patch removes the version check and replaces it with a check
that the virtualenv command is present on the system patch and
is usable.

Change-Id: I1a8f4961358c9551c5493b332187b411177b2769
(cherry picked from commit aabd3c07c29fd89a56cadc01ec3a2e3b682e5e14)
"
openstack%2Ftripleo-ansible~master~I614766bd9b111bda9ddfea0a60b032e1dee09abc,openstack/tripleo-ansible,master,stat_healthcheck/plugin,I614766bd9b111bda9ddfea0a60b032e1dee09abc,Introduce an Action Plugin to manage systemd services for containers,MERGED,2020-06-25 22:02:35.000000000,2020-07-08 07:21:25.000000000,2020-07-08 07:21:25.000000000,376,140,20,738118,af7f083066574dcefe637b3aae5026de4573d954,70,7,21,7,3153,Emilien Macchi,emilienm,"Introduce an Action Plugin to manage systemd services for containers

Instead of running a bunch of tasks to manage systemd resources, move
it into an action plugin which should make the execution faster and
easier to debug as well.

Example of task:
- name: Manage container systemd services
  container_systemd:
    container_config:
      - keystone:
          image: quay.io/tripleo/keystone
          restart: always
      - mysql:
          image: quay.io/tripleo/mysql
          stop_grace_period: 25
          restart: always

The output is ""restarted"" for the list of services that were actually
restarted in systemd.

Note on testing: since that module is consummed by
tripleo_container_manage role, there is no need to create dedicated
molecule tests, we already cover containers with restart policy in that
role's molecule tests. So we'll re-use it.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>

Change-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc
"
openstack%2Ftaskflow~master~Ice3633075a3ac58d05b8535b9bc8340f36130524,openstack/taskflow,master,,Ice3633075a3ac58d05b8535b9bc8340f36130524,Add requirements for jobboard backends,ABANDONED,2020-07-07 07:29:46.000000000,2020-07-08 06:53:28.000000000,,7,0,0,739670,07bce54b337e3c03555f04471489a03b2668081d,6,4,1,1,7249,Ann Taraday,AKamyshnikova,"Add requirements for jobboard backends

Requirements for python libraries were added only in
test-requirements.yaml although redis/kazoo should be installed
if jobboard is used.

Change-Id: Ice3633075a3ac58d05b8535b9bc8340f36130524
"
openstack%2Ftripleo-quickstart~master~I8cc1e6e05f52a9d08ca506c01285aa77a1349ecb,openstack/tripleo-quickstart,master,newcontainerbuild,I8cc1e6e05f52a9d08ca506c01285aa77a1349ecb,[DNM] testing new container workflow,ABANDONED,2020-06-30 14:25:04.000000000,2020-07-08 06:30:44.000000000,,1,1,0,738633,85de0f8bfc06a2db7467dc7f8900dc9b0fc13b3c,4,2,1,1,12393,chandan kumar,chkumar246,"[DNM] testing new container workflow

Change-Id: I8cc1e6e05f52a9d08ca506c01285aa77a1349ecb
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fglance-specs~master~I169a7aed53f6ff53415449ad9f2fc92e73fab937,openstack/glance-specs,master,609667,I169a7aed53f6ff53415449ad9f2fc92e73fab937,Spec for the Glance part of Image Encryption,MERGED,2018-10-11 10:56:32.000000000,2020-07-08 06:14:46.000000000,2020-07-08 06:13:00.000000000,343,1,75,609667,ca9cfd82a5f221691d4428e8cf99ff7523d3f15c,71,10,13,2,28271,Josephine Seifert,josei,"Spec for the Glance part of Image Encryption

We want to propose Image Encryption for Openstack, which would affect
Glance, but also Nova and Cinder. This spec contains the details of the
Glance part for the Image Encryption and an overview over all needed
changes.

Change-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937
Co-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>
"
openstack%2Frpm-packaging~stable%2Frocky~If67437e1888fe6e6ad835e07c85e6cbb0b5f0ea5,openstack/rpm-packaging,stable/rocky,,If67437e1888fe6e6ad835e07c85e6cbb0b5f0ea5,oswin-tempest-plugin: go with 0.1.0,MERGED,2020-07-07 13:31:01.000000000,2020-07-08 06:14:30.000000000,2020-07-08 06:14:30.000000000,2,2,0,739745,29134faeca568e1b5d98ea1db3e898da894e6d28,9,9,1,1,6593,Dirk Mueller,dmllr,"oswin-tempest-plugin: go with 0.1.0

Newer versions don't build with Rocky anymore

Change-Id: If67437e1888fe6e6ad835e07c85e6cbb0b5f0ea5
"
openstack%2Ftripleo-ci~master~I1989f4fcb94a9bc2e8504e8263377aa154efb549,openstack/tripleo-ci,master,newcontainerbuild,I1989f4fcb94a9bc2e8504e8263377aa154efb549,Fix container build role to support new container workflow,MERGED,2020-06-24 09:41:08.000000000,2020-07-08 06:06:58.000000000,2020-07-07 18:08:51.000000000,11,6,12,737727,c2ce879c4fe84b3ebb9cc8d7d7202690e3d1cae1,88,14,32,1,12393,chandan kumar,chkumar246,"Fix container build role to support new container workflow

When push_containers is set to true, it needs to be pushed
to a particular registry with proper namespace, prefix
and tag.

The default prefix is openstack but it needs to be
centos-binary.

Use version_hash to tag the containers and grep successful
containers based on ansible distribution as it defaults points
to kolla base.

It fixes the build.sh.j2 script for the same based on the
following doc[1.]
[1].
https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build

It is getting tested here: https://review.rdoproject.org/r/#/c/28194

https://tree.taiga.io/project/tripleo-ci-board/task/1834

Change-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Co-authored-by: Bhagyashri Shewale <bshewale@redhat.com>
"
openstack%2Ftripleo-common~stable%2Fussuri~Iff8eec43bd73bc6486f56e741e740869d1b8acbb,openstack/tripleo-common,stable/ussuri,callback-improvements-stable/ussuri,Iff8eec43bd73bc6486f56e741e740869d1b8acbb,Switch to tripleo_dense,MERGED,2020-07-06 18:43:29.000000000,2020-07-08 05:44:26.000000000,2020-07-08 05:42:34.000000000,7,5,0,739577,0d7f60c5c3461312734f222100e9d423c2374bde,16,5,1,2,3153,Emilien Macchi,emilienm,"Switch to tripleo_dense

Change-Id: Iff8eec43bd73bc6486f56e741e740869d1b8acbb
Depends-On: https://review.opendev.org/#/c/726479/
(cherry picked from commit 0186702a41c8a917013931a4dd2a1164777380fb)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I373636bbc9d296f41b63de76719320727d3f4fb9,openstack/tripleo-heat-templates,stable/train,,I373636bbc9d296f41b63de76719320727d3f4fb9,Add filestore to bluestore migration tags,MERGED,2020-07-06 21:44:55.000000000,2020-07-08 05:42:36.000000000,2020-07-08 05:42:36.000000000,40,10,0,739611,883d778f8ad0f78932c38da069727f48f8b9bb22,16,5,2,10,6796,Giulio Fidente,gfidente,"Add filestore to bluestore migration tags

Currently ceph-ansible assumes the cluster
(which is updated to ceph4) is using bluestore
just because it's the default on ceph-ansible.
This patch adds some missing tags to make sure
the variable contained in the heat stack are
properly regenerated and the fs2bs playbook can
be executed with the right variables.

Change-Id: I373636bbc9d296f41b63de76719320727d3f4fb9
(cherry picked from commit c9cd67124fb758e9023395e5ae4f8223111e2e51)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I3eadfad34aa563084fd4cc68990cb247e734d508,openstack/tripleo-upgrade,stable/train,bug/1885637-stable/train,I3eadfad34aa563084fd4cc68990cb247e734d508,Refactor ceph-ansible upgrade,MERGED,2020-07-02 08:45:52.000000000,2020-07-08 05:42:33.000000000,2020-07-08 05:42:33.000000000,12,9,0,738990,2ca2ca4a4607cfc68875a110f711ddf4cd45be29,10,6,2,3,6816,Jesse Pretorius,jesse-pretorius,"Refactor ceph-ansible upgrade

ceph-ansible and python-tripleoclient have different ""minimum"" required
version of ansible in specification. This patch upgrades ceph-ansible as
prerequisite so all dependencies will be met. In fast-forward script
checks if ceph-ansible is installed.If yes, it will upgrade it to latest
versions in repositories.

Change-Id: I3eadfad34aa563084fd4cc68990cb247e734d508
Related-Bug: 1885637
(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)
"
openstack%2Ftripleo-ci~master~I7fd16db29850cf115253fee7926a50bebe50c8a7,openstack/tripleo-ci,master,tempest-skiplist,I7fd16db29850cf115253fee7926a50bebe50c8a7,Add openstack-tempest-skiplist to list of external repos,MERGED,2020-06-25 13:37:33.000000000,2020-07-08 04:50:21.000000000,2020-07-08 04:50:21.000000000,2,1,0,738022,93fdd6f220931fd99f617ec6fb5dcc1804d8173f,57,12,3,1,8367,Arx Cruz,arxcruz,"Add openstack-tempest-skiplist to list of external repos

The new openstack-tempest-skiplist repo needs to be in the external
repo list in order to proper be gated by tripleo

Change-Id: I7fd16db29850cf115253fee7926a50bebe50c8a7
"
openstack%2Ftripleo-ansible~master~I644210a2dcc4cb3810d0999e8c69f8d54f602793,openstack/tripleo-ansible,master,739415,I644210a2dcc4cb3810d0999e8c69f8d54f602793,Use registry:2.7.0 instead of registry:2,MERGED,2020-07-07 12:36:07.000000000,2020-07-08 03:58:01.000000000,2020-07-07 17:20:57.000000000,2,2,0,739726,439671e77011ef638a280041ad4469e4a764bf7c,9,4,2,1,13861,yatin,yatinkarel,"Use registry:2.7.0 instead of registry:2

htpasswd is removed in latest registry image[1]
and it's breaking molecule job for tripleo_podman
role, let's use working registry image.

[1] https://github.com/docker/distribution-library-image/issues/106
Change-Id: I644210a2dcc4cb3810d0999e8c69f8d54f602793
"
openstack%2Fneutron~master~I1753263cb15ce2988ac4ccae03b7395069f2c4e9,openstack/neutron,master,relocate_segments_delete,I1753263cb15ce2988ac4ccae03b7395069f2c4e9,Relocate _delete_expired_default_network_segment_ranges,MERGED,2020-07-02 17:43:21.000000000,2020-07-08 03:34:26.000000000,2020-07-08 03:30:54.000000000,8,26,0,739124,6fa6e4135cf2caa9523b2aed01b10fd82856d5b9,19,8,1,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Relocate _delete_expired_default_network_segment_ranges

Relocate ""_delete_expired_default_network_segment_ranges"" to avoid
code redundancy.

Now instead of searching all objects and deleting one by one,
""delete_objects"" is used.

Trivial-Fix

Change-Id: I1753263cb15ce2988ac4ccae03b7395069f2c4e9
"
openstack%2Fglance~stable%2Ftrain~I845bce79e487656a284e52e4c605d648a5411822,openstack/glance,stable/train,native-zuulv3-migration,I845bce79e487656a284e52e4c605d648a5411822,Use grenade-multinode instead of the custom legacy job,MERGED,2020-07-05 23:06:42.000000000,2020-07-08 03:33:55.000000000,2020-07-08 03:30:57.000000000,1,72,0,739376,bdba1feacb7fa088650667e69290aa6e9bfad65c,12,4,1,3,10459,Luigi Toscano,ltoscano,"Use grenade-multinode instead of the custom legacy job

glance-dsvm-grenade-multinode is a simple multinode grenade job and
it can thus be replaced by the existing grenade-multinode.

Conflicts:
	.zuul.yaml
	playbooks/legacy/glance-dsvm-grenade-multinode/run.yaml
Conflicts due to the evolution of the 2 files over the releases.

Change-Id: I845bce79e487656a284e52e4c605d648a5411822
(cherry picked from commit a506e941152d1dacba57c800c34623d9ad02bebe)
(cherry picked from commit 0855cc1eaa6b25b823db3253afee10ca13fc39c2)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id6f612a91255b3158be821c363ca852c6b5d7496,openstack/tripleo-heat-templates,stable/train,,Id6f612a91255b3158be821c363ca852c6b5d7496,Add new parameter PublicTLSCACert,MERGED,2020-06-29 20:44:51.000000000,2020-07-08 03:19:10.000000000,2020-07-08 03:17:35.000000000,15,16,0,738507,889163cd83c80708e96f9f2fb6c63b2af5555604,21,7,1,6,11589,Harry Rybacki,hrybacki,"Add new parameter PublicTLSCACert

We've been using InternalTLSCAFile parameter when enabling
public TLS for undercloud and is quite confusing. We recently
changed to use it in clouds.yaml and it would break when
both public and internal TLS are enabled for overcloud and both
use different CA certs. This adds a new parameter which we
will use in clouds.yaml, that would default to empty string
assuming that the certificates are trusted.

Closes-Bug: #1883818
Change-Id: Id6f612a91255b3158be821c363ca852c6b5d7496
Depends-On: https://review.opendev.org/737998
(cherry picked from commit 2acb0d376b66375ba000369b24fc3354365b2601)
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I89c848bdae1b997b38a5164302acdcca94619471,openstack/puppet-tripleo,stable/ussuri,ffu-ceph-nfs-stable/ussuri,I89c848bdae1b997b38a5164302acdcca94619471,Add FFU support for ceph_nfs,MERGED,2020-07-07 14:41:06.000000000,2020-07-08 03:17:33.000000000,2020-07-08 03:17:33.000000000,6,1,0,739781,2a34eb1c669120dde05332189f125d3a1586b9fb,11,9,1,1,25402,Francesco Pantano,fmount,"Add FFU support for ceph_nfs

This patch fixes the ceph_nfs upgrade process checking
for the short_name variable definition.
This is required to properly handle the FFU process for
this service.

Change-Id: I89c848bdae1b997b38a5164302acdcca94619471
(cherry picked from commit 4243119d09ff9ee88aea71496753658f9d06d934)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I84287d9c1ef110511c66743f9a3a22709077b0cb,openstack/tripleo-heat-templates,stable/train,bug/1885619-stable/train,I84287d9c1ef110511c66743f9a3a22709077b0cb,Exclude /etc/hostname,MERGED,2020-07-06 14:14:56.000000000,2020-07-08 03:17:31.000000000,2020-07-08 03:17:31.000000000,11,2,0,739497,39945d5630c0d83a8b7fafd6b45e945c3e89c800,15,6,2,1,3153,Emilien Macchi,emilienm,"Exclude /etc/hostname

Similar to the previous patch where we excluded /etc/hosts, it turns out
that /etc/hostname is also a special file that cannot be synced in via
kolla because they are bindmounted internally.

https://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236

Additionally this change includes cleanup for end users who may have hit
LP#1860607 and allows folks who have hit this to just simply rerun the
deployment and not have to manually cleanup the synced files.

Change-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb
Closes-Bug: #1885619
(cherry picked from commit 777920dfba58fa7b26c063fa5d6df0203009d12c)
"
openstack%2Ftripleo-ci~master~I5f4a771ebdbb9b2496e9534624a48f38dc87c98f,openstack/tripleo-ci,master,1884922,I5f4a771ebdbb9b2496e9534624a48f38dc87c98f,Trigger standalone ipa job on changes to puppet rabbitmq,MERGED,2020-07-02 19:14:22.000000000,2020-07-08 02:25:28.000000000,2020-07-08 02:25:27.000000000,2,0,1,739133,c3dbd8b6f7a68dcb2dc633986d8ce84f083403d5,15,5,2,1,9592,wes hayutin,weshayutin,"Trigger standalone ipa job on changes to puppet rabbitmq

The multinode-IPA jobs broke due to changes in
https://review.opendev.org/#/c/739133.
See comments in: 
https://bugs.launchpad.net/tripleo/+bug/1886068.

This review adds the multinode-IPA job to
trigger on changes to puppet rabbitmq that
could impact TLS internal used in the IPA job.

Related-Bug: #1884922
Change-Id: I5f4a771ebdbb9b2496e9534624a48f38dc87c98f
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2670840c9beac06f8b8ffc6eaecc88b9119ad298,openstack/tripleo-heat-templates,stable/train,collaps/host/train,I2670840c9beac06f8b8ffc6eaecc88b9119ad298,Collapse host prep tasks,MERGED,2020-07-06 16:03:02.000000000,2020-07-08 02:25:25.000000000,2020-07-08 02:25:25.000000000,14,10,0,739528,4f3597daf91409d1c287a271d452bb148e50d42a,11,5,2,1,3153,Emilien Macchi,emilienm,"Collapse host prep tasks

Since plays cannot be parallelized with a free-like strategy, we should
have a single play that runs all host prep tasks rather than blocks of
plays for each defined role. By switching to this method we have a
single play that handles the host prep tasks concept that can be run all
at once across a cloud.

Change-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298
(cherry picked from commit 3ef8f6008d41a88642d66a6a24c67210f773f87e)
"
openstack%2Ftripleo-ansible~master~I3d38d406e9f63008f7060f31cc9ff378e97120bb,openstack/tripleo-ansible,master,739415,I3d38d406e9f63008f7060f31cc9ff378e97120bb,Login with buildah too to allow registry access with buildah,MERGED,2020-07-06 06:54:02.000000000,2020-07-08 01:49:26.000000000,2020-07-08 00:36:25.000000000,17,1,0,739415,067a315df92248f83103e5b4b7ec8424c9b5d6a9,22,7,3,2,13861,yatin,yatinkarel,"Login with buildah too to allow registry access with buildah

buildah login and podman login with root do not share same
authfile, buildah uses /run/containers/0/auth.json while
podman uses /run/user/0/containers/auth.json resulted from
$XDG_RUNTIME_DIR.

To ensure both podman and buildah can access the configured
registry, run login command with both.

It's mainly needed as container images are being pushed
with tripleoclient using sudo buildah push and buildah creds
are not setup.

Related-Bug: #1886555
Change-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb
"
openstack%2Fmanila~master~If91c651437e3f0701f025cf5d62064387d6d71f1,openstack/manila,master,bp/update-cephfs-drivers,If91c651437e3f0701f025cf5d62064387d6d71f1,TrivialFix: Correct cephfs support release note,MERGED,2020-07-07 17:22:51.000000000,2020-07-08 01:45:51.000000000,2020-07-07 17:58:38.000000000,1,1,0,739823,03cb8a39efb998b12dfc26ec319c4a268624c134,12,5,1,1,16643,Goutham Pacha Ravi,gouthamr,"TrivialFix: Correct cephfs support release note

Change-Id: If91c651437e3f0701f025cf5d62064387d6d71f1
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fmanila~master~Id847b1b5e6623172f2600afd69e51182067444cb,openstack/manila,master,bp/update-cephfs-drivers,Id847b1b5e6623172f2600afd69e51182067444cb,Add Ceph support statement,MERGED,2020-06-18 18:11:24.000000000,2020-07-08 01:31:17.000000000,2020-07-07 17:17:16.000000000,143,150,18,736793,524ad986e33e6b75cba76b1790dd031565ba1225,38,10,5,2,16643,Goutham Pacha Ravi,gouthamr,"Add Ceph support statement

The manila discussed cephfs futures
during the Victoria cycle PTG [1]. To support newer
features in ceph, we'll need to start using the
ceph-mgr interface that debuted in Nautilus.

When we start adopting ceph-mgr, we can no longer
support Mimic, Luminous and older releases of Ceph
without maintaining code workarounds and a continuous
integration system to ensure they're not broken.
This takes considerable effort from community members.

We've supported the Luminous release since OpenStack
Queens, and there have been at least
three other major releases of Ceph in the meantime,
let's add a release note and adjust the ceph driver
documentation calling out our support/testing stance.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015494.html

Partially-implements: bp update-cephfs-drivers
Change-Id: Id847b1b5e6623172f2600afd69e51182067444cb
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fneutron~stable%2Frocky~I51050c600ba7090fea71213687d94340bac0674a,openstack/neutron,stable/rocky,bug/1869808,I51050c600ba7090fea71213687d94340bac0674a,Do not block connection between br-int and br-phys on startup,MERGED,2020-06-29 21:00:24.000000000,2020-07-08 00:30:48.000000000,2020-07-08 00:30:48.000000000,10,3,0,738511,cc48edf85cf66277423b0eb52ae6353f8028d2a6,17,8,2,1,11975,Slawek Kaplonski,slaweq,"Do not block connection between br-int and br-phys on startup

Block traffic between br-int and br-physical is over kill
and will at least

1. interrupt vlan flow during startup, and is particularly
so if dvr enabled
2. if let's rabbitmq is not stable, it is possible data plane
will be affected and vlan will never work.

Using openstack on k8s particularly amplifies the problem
because pod could be killed pretty easily by liveness
probes.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I51050c600ba7090fea71213687d94340bac0674a
Closes-Bug: #1869808
(cherry picked from commit 90212b12cdf62e92d811997ebba699cab431d696)
"
openstack%2Fneutron~stable%2Frocky~I231e624f460510decc6d2237040c8bef207e2e8e,openstack/neutron,stable/rocky,improve-ovs-agent-logging-stable/ussuri-stable/train-stable/stein-stable/rocky,I231e624f460510decc6d2237040c8bef207e2e8e,Improve log message when port losts its vlan tag,MERGED,2020-07-01 07:15:03.000000000,2020-07-08 00:29:47.000000000,2020-07-08 00:29:47.000000000,4,2,0,738743,9e13f518ea784a882b157b9b6fd8b2496ad43c65,21,6,3,1,11975,Slawek Kaplonski,slaweq,"Improve log message when port losts its vlan tag

In some cases it may be useful to log new vlan tag which is found
on the port when it losts old vlan tag which should is expected to
be there.
So this patch adds such value to the log message.

TrivialFix

Depends-On: https://review.opendev.org/735615
Change-Id: I231e624f460510decc6d2237040c8bef207e2e8e
(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)
"
openstack%2Fneutron~stable%2Fqueens~I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b,openstack/neutron,stable/queens,bug/1840136-stable/queens,I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b,"Add ""igmp_snooping_enable"" config option for OVS agent",MERGED,2020-06-12 15:03:47.000000000,2020-07-08 00:26:07.000000000,2020-07-08 00:23:10.000000000,66,5,0,735356,794a29a2d2afe2a77de3a32e5739d1545d394142,19,8,1,7,13995,Nate Johnston,natejohnston,"Add ""igmp_snooping_enable"" config option for OVS agent

Neutron-ovs-agent can now enable IGMP snooping in integration bridge
if config option ""igmp_snooping_enable"" in OVS section in config will
be set to True.
It will also set mcast-snooping-disable-flood-unregistered=true
so flooding of multicast packets to all unregistered ports will be
disabled also.
Both changes are applied on integration bridge.

Change-Id: I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b
Closes-Bug: #1840136
(cherry picked from commit 5b341150e29137e3dab671453a9a6c0908e74585)
"
openstack%2Fneutron~stable%2Fqueens~I231e624f460510decc6d2237040c8bef207e2e8e,openstack/neutron,stable/queens,improve-ovs-agent-logging-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens,I231e624f460510decc6d2237040c8bef207e2e8e,Improve log message when port losts its vlan tag,MERGED,2020-07-01 07:15:13.000000000,2020-07-08 00:23:17.000000000,2020-07-08 00:23:17.000000000,4,2,0,738744,0ee2fc0e15621461cd0f342e8eb43bf633c8ab42,14,5,2,1,11975,Slawek Kaplonski,slaweq,"Improve log message when port losts its vlan tag

In some cases it may be useful to log new vlan tag which is found
on the port when it losts old vlan tag which should is expected to
be there.
So this patch adds such value to the log message.

TrivialFix

Change-Id: I231e624f460510decc6d2237040c8bef207e2e8e
(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)
"
openstack%2Fneutron~stable%2Fqueens~I51050c600ba7090fea71213687d94340bac0674a,openstack/neutron,stable/queens,bug/1869808-stable/queens,I51050c600ba7090fea71213687d94340bac0674a,Do not block connection between br-int and br-phys on startup,MERGED,2020-06-29 21:00:53.000000000,2020-07-08 00:23:14.000000000,2020-07-08 00:23:14.000000000,10,3,0,738512,131bbc9a53411033cf27664d8f1fd7afc72c57bf,15,6,2,1,11975,Slawek Kaplonski,slaweq,"Do not block connection between br-int and br-phys on startup

Block traffic between br-int and br-physical is over kill
and will at least

1. interrupt vlan flow during startup, and is particularly
so if dvr enabled
2. if let's rabbitmq is not stable, it is possible data plane
will be affected and vlan will never work.

Using openstack on k8s particularly amplifies the problem
because pod could be killed pretty easily by liveness
probes.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I51050c600ba7090fea71213687d94340bac0674a
Closes-Bug: #1869808
(cherry picked from commit 90212b12cdf62e92d811997ebba699cab431d696)
"
openstack%2Fopenstack-helm-infra~master~I26882956f96c961b6202b1004b8cf0faee6e73eb,openstack/openstack-helm-infra,master,,I26882956f96c961b6202b1004b8cf0faee6e73eb,MariaDB backup and restore with grants of all users,MERGED,2020-07-03 17:54:07.000000000,2020-07-07 23:48:39.000000000,2020-07-07 23:46:48.000000000,28,18,3,739268,a23a60921ab7546a1475cedd10a4d03148ef142b,50,12,10,2,18236,Sophie Huang,SophieHuang,"MariaDB backup and restore with grants of all users

This patchset captures the grants of all the MariaDB users
in the backup tarball and restores the grants during the
all databases restore.
Percona tool pt-show-grants is installed to the image to
accomplish the task in this PS:
https://review.opendev.org/#/c/739149/

Change-Id: I26882956f96c961b6202b1004b8cf0faee6e73eb
"
openstack%2Fovsdbapp~master~I22965ef38c1e0bfdfa79389a265bac12cafcc28b,openstack/ovsdbapp,master,,I22965ef38c1e0bfdfa79389a265bac12cafcc28b,Handle index lookups in DbFindCommand,MERGED,2020-05-27 02:44:01.000000000,2020-07-07 23:37:52.000000000,2020-07-07 23:34:23.000000000,148,16,5,731019,409e8a44f250874f8e0e43ec9cfecc37eccf4cff,23,6,5,3,5756,Terry Wilson,otherwiseguy,"Handle index lookups in DbFindCommand

This adds index lookup support to DbFindCommand. If multiple
conditions are passed that match different indexes, it will use
the intersection of the results to limit the search space.

Still needed would be support for multi-column indexes which we
currently don't use anywhere. At some point it starts looking like
a query optimizer.
Change-Id: I22965ef38c1e0bfdfa79389a265bac12cafcc28b
"
openstack%2Fneutron-lib~master~I7e683f52f47bbb7ce7c598c98332c5dbb5d97643,openstack/neutron-lib,master,retire-neutron-fwaas,I7e683f52f47bbb7ce7c598c98332c5dbb5d97643,[FWaaS] Add note about deprecation of the neutron-fwaas project,MERGED,2020-07-06 09:37:29.000000000,2020-07-07 23:14:42.000000000,2020-07-07 23:12:30.000000000,9,0,10,739441,3d6e16de32a41737e620802a888027ab2a949197,12,8,2,1,11975,Slawek Kaplonski,slaweq,"[FWaaS] Add note about deprecation of the neutron-fwaas project

As we agreed in the drivers team, we will keep FWaaS API ref as official
API in the neutron-lib but we will not have any official implementation
of this API.
This patch adds such information to the FWaaS API ref document.

Change-Id: I7e683f52f47bbb7ce7c598c98332c5dbb5d97643
"
openstack%2Fopenstack-helm-infra~master~Ie53b3407dbd7345d37c92c60a04f3badf735f6a6,openstack/openstack-helm-infra,master,,Ie53b3407dbd7345d37c92c60a04f3badf735f6a6,Fix service account name for ceph-mon keyring generator,MERGED,2020-07-07 20:09:52.000000000,2020-07-07 22:42:28.000000000,2020-07-07 22:40:34.000000000,2,2,0,739845,41f02d3c986b844e1e386e1cd83941c7c3dbbf06,11,7,1,1,8863,Andrii Ostapenko,aostapenko,"Fix service account name for ceph-mon keyring generator

Fix issues introduced by https://review.opendev.org/#/c/735648
with extra 'ceph-' in service_account and security context not
rendered for keyring generator containers.

Change-Id: Ie53b3407dbd7345d37c92c60a04f3badf735f6a6
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fironic-inspector~stable%2Fussuri~I131c8189b25ee2de66f08c742a21052ef1b266aa,openstack/ironic-inspector,stable/ussuri,node-id-stable/ussuri,I131c8189b25ee2de66f08c742a21052ef1b266aa,Use node.id instead of node.uuid in record_node,MERGED,2020-07-07 16:46:06.000000000,2020-07-07 22:19:38.000000000,2020-07-07 22:17:29.000000000,8,3,0,739813,4cb904fb13ec7d1aebaefd84d64a59da9331b9c9,11,4,1,3,10239,Dmitry Tantsur,dtantsur,"Use node.id instead of node.uuid in record_node

This function does not have a compatibility shim that adds 'uuid'.

Change-Id: I131c8189b25ee2de66f08c742a21052ef1b266aa
(cherry picked from commit 06390e372384d15448c5ed10f77d93faa494816a)
"
openstack%2Ftripleo-quickstart~master~I33452873c829d36fba1bbb49e28efbc4d325ea25,openstack/tripleo-quickstart,master,dlrn_hash_tag,I33452873c829d36fba1bbb49e28efbc4d325ea25,Fix delorean.repo url for centos-8 master,ABANDONED,2020-03-19 20:52:59.000000000,2020-07-07 22:16:44.000000000,,1,1,4,713979,ef430556b0c34f5265e5b1ea7285c390626754d4,28,7,6,1,4571,Steve Baker,steve-stevebaker,"Fix delorean.repo url for centos-8 master

dlrn_has_path has the 12/34/12345... format needed for the new
component based repos[1]

https://trunk.rdoproject.org/centos8-master/current-tripleo/

Change-Id: I33452873c829d36fba1bbb49e28efbc4d325ea25
"
openstack%2Fopenstack-ansible-os_neutron~master~I5958eaa7095013b7ed9b7aeb090a0535edc455ec,openstack/openstack-ansible-os_neutron,master,osa/el8,I5958eaa7095013b7ed9b7aeb090a0535edc455ec,Add centos-8 support,MERGED,2020-07-02 12:15:48.000000000,2020-07-07 21:43:27.000000000,2020-07-07 19:03:43.000000000,2,2,0,739026,4859a9ab179839398133fe6cd92da0bd75eb0e39,15,5,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add centos-8 support

Depends-On: https://review.opendev.org/739479
Change-Id: I5958eaa7095013b7ed9b7aeb090a0535edc455ec
"
openstack%2Fneutron~stable%2Fqueens~I299031a505f05cd0469e2476b867b9dbca59c5bf,openstack/neutron,stable/queens,1840579-stable/stein-stable/rocky-stable/queens,I299031a505f05cd0469e2476b867b9dbca59c5bf,Unnecessary routers should not be created,MERGED,2020-05-29 14:14:29.000000000,2020-07-07 21:39:43.000000000,2020-07-07 21:39:43.000000000,47,2,0,731763,7b36eefd1d63c24d25ae6387a88b00600730447e,17,6,2,2,11975,Slawek Kaplonski,slaweq,"Unnecessary routers should not be created

We observe an excessive amount of routers created on
compute node on which some virtual machines got a fixed
ip on floating network.

Rpc servers should filter out those unnecessary routers
during syncing.

Conflicts:
    neutron/tests/unit/db/test_agentschedulers_db.py

Change-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf
Partial-Bug: #1840579
(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7,openstack/puppet-tripleo,stable/ussuri,bug/1884415-stable/ussuri,I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7,Enable to modify params of logrotate-crond.conf,MERGED,2020-07-02 16:18:53.000000000,2020-07-07 21:36:32.000000000,2020-07-07 21:36:32.000000000,13,1,0,739090,7097c48b117c17125987b1b99a56170747004713,26,5,3,2,14985,Alex Schultz,mwhahaha,"Enable to modify params of logrotate-crond.conf

Parameters ""minsize"" and ""notifempty"" of /etc/logrotate-crond.conf
in the container logrotate_crond should be changeable even if this
doesn't	comply with GDPR. This is because there might be users who
don't want to comply with it for some reason such as their internal
rule, testing purpose, etc.

This patch adds the following Puppet hieradata.

tripleo::profile::base::logging::logrotate::minsize (default: 1)
tripleo::profile::base::logging::logrotate::notifempty (default: True)

Change-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7
Closes-Bug: #1884415
(cherry picked from commit f6f878d4b36540ecc8b99552d3f5d14d92d509df)
"
openstack%2Fironic~master~I51a31204ddef83fe36a55631f1a81bff346d176b,openstack/ironic,master,items-to-count,I51a31204ddef83fe36a55631f1a81bff346d176b,"Use assertCountEqual instead of assertItemsEqual, part 2",MERGED,2020-07-07 14:33:43.000000000,2020-07-07 21:35:50.000000000,2020-07-07 17:56:16.000000000,4,4,0,739776,c85a33d650066827836257461da764c08a964226,11,5,1,1,23851,Riccardo Pittau,elfosardo,"Use assertCountEqual instead of assertItemsEqual, part 2

Follow up of https://review.opendev.org/735127

The assertItemsEqual method has been removed in Python 3.3 [1] but
it was kept alive by unittest2, imported by testtools.
To prevent mayhem and despair caused by testtools removing unittest2
from its requirements in the near future, we switch to assertCountEqual.

For an unknown reason, some asserts were forgotten, this patch fixes
them all, for real, I swear.

[1] https://bugs.python.org/issue17866

Change-Id: I51a31204ddef83fe36a55631f1a81bff346d176b
"
openstack%2Fneutron~stable%2Fqueens~I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f,openstack/neutron,stable/queens,bug/1864822-stable/queens,I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f,Ensure that stale flows are cleaned from phys_bridges,MERGED,2020-06-03 09:47:32.000000000,2020-07-07 21:33:17.000000000,2020-07-07 21:33:17.000000000,12,3,0,733082,2baf0aa83f551b5c88caad64da837630b9daea46,25,6,3,1,11975,Slawek Kaplonski,slaweq,"Ensure that stale flows are cleaned from phys_bridges

In case when neutron-ovs-agent will notice that any of physical
bridges was ""re-created"", we should also ensure that stale Open
Flow rules (with old cookie id) are cleaned.
This patch is doing exactly that.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f
Related-Bug: #1864822
(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I182f8c5a8ce283b675aa18712e84fcd692200eb1,openstack/tripleo-heat-templates,stable/ussuri,bug/1886095-stable/ussuri,I182f8c5a8ce283b675aa18712e84fcd692200eb1,Fix default BlockStorageCinderVolume template,MERGED,2020-07-07 10:27:41.000000000,2020-07-07 21:23:18.000000000,2020-07-07 21:23:18.000000000,2,1,0,739700,4465977d9f36cc5e7db9eec187af399d94db4d8b,9,5,1,1,6796,Giulio Fidente,gfidente,"Fix default BlockStorageCinderVolume template

The BlockStorageCinderVolume tripleo service (used by the BlockStorage
and DistributedComputeHCI roles) is meant to deploy the cinder-volume
service without pacemaker. Unfortunately, [1] inadvertently switched
it to the pcmk version of the template, and this patch moves it back.

[1] I0f61016df6a9f07971c5eab51cc9674a1458c66f

Closes-Bug: #1886095
Change-Id: I182f8c5a8ce283b675aa18712e84fcd692200eb1
(cherry picked from commit bff0c6cfa1226836569ea016a71284e127c04b2c)
"
openstack%2Fironic~master~I183133da0b12352a72206f048e5f4167a25e1f5c,openstack/ironic,master,missing_print,I183133da0b12352a72206f048e5f4167a25e1f5c,Fix missing print format in log message,MERGED,2020-07-07 07:19:11.000000000,2020-07-07 21:14:29.000000000,2020-07-07 21:05:43.000000000,1,2,0,739667,af897bc8287afe9a5c2350e37d191a13530b1f99,18,7,1,1,20190,zhufl,zhufl,"Fix missing print format in log message

This is to fix the missing print format issue in log message.

Change-Id: I183133da0b12352a72206f048e5f4167a25e1f5c
"
openstack%2Fos-brick~master~I7767abc2ed4317288303fc9a2235e869f46a63b0,openstack/os-brick,master,,I7767abc2ed4317288303fc9a2235e869f46a63b0,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-06-23 12:14:58.000000000,2020-07-07 21:00:55.000000000,2020-07-07 20:58:16.000000000,4,4,0,737509,188cbed3134a7fa0b4955fc5614bb5273f295a62,24,13,1,4,6593,Dirk Mueller,dmllr,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I7767abc2ed4317288303fc9a2235e869f46a63b0
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0,openstack/tripleo-ansible,stable/ussuri,bug/1884816,I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0,Make tripleo_ceph_run_ansible handle change in remote_tmp,MERGED,2020-06-24 12:31:45.000000000,2020-07-07 21:00:16.000000000,2020-07-07 21:00:16.000000000,69,1,1,737759,91f22bd56f8d829092850562701a2cf019b53512,44,7,3,2,18002,John Fulton,fultonj,"Make tripleo_ceph_run_ansible handle change in remote_tmp

Ansible's remote_tmp module changed in 2.9.10 [1] causing
the reported bug this patch addresses. The error from the
module suggests creating the remote_tmp dir with the correct
permissions. This patch does that within external_deploy_steps
by having tripleo-ansible create the remote_tmp dir accordingly
before running ceph-ansible (which uses that remote_tmp dir).

[1] https://github.com/ansible/ansible/issues/68218

Change-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0
Closes-Bug: #1884816
(cherry picked from commit 1b440db7f69b1f0e69016ed5a409e84b6fab1f9d)
"
openstack%2Fironic~master~I9b2d0eb417211b01ae36c461b19652ff9db7d658,openstack/ironic,master,story/2002063/command-error,I9b2d0eb417211b01ae36c461b19652ff9db7d658,Do not put the whole JSON error from the agent in last_error,MERGED,2020-07-06 09:31:05.000000000,2020-07-07 20:58:58.000000000,2020-07-07 20:50:16.000000000,26,8,0,739439,b41bace326496770b1b22af864045782102f6f25,23,7,1,3,10239,Dmitry Tantsur,dtantsur,"Do not put the whole JSON error from the agent in last_error

It's usually enough to provide only command[command_error][details],
but this patch also places some safeguards for abnormal responses.

Also fixes error detection for TypeError (we don't have faultstatus
when we have command_error).

Change-Id: I9b2d0eb417211b01ae36c461b19652ff9db7d658
Story: #2002063
Task: #19716
"
openstack%2Freleases~master~Iffe7fe3216256ddb52001e4fcfa49cc3ea82d6e8,openstack/releases,master,new_release_help,Iffe7fe3216256ddb52001e4fcfa49cc3ea82d6e8,Fix tox command in tool help,MERGED,2020-07-07 15:40:41.000000000,2020-07-07 20:31:54.000000000,2020-07-07 20:31:54.000000000,4,4,0,739801,339af5321ac03580bc1288fab7d010693b65ed00,6,2,1,1,28522,Hervé Beraud,hberaud,"Fix tox command in tool help

Also prefer to use retrive command name dynamically.

Change-Id: Iffe7fe3216256ddb52001e4fcfa49cc3ea82d6e8
"
openstack%2Fproject-config~master~I9c2b4fdbc48d5cbcb026a362ed49bd65b0afe09f,openstack/project-config,master,review-difficulty,I9c2b4fdbc48d5cbcb026a362ed49bd65b0afe09f,Propose Review-Difficulty label for Kayobe,ABANDONED,2020-06-03 17:15:24.000000000,2020-07-07 19:55:37.000000000,,13,0,2,733283,acab213f741e5968f4ee638581531b2871020196,10,7,2,2,15197,Pierre Riteau,priteau,"Propose Review-Difficulty label for Kayobe

When very limited time is available for reviews, it can be difficult to
choose from a long list of open changes. I would like to propose the
Review-Difficulty label (initially for Kayobe), to flag easy or trivial
changes that can be reviewed in a few minutes or seconds.

The goal is to make our review queue shorter by focusing core reviewers
when they have very limited time available. Of course Review-Priority
should take precedence when more time is available for reviews.

Change-Id: I9c2b4fdbc48d5cbcb026a362ed49bd65b0afe09f
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I24b118220ce2371f651cad6b8dfbbf5d031ee118,openstack/tripleo-ansible,stable/train,hieradata/perm,I24b118220ce2371f651cad6b8dfbbf5d031ee118,Fix tripleo_hierdata permissions,MERGED,2020-07-06 16:20:35.000000000,2020-07-07 19:53:04.000000000,2020-07-07 19:53:04.000000000,5,0,0,739541,d1e80761c48c86897d4d023488af3c81e2666f87,11,5,2,3,3153,Emilien Macchi,emilienm,"Fix tripleo_hierdata permissions

Add become: true to the tasks that need to be able to write to /etc/

Change-Id: I24b118220ce2371f651cad6b8dfbbf5d031ee118
Related-Bug: #1883609
(cherry picked from commit c8d8e9adaf62f1b3e6a274fbb5ec17dae4dc8449)
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8,openstack/puppet-tripleo,stable/ussuri,,I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8,Switch RGW HAProxy healthcheck to use special RGW healthcheck url,MERGED,2020-07-07 08:31:40.000000000,2020-07-07 19:28:49.000000000,2020-07-07 19:28:49.000000000,1,1,0,739676,fe64cf37a17cc2d61bdd4f8a77fdbcca37085803,7,3,1,1,6796,Giulio Fidente,gfidente,"Switch RGW HAProxy healthcheck to use special RGW healthcheck url

The change is made because /swift/healthcheck weights less on RGW
and avoids overloading the nodes CPU for basic HAProxy checks

For more information also see [1]

1. https://bugzilla.redhat.com/show_bug.cgi?id=1850036#c16

Change-Id: I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8
(cherry picked from commit f1994dba33e09033f3a142ef202c6b0afe322b94)
"
openstack%2Fos-brick~master~If1a8caa006efb19e58a3dc3262a305d15d35a6a5,openstack/os-brick,master,unittest2,If1a8caa006efb19e58a3dc3262a305d15d35a6a5,Switch from unittest2 compat methods to py3 methods,ABANDONED,2020-07-07 19:21:18.000000000,2020-07-07 19:23:46.000000000,,4,4,0,739834,eb8a8c4b75cbdcea3c800119c4d46c494b72be4a,2,0,1,4,11904,Sean McGinnis,SeanM,"Switch from unittest2 compat methods to py3 methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: If1a8caa006efb19e58a3dc3262a305d15d35a6a5
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8,openstack/puppet-tripleo,stable/train,,I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8,Switch RGW HAProxy healthcheck to use special RGW healthcheck url,MERGED,2020-07-07 08:33:55.000000000,2020-07-07 19:22:05.000000000,2020-07-07 19:22:05.000000000,1,1,0,739677,77da001cd4b8ce0fd9d9bf57d4ddfb701414c29a,7,3,1,1,6796,Giulio Fidente,gfidente,"Switch RGW HAProxy healthcheck to use special RGW healthcheck url

The change is made because /swift/healthcheck weights less on RGW
and avoids overloading the nodes CPU for basic HAProxy checks

For more information also see [1]

1. https://bugzilla.redhat.com/show_bug.cgi?id=1850036#c16

Change-Id: I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8
(cherry picked from commit f1994dba33e09033f3a142ef202c6b0afe322b94)
(cherry picked from commit fe64cf37a17cc2d61bdd4f8a77fdbcca37085803)
"
openstack%2Fkeystone~master~I33d37366ea9caf320f3738db637dea7386ff6448,openstack/keystone,master,,I33d37366ea9caf320f3738db637dea7386ff6448,Add an enhanced debug configuration technique to caching guide,MERGED,2020-06-29 14:51:54.000000000,2020-07-07 19:21:01.000000000,2020-07-07 19:16:37.000000000,20,0,0,738459,63e1181294dc9b68761ffd57c25245743a83f1a9,10,6,1,1,5046,Lance Bragstad,ldbragst,"Add an enhanced debug configuration technique to caching guide

We often have operators ask why cache logging isn't included in their
logs despite setting `keystone.conf [DEFAULT] debug=True`. This is
because cache logging requires additional configuration that isn't
obvious unless your familiar with oslo.cache and dogpile already.

This commit adds a section to the caching guide that shows people how to
update their configuration files when they need to debug caching issues.

Change-Id: I33d37366ea9caf320f3738db637dea7386ff6448
"
openstack%2Fkeystone~master~If288c3406e2fa840f698fec83d9643cfc0584f53,openstack/keystone,master,bug/1884062,If288c3406e2fa840f698fec83d9643cfc0584f53,"Add ""explicit_domain_id"" to api-ref",MERGED,2020-06-22 09:52:06.000000000,2020-07-07 19:19:20.000000000,2020-07-07 19:16:34.000000000,10,0,4,737248,ee9be2e92b3de25f82298f21b9b1d559613e1960,15,6,2,2,27621,Vishakha Agarwal,Vishakha,"Add ""explicit_domain_id"" to api-ref

In [1] a new parameter to domain API was added. This patch
updates the api-ref about the same.

[1] https://review.opendev.org/#/c/605235/

Change-Id: If288c3406e2fa840f698fec83d9643cfc0584f53
Closes-Bug: #1884062
"
openstack%2Fdevstack~master~I4b18a0a388ed7e7a392fabeac613778e0d23dee7,openstack/devstack,master,no-v1-api,I4b18a0a388ed7e7a392fabeac613778e0d23dee7,Remove GLANCE_V1_ENABLED option,MERGED,2019-12-12 21:20:10.000000000,2020-07-07 19:19:17.000000000,2020-07-07 19:16:32.000000000,0,16,2,698808,ee5cf747d8826b9f9dbf565a7a9ba2c1e25f068a,27,6,2,3,5314,Brian Rosmaita,brian-rosmaita,"Remove GLANCE_V1_ENABLED option

This option sets enable_v1_api in glance-api.conf, a setting that
was removed by change Ia086230cc8c92f7b7dfd5b001923110d5bc55d4d
in July 2018, so remove the devstack option from lib/glance.

It occurs in two other places:

This option is used in lib/cinder to set an option that was removed
from Cinder by change Ice379db9ae83420bacf9e96e242c7515930eae86 in
Queens, so remove the related code.

When this option is False, it is used in lib/tempest to set
[image-feature-enabled]/api_v1 to False in the tempest config file.
However, the default value of ths setting has been False since
change Iab3a209c744375bf2618afc00a3f7731b62f557e in Sept 2018,
so remove the related code.

Change-Id: I4b18a0a388ed7e7a392fabeac613778e0d23dee7
"
openstack%2Fneutron~master~I8cbd2ca14a442037b671ba13f6e07de26d31c48a,openstack/neutron,master,port-groups-removal,I8cbd2ca14a442037b671ba13f6e07de26d31c48a,ovn: Add TODO to remove Port Groups migration,MERGED,2020-06-10 13:49:33.000000000,2020-07-07 19:19:02.000000000,2020-07-07 19:16:29.000000000,2,0,0,734845,b9c428a2dbfd9a44f62fa8b88014399e11fdbb8c,20,9,1,1,8655,Jakub Libosvar,jlibosva,"ovn: Add TODO to remove Port Groups migration

Change-Id: I8cbd2ca14a442037b671ba13f6e07de26d31c48a
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
"
openstack%2Ftripleo-common~stable%2Fussuri~I397f8d641504ac2ceed36fa975cf97fac5bbb81a,openstack/tripleo-common,stable/ussuri,,I397f8d641504ac2ceed36fa975cf97fac5bbb81a,Catch exception if servers are in error state with no bm_node attached,MERGED,2020-07-07 10:38:08.000000000,2020-07-07 19:15:58.000000000,2020-07-07 19:13:58.000000000,71,4,0,739701,b11292adcc410725f3cfdd546775e5ecbdf59199,8,3,1,2,30126,Luca Miccini,lmiccini2,"Catch exception if servers are in error state with no bm_node attached

There have been reports (rhbz#1851507) where generating the fencing
parameters fails because of one or more servers in error state, like
when a scale out operation doesn't go as planned.

This commit wraps get_by_instance_uuid in a try/except block to prevent
this from happening, skipping the node in error state and allowing
users to still get a valid fencing config for the remaining servers.

Change-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a
(cherry picked from commit 7d2c25319b10daad3d3ef6ba2ff656b10b716beb)
"
openstack%2Fpython-tripleoclient~master~I19fbdebe406575d2567f98a322ff68e6e992fac7,openstack/python-tripleoclient,master,,I19fbdebe406575d2567f98a322ff68e6e992fac7,Stop to use the __future__ module.,MERGED,2020-06-20 16:01:47.000000000,2020-07-07 18:54:24.000000000,2020-07-07 18:52:12.000000000,0,22,0,737140,9d16152e3932b2c5191e71c16d1dd603200e7414,10,5,1,16,30356,gugug,gujin,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Change-Id: I19fbdebe406575d2567f98a322ff68e6e992fac7
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I9c245dbc258c9714bb5a581d6d4d23b42cf53198,openstack/python-tripleoclient,stable/ussuri,,I9c245dbc258c9714bb5a581d6d4d23b42cf53198,Add CLI options for introspection command,MERGED,2020-07-06 08:24:07.000000000,2020-07-07 18:53:52.000000000,2020-07-07 18:52:13.000000000,65,10,0,739427,f45b95fa57888195479e5ca7e3b4afb4bd61d8e8,10,6,1,5,10969,Shnaidman Sagi (Sergey),sergsh,"Add CLI options for introspection command

--node-timeout - Maximum timeout for node introspection
--max-retries - Maximum introspection retries
--retry-timeout - Maximum timeout between introspection retries

Change-Id: I9c245dbc258c9714bb5a581d6d4d23b42cf53198
(cherry picked from commit c9d057651e32ee81fd8e315e35dfe17d4d1e95ac)
"
openstack%2Ftaskflow~master~Iaa8251a1e9965a00fe99b7a740a104c011260340,openstack/taskflow,master,,Iaa8251a1e9965a00fe99b7a740a104c011260340,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-07-05 12:04:58.000000000,2020-07-07 18:47:14.000000000,2020-07-07 18:45:15.000000000,50,50,0,739360,cf327a2e2d4e2c504b5080fbf7bd48421fe7b4c7,8,3,1,4,17130,melissaml,malei,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: Iaa8251a1e9965a00fe99b7a740a104c011260340
"
openstack%2Foctavia~master~I3e8725eb77ea947e71d85ea406a60ed94c7bf971,openstack/octavia,master,,I3e8725eb77ea947e71d85ea406a60ed94c7bf971,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-07-07 01:53:14.000000000,2020-07-07 18:41:59.000000000,2020-07-07 18:38:36.000000000,10,10,0,739638,103653503cc641a59e6efd145567d98d7fbdb5b3,8,3,1,9,17130,melissaml,malei,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I3e8725eb77ea947e71d85ea406a60ed94c7bf971
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I04cb72210fbd25a720158988698a300140f4e7db,openstack/tripleo-heat-templates,stable/ussuri,bug/1886203-stable/ussuri,I04cb72210fbd25a720158988698a300140f4e7db,undercloud/heat: set YAQL memory quota to 200000,MERGED,2020-07-07 01:16:32.000000000,2020-07-07 18:37:20.000000000,2020-07-07 18:37:20.000000000,1,0,0,739631,d423af38a1bec45c3316c89d0d7a55e201792a50,8,4,1,1,3153,Emilien Macchi,emilienm,"undercloud/heat: set YAQL memory quota to 200000

Since the ""optimization"" [1] of host entries in Heat and it's YAQLization,
we need to increase the memory quota for YAQL queries or the resource
will fail to process at large scale (250 nodes).

[1] 3b8e6f78e19e776c087dc5c3ff225703b5c487bc

Change-Id: I04cb72210fbd25a720158988698a300140f4e7db
Closes-Bug: #1886203
(cherry picked from commit c67c53a8d8094382bc75e7d56480ecb3f8897610)
"
openstack%2Fneutron~stable%2Frocky~I710f00f0f542bcf7fa2fc60800797b90f9f77e14,openstack/neutron,stable/rocky,bug/1864822,I710f00f0f542bcf7fa2fc60800797b90f9f77e14,[DVR] Reconfigure re-created physical bridges for dvr routers,MERGED,2020-05-27 20:24:49.000000000,2020-07-07 18:28:43.000000000,2020-07-07 18:28:42.000000000,84,14,0,731321,d3d93b4077428c399349208df9819b8413184ef7,31,6,5,3,11975,Slawek Kaplonski,slaweq,"[DVR] Reconfigure re-created physical bridges for dvr routers

In case when physical bridge is removed and created again it
is initialized by neutron-ovs-agent.
But if agent has enabled distributed routing, dvr related
flows wasn't configured again and that lead to connectivity issues
in case of DVR routers.

This patch fixes it by adding configuration of dvr related flows
if distributed routing is enabled in agent's configuration.

It also adds reset list of phys_brs in dvr_agent. Without that there
were different objects used in ovs agent and dvr_agent classes thus
e.g. 2 various cookie ids were set on flows in physical bridge.
This was also the same issue in case when openvswitch was restarted and
all bridges were reconfigured.
Now in such case there is correctly new cookie_id configured for all
flows.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14
Closes-Bug: #1864822
(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)
"
openstack%2Fneutron~stable%2Frocky~I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f,openstack/neutron,stable/rocky,bug/1864822,I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f,Ensure that stale flows are cleaned from phys_bridges,MERGED,2020-06-03 09:46:56.000000000,2020-07-07 18:28:40.000000000,2020-07-07 18:28:40.000000000,12,3,0,733080,9087c3a4ea309d3c4f0a11b297cc8573f2d6df06,25,7,3,1,11975,Slawek Kaplonski,slaweq,"Ensure that stale flows are cleaned from phys_bridges

In case when neutron-ovs-agent will notice that any of physical
bridges was ""re-created"", we should also ensure that stale Open
Flow rules (with old cookie id) are cleaned.
This patch is doing exactly that.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f
Related-Bug: #1864822
(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)
"
openstack%2Fopenstack-helm-infra~master~Ic5e327cf40c4b09c90738baff56419a6cef132da,openstack/openstack-helm-infra,master,yamllint,Ic5e327cf40c4b09c90738baff56419a6cef132da,Undo octal-values restriction together with corresponding code,MERGED,2020-07-06 20:11:05.000000000,2020-07-07 18:10:49.000000000,2020-07-07 18:04:58.000000000,208,205,0,739600,824f168efc4bef03981b19d5212c1e69eacd26dc,14,4,3,120,8863,Andrii Ostapenko,aostapenko,"Undo octal-values restriction together with corresponding code

Unrestrict octal values rule since benefits of file modes readability
exceed possible issues with yaml 1.2 adoption in future k8s versions.
These issues will be addressed when/if they occur.

Also ensure osh-infra is a required project for lint job, that matters
when running job against another project.

Change-Id: Ic5e327cf40c4b09c90738baff56419a6cef132da
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Ftripleo-ci~master~Ie45d29de935b51db555598fdc6eba18582f79e68,openstack/tripleo-ci,master,buildtestpackages,Ie45d29de935b51db555598fdc6eba18582f79e68,Add artg_repos_dir to featureset override,MERGED,2020-06-29 08:24:05.000000000,2020-07-07 18:08:54.000000000,2020-07-07 18:08:53.000000000,1,0,0,738394,658296a1358a9b5ba9e33e3b070010201f1ef46e,22,7,5,1,12393,chandan kumar,chkumar246,"Add artg_repos_dir to featureset override

artg_repos_dir var is used in buildtestpackages for using the
cloned repo on the nodepool. In downstream or for local testing
the path is different, so moving it to featureset overrride.

https://tree.taiga.io/project/tripleo-ci-board/task/1789

Depends-On: https://review.opendev.org/#/c/727200

Change-Id: Ie45d29de935b51db555598fdc6eba18582f79e68
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Ftripleo-quickstart-extras~master~Ie61065107ec1aed207e9207a0d59db706e96941a,openstack/tripleo-quickstart-extras,master,move-tls-dep,Ie61065107ec1aed207e9207a0d59db706e96941a,Move tls deps install before DNS changes,MERGED,2020-07-02 19:21:09.000000000,2020-07-07 18:08:49.000000000,2020-07-07 18:08:49.000000000,9,8,0,739135,7fea87335557b3b07e61a9f5800b25ac9497541d,28,6,5,2,9976,Ronelle Landy,rlandy,"Move tls deps install before DNS changes

Ensure that required TLS dependencies are installed
before standard DNS entries are removed and the new TLS setup
has not yet completed.

Change-Id: Ie61065107ec1aed207e9207a0d59db706e96941a
Related-Bug: #1884570
"
openstack%2Fcharm-rabbitmq-server~master~Ie3cd2f6535f8f4ddb3268961b2cd7a9e3db9dcee,openstack/charm-rabbitmq-server,master,statue-msg-for-cluster-wait,Ie3cd2f6535f8f4ddb3268961b2cd7a9e3db9dcee,"Revert ""Add workload message when waiting for clustering""",MERGED,2020-07-07 15:34:15.000000000,2020-07-07 17:45:00.000000000,2020-07-07 17:45:00.000000000,2,6,0,739799,d04627d1995b42c7557542623eb36e1bb27e32cd,7,4,1,1,12549,gnuoy,gnuoy,"Revert ""Add workload message when waiting for clustering""

This reverts commit 0d4216b764cf71fd35daf5d5d0f68ff3a301fecc.

Change-Id: Ie3cd2f6535f8f4ddb3268961b2cd7a9e3db9dcee
"
openstack%2Fnova~master~Ic67b45b524417e8351be86a4d320e068ca4fc1e1,openstack/nova,master,,Ic67b45b524417e8351be86a4d320e068ca4fc1e1,DNM: test mypy,ABANDONED,2020-07-07 06:56:05.000000000,2020-07-07 17:33:22.000000000,,1,1,0,739663,ca6647f055c7441fee95f3a6503e39af351aecfa,15,9,3,1,9708,Balazs Gibizer,gibi,"DNM: test mypy

Change-Id: Ic67b45b524417e8351be86a4d320e068ca4fc1e1
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0,openstack/tripleo-ansible,stable/train,throttle/train,I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0,Make throttle optional,MERGED,2020-07-06 19:08:02.000000000,2020-07-07 17:20:57.000000000,2020-07-07 17:20:57.000000000,11,8,0,739588,9d6e68759aaf976cc51bd79fc964bf952d8eb617,13,5,2,1,3153,Emilien Macchi,emilienm,"Make throttle optional

Tasks did not have the concept of throttling prior to ansible 2.9 so if
we want to allow this to be re-used with older versions then we need to
skip the throttling code if task doesn't contain the throttle attribute.
This will help if we want to backport this for upgrades.

Change-Id: I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0
(cherry picked from commit ee3c9c841e466c7fed7639bf3b5e19dbbe42abba)
"
openstack%2Fcinder~stable%2Fpike~I0dc3e1a850b4f9041ba2a9a6268168706adc3665,openstack/cinder,stable/pike,deadstablejobs,I0dc3e1a850b4f9041ba2a9a6268168706adc3665,Remove grenade jobs,ABANDONED,2020-06-05 16:43:59.000000000,2020-07-07 16:48:13.000000000,,16,48,2,733889,b7008faff12cc2d7d3080db2e479266779479dc1,65,21,3,1,11904,Sean McGinnis,SeanM,"Remove grenade jobs

This branch is in extended maintenance. As part of EM, it was agreed we
would run jobs as long as we could keep them passing. The grenade jobs
have some issues that would take a lot of work to fix up, so given the
stable status and the lack of resources on these older stable branches,
just remove them.

Change-Id: I0dc3e1a850b4f9041ba2a9a6268168706adc3665
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fironic-inspector~master~I131c8189b25ee2de66f08c742a21052ef1b266aa,openstack/ironic-inspector,master,node-id,I131c8189b25ee2de66f08c742a21052ef1b266aa,Use node.id instead of node.uuid in record_node,MERGED,2020-07-07 12:41:40.000000000,2020-07-07 16:46:06.000000000,2020-07-07 15:51:45.000000000,8,3,0,739730,06390e372384d15448c5ed10f77d93faa494816a,10,4,1,3,10239,Dmitry Tantsur,dtantsur,"Use node.id instead of node.uuid in record_node

This function does not have a compatibility shim that adds 'uuid'.

Change-Id: I131c8189b25ee2de66f08c742a21052ef1b266aa
"
openstack%2Foctavia~master~I152d854c091d1e1410d21ea6a04975b5a479bb65,openstack/octavia,master,,I152d854c091d1e1410d21ea6a04975b5a479bb65,DNM: Testing for IPv6 job debug,ABANDONED,2020-07-02 17:16:24.000000000,2020-07-07 16:17:37.000000000,,11,0,0,739119,634b09bfd32a7c926f06274624786fc9c2cc2fda,3,1,1,1,11628,Michael Johnson,johnsom,"DNM: Testing for IPv6 job debug

Change-Id: I152d854c091d1e1410d21ea6a04975b5a479bb65
"
openstack%2Foctavia-tempest-plugin~master~I390faffccf9d834e9622c8461bdde615f9675cf3,openstack/octavia-tempest-plugin,master,,I390faffccf9d834e9622c8461bdde615f9675cf3,DNM: Debugging the IPv6 job,ABANDONED,2020-06-30 23:16:31.000000000,2020-07-07 16:17:26.000000000,,44,35,1,738715,cdef1b40e09ab44580abd94178d7a8a60977b24a,19,3,8,3,11628,Michael Johnson,johnsom,"DNM: Debugging the IPv6 job

Depends-On: https://review.opendev.org/739557
Change-Id: I390faffccf9d834e9622c8461bdde615f9675cf3
"
openstack%2Fnova~master~I81a47caa5a4d3d6f61dd9d5d74b176b6b290dbc9,openstack/nova,master,bug/1885987,I81a47caa5a4d3d6f61dd9d5d74b176b6b290dbc9,Lock down evacuate request spec to the same cell,NEW,2020-07-03 01:18:18.000000000,2020-07-07 16:11:31.000000000,,17,0,3,739157,65dd754cb7f92ed0499145a3303c6650fa648cba,20,12,2,1,3031,Sam Morrison,sorrison,"Lock down evacuate request spec to the same cell

Currently in a multi cell environment evacuate could rebuild an
instance on a host in a different cell. To fix this we seed the
request spec with the source hosts cell to restrict hosts to the
same cell.

Closes-Bug: #1885987

Change-Id: I81a47caa5a4d3d6f61dd9d5d74b176b6b290dbc9
"
openstack%2Fdevstack-plugin-ceph~master~Id925fe667472f7a71ac236aec136dd7b59e43794,openstack/devstack-plugin-ceph,master,enable-volume-revert,Id925fe667472f7a71ac236aec136dd7b59e43794,Enable volume revert to snapshot RBD tests from Ussuri,MERGED,2020-05-11 22:22:55.000000000,2020-07-07 15:58:03.000000000,2020-07-07 15:56:00.000000000,7,0,0,726964,437ebc54b1a513897ee24c5f7d8340f8459d9a44,15,7,1,1,10459,Luigi Toscano,ltoscano,"Enable volume revert to snapshot RBD tests from Ussuri

QA people pointed out that It should be set here, not in the job.

Change-Id: Id925fe667472f7a71ac236aec136dd7b59e43794
"
openstack%2Fcharm-rabbitmq-server~master~I351c1790b02298c67f957cad53b50e89370fa983,openstack/charm-rabbitmq-server,master,statue-msg-for-cluster-wait,I351c1790b02298c67f957cad53b50e89370fa983,Add workload message when waiting for clustering,MERGED,2020-07-01 16:57:23.000000000,2020-07-07 15:34:15.000000000,2020-07-07 13:34:06.000000000,6,2,0,738893,0d4216b764cf71fd35daf5d5d0f68ff3a301fecc,10,4,1,1,12549,gnuoy,gnuoy,"Add workload message when waiting for clustering

Add workload status message to show charm is waiting for internal
rabbit clustering to complete.

Change-Id: I351c1790b02298c67f957cad53b50e89370fa983
"
openstack%2Fdesignate~stable%2Frocky~I0a85c5df5c323d6f636c8cb92ee5201c14cdb306,openstack/designate,stable/rocky,bug/1785769-stable/rocky,I0a85c5df5c323d6f636c8cb92ee5201c14cdb306,Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.,MERGED,2020-04-17 16:05:08.000000000,2020-07-07 15:05:03.000000000,2020-07-07 15:05:03.000000000,23,4,0,720765,e4ee680f24d00b9633284c061edebaf0f62d7b3c,39,7,3,2,11628,Michael Johnson,johnsom,"Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.

Change-Id: I0a85c5df5c323d6f636c8cb92ee5201c14cdb306
Closes-Bug: #1785769
(cherry picked from commit 6e79c2e0816ca59cff9a8b0eb238e1e5add7b943)
"
openstack%2Fironic~master~I805a65478f469b1b4e25c1bf2397f034f61d6ec7,openstack/ironic,master,fix-uefi-ovmf,I805a65478f469b1b4e25c1bf2397f034f61d6ec7,Follow up of fix uefi jobs with ovmf native ubuntu package,MERGED,2020-07-03 14:14:42.000000000,2020-07-07 15:03:02.000000000,2020-07-07 14:32:48.000000000,2,6,0,739244,daca490226d0a0048d3d215b2a184f10108082e5,24,8,2,3,23851,Riccardo Pittau,elfosardo,"Follow up of fix uefi jobs with ovmf native ubuntu package

Following up on comments from https://review.opendev.org/716889

Change-Id: I805a65478f469b1b4e25c1bf2397f034f61d6ec7
"
openstack%2Fneutron~stable%2Fqueens~Ie846a8cb481da65999b12f5547b407cc7bdc3138,openstack/neutron,stable/queens,fix_queens_gate,Ie846a8cb481da65999b12f5547b407cc7bdc3138,"Fix queens gates, multiple fixes",MERGED,2020-07-06 10:13:56.000000000,2020-07-07 14:43:32.000000000,2020-07-07 14:43:32.000000000,33,25,0,739455,774b3ff89e5ec01494d7ca66773aba8984f0cd80,20,8,3,6,21798,Bernard Cafarelli,bcafarel,"Fix queens gates, multiple fixes

1. Make grenade jobs experimental for EM branches

As discussed in ML thread[1], we are going to
make grenade jobs as non voting for all EM stable and
oldest stable. grenade jobs are failing not and it might take
time to fix those if we are able to fix. Once it jobs are
working depends on project team, they can bring them back to
voting or keep non-voting.

If those jobs are failing consistently and no one is fixing them
then removing those n-v jobs in future also fine.

Additionally, it was proposed in neutron CI meeting [2] that non-voting
jobs would be moved to experimental, so move grenade jobs there instead
of keeping them non-voting

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html
[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101

StableOnly

Conflicts:
	.zuul.yaml

(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)

2. Install pip2 for functional, fullstack,
   neutron-tempest-iptables_hybrid, rally

Else both jobs fail with ""sudo: pip: command not found""

3. Add ensure-tox for functional, fullstack,
   neutron-tempest-iptables_hybrid, rally

Similar error message for tox

4. Disable OVS compilation for fullstack and move job to experimental

Compilation fails similarly to recent master failures:
/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: ‘const struct ipv6_stub’ has no member named ‘ipv6_dst_lookup’

But branch 2.9 is not updated anymore. Use official package

This triggers a few tests failures, so move it to experimental (instead
of marking non-voting), same as grenade jobs

Conflicts:
	.zuul.yaml
	neutron/tests/contrib/gate_hook.sh

Depends-On: https://review.opendev.org/737940/
Change-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138
(cherry picked from commit 57f527a748f292597ee548e8d386720b72346d17)
"
openstack%2Fpuppet-tripleo~master~I89c848bdae1b997b38a5164302acdcca94619471,openstack/puppet-tripleo,master,ffu-ceph-nfs,I89c848bdae1b997b38a5164302acdcca94619471,Add FFU support for ceph_nfs,MERGED,2020-07-03 07:13:25.000000000,2020-07-07 14:41:41.000000000,2020-07-07 11:33:33.000000000,6,1,0,739170,4243119d09ff9ee88aea71496753658f9d06d934,19,10,2,1,20172,Michele Baldessari,michele,"Add FFU support for ceph_nfs

This patch fixes the ceph_nfs upgrade process checking
for the short_name variable definition.
This is required to properly handle the FFU process for
this service.

Change-Id: I89c848bdae1b997b38a5164302acdcca94619471
"
openstack%2Fdevstack~master~Ia6d1617f0d3538d8728d4da689368cf7c96f02fc,openstack/devstack,master,mater_fix,Ia6d1617f0d3538d8728d4da689368cf7c96f02fc,"fix the name of uwsgi from uwsgi to uWSGI. it produces a error message that ls can not access uwsgi, No such file or directory when using comman ls uwsgi. Because package name starts with uWSGI not uwsgi.",NEW,2020-07-07 01:33:52.000000000,2020-07-07 14:38:58.000000000,,2,2,0,739635,e3f31349580177f30a29d90ff97140ef2238d49b,5,6,1,1,32168,wuanquan,leiqi96,"fix the name of uwsgi from uwsgi to uWSGI.
it produces a error message that ls can not access uwsgi, No such file or directory when using comman ls uwsgi. Because package name starts with uWSGI not uwsgi.

Change-Id: Ia6d1617f0d3538d8728d4da689368cf7c96f02fc
"
openstack%2Fosc-lib~master~I2e36a6ea5061c776d0b3cedc3afb8b8380bdd1fb,openstack/osc-lib,master,osc-performance,I2e36a6ea5061c776d0b3cedc3afb8b8380bdd1fb,switch to stevedore for entry points,ABANDONED,2020-07-07 14:34:07.000000000,2020-07-07 14:36:01.000000000,,11,9,0,739777,5e0db50d932e2d799f3d64f45b33dbdac0db51e2,3,0,1,4,2,Monty Taylor,mordred,"switch to stevedore for entry points

Importing pkg_resources scans every installed distribution to find
all of the entry points. Stevedore is adding a new caching layer using
importlib.metadata, which will not.  Switching to the stevedore should
eventually speed up load times, especially for command line apps. This
change makes the switch now to ensure API compatibility.

We were already using stevedore for tests, so this moves the dependency
from test-requirements.txt to requirements.txt and raises the minimum
version to something more recent.

Change-Id: I2e36a6ea5061c776d0b3cedc3afb8b8380bdd1fb
"
openstack%2Fcastellan~stable%2Ftrain~I1c0d00675a479cf05d92cec7b69fd720a88023d3,openstack/castellan,stable/train,hvac-stable/train,I1c0d00675a479cf05d92cec7b69fd720a88023d3,"Removes context ""validation"".",MERGED,2020-06-11 14:55:50.000000000,2020-07-07 14:26:38.000000000,2020-07-07 14:24:25.000000000,4,80,0,735163,1f8529e8ea533604e55eb25abb6abd129c0da827,15,6,1,3,1736,Ivan Kolodyazhny,e0ne,"Removes context ""validation"".

The Vault backend doesn't really care about context. Even an empty
string would suffice these checks.

Change-Id: I1c0d00675a479cf05d92cec7b69fd720a88023d3
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
(cherry picked from commit 8e88919f02781d699a73e815cf8f7be72d4db352)
"
openstack%2Ftripleo-ansible~master~I5e238676b78a52759227e0bce6e1b9ce3fef2d26,openstack/tripleo-ansible,master,,I5e238676b78a52759227e0bce6e1b9ce3fef2d26,Add mock to test-requirements,MERGED,2020-07-07 12:42:33.000000000,2020-07-07 14:19:57.000000000,2020-07-07 14:17:04.000000000,1,0,0,739731,ebb3f2ba40dd2213ee90e17266013dfe9a2902d7,10,5,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add mock to test-requirements

Change-Id: I5e238676b78a52759227e0bce6e1b9ce3fef2d26
"
openstack%2Fcharm-deployment-guide~master~Ic5d1bd95cdfb2ac125ebe9990291ae787c3557c5,openstack/charm-deployment-guide,master,refresh-masakari-appendix-for-supported-status,Ic5d1bd95cdfb2ac125ebe9990291ae787c3557c5,Rewrite Masakari appendix,MERGED,2020-06-19 17:37:04.000000000,2020-07-07 14:13:27.000000000,2020-07-07 14:10:27.000000000,440,236,0,737053,3e5e038fd2459a24e50c1d64bf4e4ecb999d9b08,7,2,1,1,30561,Peter Matulis,pmatulis,"Rewrite Masakari appendix

Change-Id: Ic5d1bd95cdfb2ac125ebe9990291ae787c3557c5
"
openstack%2Fpython-barbicanclient~master~I5e02a7ed7803e21ad2baa93fccd00a23cda3da79,openstack/python-barbicanclient,master,,I5e02a7ed7803e21ad2baa93fccd00a23cda3da79,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-06-11 09:41:24.000000000,2020-07-07 14:04:40.000000000,2020-07-07 14:01:23.000000000,4,4,0,735089,441ac7c0bf74fef94678e91ae577894ca66693c8,9,7,2,1,6593,Dirk Mueller,dmllr,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277^

Change-Id: I5e02a7ed7803e21ad2baa93fccd00a23cda3da79
"
openstack%2Frpm-packaging~master~Ib3841289cc6fba98dde2f1b5250a2c1fbe260583,openstack/rpm-packaging,master,,Ib3841289cc6fba98dde2f1b5250a2c1fbe260583,manila: add glanceclient dependency,MERGED,2020-07-01 16:02:26.000000000,2020-07-07 14:03:39.000000000,2020-07-07 14:03:39.000000000,2,0,0,738876,e1b60b64a1a295ba0ae97c83cfe5745c3bc118e8,10,6,1,1,6593,Dirk Mueller,dmllr,"manila: add glanceclient dependency

Change-Id: Ib3841289cc6fba98dde2f1b5250a2c1fbe260583
"
openstack%2Ftripleo-ansible~master~Iea96b3515aee5243726a2366d939b282fcdf76ac,openstack/tripleo-ansible,master,,Iea96b3515aee5243726a2366d939b282fcdf76ac,Remove mock from molecule requirements,ABANDONED,2020-07-07 12:46:37.000000000,2020-07-07 14:01:24.000000000,,0,1,0,739733,ada733926bfa1d2ee5c5dc55a648b46e0bf902f0,3,1,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Remove mock from molecule requirements

Change-Id: Iea96b3515aee5243726a2366d939b282fcdf76ac
"
openstack%2Fbifrost~stable%2Fussuri~I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0,openstack/bifrost,stable/ussuri,sudo-pip-stable/ussuri,I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0,Do not use 'sudo pip install' when venv is used,MERGED,2020-07-07 11:50:20.000000000,2020-07-07 13:43:28.000000000,2020-07-07 13:41:11.000000000,10,2,0,739718,dc87231588b9dd11dc63fe569ce9c8e2ee1e7c9c,7,2,1,1,10239,Dmitry Tantsur,dtantsur,"Do not use 'sudo pip install' when venv is used

We end up installing bindep and bifrost deps in the system otherwise.

Change-Id: I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0
(cherry picked from commit 0b58a05ac6bcabb8d5dc65a32e1526df4e0251e5)
"
openstack%2Fcharm-neutron-api~master~Ib2d0859a9a7d033c49c135a3db7c87a08a49b713,openstack/charm-neutron-api,master,victoria,Ib2d0859a9a7d033c49c135a3db7c87a08a49b713,Add Victoria test bundles,MERGED,2020-07-07 12:06:15.000000000,2020-07-07 13:36:49.000000000,2020-07-07 13:36:49.000000000,90,1,0,739720,62db5726a798176cafd9bb2583f7966ba99fd8e0,7,3,1,3,31289,Aurelien Lourot,lourot,"Add Victoria test bundles

Change-Id: Ib2d0859a9a7d033c49c135a3db7c87a08a49b713
"
openstack%2Ftripleo-heat-templates~master~I567839785a72813a382a00253562894e19eb6715,openstack/tripleo-heat-templates,master,,I567839785a72813a382a00253562894e19eb6715,Don't set RABBITMQ_SERVER_ERL_ARGS,MERGED,2020-06-23 19:02:48.000000000,2020-07-07 13:36:04.000000000,2020-07-07 13:35:27.000000000,1,2,0,737604,938166b93b8fc525d575c53509f8364a8f3d04e5,51,5,6,1,9257,John Eckersberg,jeckersb,"Don't set RABBITMQ_SERVER_ERL_ARGS

From the RabbitMQ docs[1]:

""RABBITMQ_SERVER_ERL_ARGS - Standard parameters for the erl command
used when invoking the RabbitMQ Server. This should be overridden for
debugging purposes only. Overriding this variable replaces the default
value.""

We do not need any of the current values because of this commit from
2015 in rabbitmq 3.5.4:

https://github.com/rabbitmq/rabbitmq-server/commit/5c3c0e6f38792ca37289888ce39996e6baf4d846

In which the ""+K true"" and ""-kernel inet_default_connect_options
""[{nodelay,true}]"" options were hard-coded to the rabbitmq-server
script.  Meanwhile the ""+P 1048576"" configuration was moved to the
rabbitmq-env script under the SERVER_ERL_ARGS variable, which is the
defaults used when RABBITMQ_SERVER_ERL_ARGS is unset.

[1] https://www.rabbitmq.com/configure.html#supported-environment-variables

Let's also move the current RabbitAdditionalErlArgs to a new dedicated
override hiera key.

NB: To get this properly working we need a puppet-rabbitmq that contains
    https://github.com/voxpupuli/puppet-rabbitmq/pull/841
Depends-On: I3bf244a70538209773804eb85fae6be035c587f4

Closes-Bug: #1884922

Change-Id: I567839785a72813a382a00253562894e19eb6715
"
openstack%2Fneutron-dynamic-routing~master~I42e9ae98e925ad0236b1bf134cbd80d111098aad,openstack/neutron-dynamic-routing,master,devstack_readme,I42e9ae98e925ad0236b1bf134cbd80d111098aad,Fix devstack README.rst formatting,MERGED,2020-07-07 13:04:04.000000000,2020-07-07 13:31:27.000000000,2020-07-07 13:28:06.000000000,2,0,0,739738,9025dc72d0a6ee44515762715bcfc2b1de757fc5,7,2,1,1,21798,Bernard Cafarelli,bcafarel,"Fix devstack README.rst formatting

Missing newlines caused incorrect rendering for code blocks

TrivialFix

Change-Id: I42e9ae98e925ad0236b1bf134cbd80d111098aad
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa,openstack/tripleo-ansible,stable/ussuri,retry_timeout-stable/ussuri,Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa,Set retry timeout for nodes introspection,MERGED,2020-07-06 08:22:02.000000000,2020-07-07 13:24:29.000000000,2020-07-07 13:24:28.000000000,22,4,0,739426,a8d1382b44a1da57c6095c8f68a0ec147a569a33,9,6,1,2,10969,Shnaidman Sagi (Sergey),sergsh,"Set retry timeout for nodes introspection

When restarting node introspection wait a configured amount of time
so that node can be unlocked.
Change-Id: Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa
(cherry picked from commit a368a641efc582c5f544e2e16238a6e12e2f9c78)
"
openstack%2Ftripleo-ci~master~Ib57a96b50376c03cfb14bab1411586268bfaeaf9,openstack/tripleo-ci,master,allowed-skiplist-override,Ib57a96b50376c03cfb14bab1411586268bfaeaf9,Add tempest_use_skiplist in allowed overrides,MERGED,2020-07-01 10:57:39.000000000,2020-07-07 13:24:26.000000000,2020-07-07 13:24:26.000000000,1,0,0,738788,eb5e3863f9832b81f69cc22898b4656f0a35ea1f,14,5,2,1,8367,Arx Cruz,arxcruz,"Add tempest_use_skiplist in allowed overrides

This will be the variable name to be used to switch between old skiplist
to the new openstack-tempest-skiplist management

Change-Id: Ib57a96b50376c03cfb14bab1411586268bfaeaf9
"
openstack%2Fmonasca-specs~master~Idb7514a23335392e88ea44fd0aa81159c4e2ae49,openstack/monasca-specs,master,,Idb7514a23335392e88ea44fd0aa81159c4e2ae49,Add Victoria release cycle priorities,MERGED,2020-06-30 12:47:15.000000000,2020-07-07 13:18:35.000000000,2020-07-07 13:15:10.000000000,116,0,0,738596,a9a886f326373d1842be009091b0ee3ba8d32d42,12,5,2,1,28062,Martin Chacon Piza,martinchacon,"Add Victoria release cycle priorities

Change-Id: Idb7514a23335392e88ea44fd0aa81159c4e2ae49
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ie1efb437059d37fe04ece0e23c9baa5c4df063a6,openstack/python-tripleoclient,stable/ussuri,test,Ie1efb437059d37fe04ece0e23c9baa5c4df063a6,DNM - run tripleo-build-containers-ubi-8-ussuri  Please enter the commit message for your changes. Lines starting,ABANDONED,2020-07-07 13:03:06.000000000,2020-07-07 13:16:35.000000000,,1,1,0,739737,24e6abc5e5afc585e9cb2044cde3d252be65896a,5,1,2,1,3153,Emilien Macchi,emilienm,"DNM - run tripleo-build-containers-ubi-8-ussuri
 Please enter the commit message for your changes. Lines starting

Change-Id: Ie1efb437059d37fe04ece0e23c9baa5c4df063a6
"
openstack%2Ftripleo-ansible~master~Ib6f72e74087f62c41be709a548992a25bf4a36d1,openstack/tripleo-ansible,master,,Ib6f72e74087f62c41be709a548992a25bf4a36d1,Check that module execution returns required data,ABANDONED,2020-07-07 09:11:37.000000000,2020-07-07 13:04:57.000000000,,3,1,0,739683,e9f9dca30ee4859bdbf064afb5a1fa34dd378fc1,11,7,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Check that module execution returns required data

Sometimes modules doesn't return data correctly in async task,
there are examples in the bug. Make sure variable has 'containers'
before checking the second condition.

Closes-Bug: #1886636
Change-Id: Ib6f72e74087f62c41be709a548992a25bf4a36d1
"
openstack%2Fkolla~master~I0727be1e969296316aedcc1adc2392aead48873d,openstack/kolla,master,marcin,I0727be1e969296316aedcc1adc2392aead48873d,Move definition of OpenStack sources into YAML file,ABANDONED,2019-11-07 17:47:26.000000000,2020-07-07 12:54:53.000000000,,454,603,22,693398,1da76ddda253baaa038eec5532757d9b34c0fb4a,58,6,15,3,24072,Marcin Juszkiewicz,hrw,"Move definition of OpenStack sources into YAML file

SOURCES list is long and is in Python code file. And we update it
several times during stable cycle.

Let's move it to a YAML-formatted file and load when needed.

Lays ground for external sourcing.

Co-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I0727be1e969296316aedcc1adc2392aead48873d
"
openstack%2Fdevstack~stable%2Fpike~I82f539bfa533349293dd5a8ce309c9cc0ffb0393,openstack/devstack,stable/pike,uwsgi-stable/pike,I82f539bfa533349293dd5a8ce309c9cc0ffb0393,"Fix gate, squashing multiple fixes",MERGED,2020-06-15 15:21:27.000000000,2020-07-07 12:07:56.000000000,2020-07-07 12:07:56.000000000,158,34,2,735616,e963dc2fd4add7c438a15407b5e047957f690c4a,23,9,2,11,8556,Ghanshyam,ghanshyam,"Fix gate, squashing multiple fixes

This commit includes multiple fixes to
make gate happy:

1. Use packaged uwsgi on Fedora and Ubuntu
- https://review.opendev.org/#/c/735615/7

2. Move process-stackviz role from Tempest to Devstack
- https://review.opendev.org/#/c/737078/4

3. Add ensure-pip to pre.yaml
- https://review.opendev.org/#/c/738495/2

4. Use uwsgi binary from path
- https://review.opendev.org/#/c/739072/

5. Temporarily disable the grenade jobs

Conflicts:
	.zuul.yaml
	lib/neutron
	lib/neutron-legacy

Change-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393
(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)
(cherry picked from commit ad6cc52c746f1fbdb1d89b14c09dc4aa7907bfe4)
"
openstack%2Fironic-python-agent~stable%2Fussuri~I3e0d237d37219e783d81913fa6cc490492b3f96a,openstack/ironic-python-agent,stable/ussuri,,I3e0d237d37219e783d81913fa6cc490492b3f96a,Limit Inspection->Lookup->Heartbeat lag,MERGED,2020-07-06 18:21:18.000000000,2020-07-07 11:52:49.000000000,2020-07-07 11:49:49.000000000,72,6,0,739569,8ab527e72ed2996c077f75e1118608cd30feb61f,11,4,1,8,10239,Dmitry Tantsur,dtantsur,"Limit Inspection->Lookup->Heartbeat lag

Caches hardware information collected during inspection
so that the initial lookup can occur without any delay.

Also adds logging to track how long inventory collection takes.

Conflicts:
	ironic_python_agent/tests/unit/base.py

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: I3e0d237d37219e783d81913fa6cc490492b3f96a
(cherry picked from commit c76b8b2c217d57680baec977b374e821304198f9)
"
openstack%2Fbifrost~master~I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0,openstack/bifrost,master,sudo-pip,I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0,Do not use 'sudo pip install' when venv is used,MERGED,2020-07-07 09:44:21.000000000,2020-07-07 11:50:20.000000000,2020-07-07 11:02:16.000000000,10,2,0,739693,0b58a05ac6bcabb8d5dc65a32e1526df4e0251e5,9,3,1,1,10239,Dmitry Tantsur,dtantsur,"Do not use 'sudo pip install' when venv is used

We end up installing bindep and bifrost deps in the system otherwise.

Change-Id: I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0162e7dec09242a8d3981d1796f4cc6d911c7c4a,openstack/tripleo-heat-templates,stable/train,ffwd-upgrade2-stable/train,I0162e7dec09242a8d3981d1796f4cc6d911c7c4a,[Q->T] Add FFU steps for manila,MERGED,2020-06-23 18:49:17.000000000,2020-07-07 11:33:31.000000000,2020-07-07 11:33:31.000000000,91,14,9,737602,ea7c886e22e18a79fda64f159ff524bd587a277e,58,12,9,3,16643,Goutham Pacha Ravi,gouthamr,"[Q->T] Add FFU steps for manila

These steps were added for other overcloud
services in [1] and [2].

[1] https://review.opendev.org/713482/
[2] https://review.opendev.org/720490/

Depends-On: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515
Depends-On: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb
Resolves: rhbz#1849098
Closes-bug: #1884818
Change-Id: I0162e7dec09242a8d3981d1796f4cc6d911c7c4a
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I70d2ef2a64f0a46203d7a60b564eaa287e5708d6,openstack/puppet-tripleo,stable/train,,I70d2ef2a64f0a46203d7a60b564eaa287e5708d6,Fix haproxy ceph dashboard condition,MERGED,2020-07-02 13:46:19.000000000,2020-07-07 11:33:29.000000000,2020-07-07 11:33:29.000000000,2,2,0,739044,90a28fd10a259dd1e4d354fa739817caa911639c,24,5,2,1,25402,Francesco Pantano,fmount,"Fix haproxy ceph dashboard condition

If grafana is not enabled in the overcloud the
dashboard section shouldn't be created. We
currently hit an issue during upgrades because
the haproxy exists (because of ceph_mgr_enabled)
even though the dashboard bits aren't deployed.
Using the same condition for both services should
be safe enough.

Depends-On: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb
Closes-Bug: #1885122
Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6
(cherry picked from commit a21b5ee7ce44270828a12b823b33e5e4117bf4c1)
"
openstack%2Fcharm-swift-proxy~master~Ic51ee5d181558b63dfd968c5b0c7d40760a5ac59,openstack/charm-swift-proxy,master,bug/1741723,Ic51ee5d181558b63dfd968c5b0c7d40760a5ac59,Policyd override implementation,MERGED,2020-07-01 07:24:51.000000000,2020-07-07 11:23:50.000000000,2020-07-07 11:23:50.000000000,70,0,0,738745,d21648e67106c48e222a3f698eeb2255593326dd,16,4,4,5,9247,Arif Ali,arif-ali,"Policyd override implementation

This patchset implements policy overrides for swift-proxy.  It uses
the code in charmhelpers.

Closed-Bug: #1741723
Change-Id: Ic51ee5d181558b63dfd968c5b0c7d40760a5ac59
"
openstack%2Fpython-openstackclient~master~I510383f8e0cbf05ec24caa1cad330f12f82a913d,openstack/python-openstackclient,master,story/2007896,I510383f8e0cbf05ec24caa1cad330f12f82a913d,Make volume backup record commands available in v3,MERGED,2020-07-05 07:55:50.000000000,2020-07-07 10:59:55.000000000,2020-07-07 10:58:15.000000000,8,0,0,739342,b1fc587a6d4eac795a5bc27c2dffd2d876161caa,15,5,1,2,30491,Radosław Piliszek,yoctozepto,"Make volume backup record commands available in v3

They work just fine in Volume API v3 but they were limited in OSC
to v2.

Change-Id: I510383f8e0cbf05ec24caa1cad330f12f82a913d
Story: 2007896
Task: 40279
"
openstack%2Fkolla~master~I562d2f42f470de58aaae909d470e7c3f14eec272,openstack/kolla,master,,I562d2f42f470de58aaae909d470e7c3f14eec272,monasca-thresh: build always,ABANDONED,2020-07-06 10:27:38.000000000,2020-07-07 10:55:46.000000000,,0,10,0,739461,99de0896839087c51aa5106840043918778dbaad,11,8,1,2,24072,Marcin Juszkiewicz,hrw,"monasca-thresh: build always

This package is part of infrastructure so binary/source split does not
make any sense here.

Change-Id: I562d2f42f470de58aaae909d470e7c3f14eec272
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I3bf244a70538209773804eb85fae6be035c587f4,openstack/puppet-tripleo,stable/queens,fix-override-stable/ussuri-stable/train-stable/stein-stable/queens,I3bf244a70538209773804eb85fae6be035c587f4,Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent,MERGED,2020-06-30 13:39:23.000000000,2020-07-07 10:52:34.000000000,2020-07-07 10:52:34.000000000,25,2,0,738623,55c8faea5c4acd19aebb36173938aaf9c35b53fe,15,5,2,1,20172,Michele Baldessari,michele,"Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent

In THT we allow RabbitAdditionalErlArgs to set some additional
parameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS
when starting rabbit. The problem is that when we use internal tls
that parameter gets ignored and so we lose our default '+sbwt none'.

Let's do this via a proper parameter while also considering the fact
that historically the default value of RabbitAdditionalErlArgs had
apices around it.

Since the original master change had an issue when the THT parameter
was unset (aka when I567839785a72813a382a00253562894e19eb6715 was not
applied to THT), we also add the subsequent fixup ""Make the additional_erl_args
change more independent"" I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a to
this change)

Change-Id: I3bf244a70538209773804eb85fae6be035c587f4
Related-Bug: #1884922
(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)
"
openstack%2Fansible-role-collect-logs~master~Ie05403406e175030e62e9d0911d12a78887e45d0,openstack/ansible-role-collect-logs,master,,Ie05403406e175030e62e9d0911d12a78887e45d0,Remove jinja2 templating from when condition,MERGED,2020-07-03 12:14:43.000000000,2020-07-07 10:49:37.000000000,2020-07-07 10:49:36.000000000,1,1,0,739221,124b7f53adbb401d962baddcdfa60d3bfce604d9,19,10,1,1,13861,yatin,yatinkarel,"Remove jinja2 templating from when condition

Logs collection dumps warning like below, remove usage of it
as it's not necessary:-

[WARNING]: conditional statements should not include jinja2 templating
delimiters such as {{ }} or {% %}. Found: {{ item.when | default(true) }}

Change-Id: Ie05403406e175030e62e9d0911d12a78887e45d0
"
openstack%2Fpuppet-tripleo~stable%2Fstein~I3bf244a70538209773804eb85fae6be035c587f4,openstack/puppet-tripleo,stable/stein,fix-override-stable/ussuri-stable/train-stable/stein,I3bf244a70538209773804eb85fae6be035c587f4,Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent,MERGED,2020-06-30 13:39:02.000000000,2020-07-07 10:41:37.000000000,2020-07-07 10:41:37.000000000,25,2,0,738622,856f946f78593f8d175be857947db07dc95cbddf,14,4,2,1,20172,Michele Baldessari,michele,"Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent

In THT we allow RabbitAdditionalErlArgs to set some additional
parameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS
when starting rabbit. The problem is that when we use internal tls
that parameter gets ignored and so we lose our default '+sbwt none'.

Let's do this via a proper parameter while also considering the fact
that historically the default value of RabbitAdditionalErlArgs had
apices around it.

Since the original master change had an issue when the THT parameter
was unset (aka when I567839785a72813a382a00253562894e19eb6715 was not
applied to THT), we also add the subsequent fixup ""Make the additional_erl_args
change more independent"" I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a to
this change)

Change-Id: I3bf244a70538209773804eb85fae6be035c587f4
Related-Bug: #1884922
(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)
"
openstack%2Ftripleo-common~master~I397f8d641504ac2ceed36fa975cf97fac5bbb81a,openstack/tripleo-common,master,,I397f8d641504ac2ceed36fa975cf97fac5bbb81a,Catch exception if servers are in error state with no bm_node attached,MERGED,2020-07-01 09:22:16.000000000,2020-07-07 10:38:08.000000000,2020-07-07 10:21:19.000000000,71,4,5,738768,7d2c25319b10daad3d3ef6ba2ff656b10b716beb,27,6,7,2,30126,Luca Miccini,lmiccini2,"Catch exception if servers are in error state with no bm_node attached

There have been reports (rhbz#1851507) where generating the fencing
parameters fails because of one or more servers in error state, like
when a scale out operation doesn't go as planned.

This commit wraps get_by_instance_uuid in a try/except block to prevent
this from happening, skipping the node in error state and allowing
users to still get a valid fencing config for the remaining servers.

Change-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a
"
openstack%2Ftripleo-heat-templates~master~I182f8c5a8ce283b675aa18712e84fcd692200eb1,openstack/tripleo-heat-templates,master,bug/1886095,I182f8c5a8ce283b675aa18712e84fcd692200eb1,Fix default BlockStorageCinderVolume template,MERGED,2020-07-02 20:41:23.000000000,2020-07-07 10:27:41.000000000,2020-07-07 10:00:59.000000000,2,1,4,739145,bff0c6cfa1226836569ea016a71284e127c04b2c,17,5,1,1,21129,Alan Bishop,ASBishop,"Fix default BlockStorageCinderVolume template

The BlockStorageCinderVolume tripleo service (used by the BlockStorage
and DistributedComputeHCI roles) is meant to deploy the cinder-volume
service without pacemaker. Unfortunately, [1] inadvertently switched
it to the pcmk version of the template, and this patch moves it back.

[1] I0f61016df6a9f07971c5eab51cc9674a1458c66f

Closes-Bug: #1886095
Change-Id: I182f8c5a8ce283b675aa18712e84fcd692200eb1
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib1eb7338779c4e1d4c8dce1e6b931b4eadefcb23,openstack/tripleo-heat-templates,stable/train,add_multinode_ipa_template,Ib1eb7338779c4e1d4c8dce1e6b931b4eadefcb23,Add project template for IPA multinode,MERGED,2020-06-30 09:02:58.000000000,2020-07-07 10:21:20.000000000,2020-07-07 10:21:20.000000000,1,0,1,738568,d0a3da09c87f8c12aaa77ee961e1ef07a2407cab,12,7,2,1,31075,Pooja Jadhav,pojadhav,"Add project template for IPA multinode

Added ipa multinode project template
for stable train.

Change-Id: Ib1eb7338779c4e1d4c8dce1e6b931b4eadefcb23
"
openstack%2Ftripleo-quickstart-extras~master~I1d31343161b6a228426f3b63f477ed839a2fbef9,openstack/tripleo-quickstart-extras,master,fix-manageable,I1d31343161b6a228426f3b63f477ed839a2fbef9,Fix newly-introduced 'Wait until nodes will be manageable' task,MERGED,2020-06-30 12:57:28.000000000,2020-07-07 10:21:17.000000000,2020-07-07 10:21:17.000000000,1,1,0,738605,a585b509b1c1ceb215501761e3d36a14c98ab718,17,6,1,1,20172,Michele Baldessari,michele,"Fix newly-introduced 'Wait until nodes will be manageable' task

In change I5a35ca95c5f0e7b295f7bcf76e2ebb530e73c1a0 we added the
'Wait until nodes will be manageable' in order to cope for slow
environments. That change always assumed that step_introspect is
set to true. When step_introspect is set to false, then
tripleo_overcloud_node_import_provide is set to true and that means that
the nodes get imported with 'openstack overcloud node import
instackenv.json --provide'. Having --provide means the nodes will
show up with 'available' and not 'manageable'.

Change-Id: I1d31343161b6a228426f3b63f477ed839a2fbef9
"
openstack%2Fpuppet-tripleo~master~Ie48a78a30d9a2824155a9f7388660cab7b5935dd,openstack/puppet-tripleo,master,remove-facter-warning,Ie48a78a30d9a2824155a9f7388660cab7b5935dd,Remove stonith level warning when running on a non cluster node,MERGED,2020-07-01 13:38:14.000000000,2020-07-07 10:21:16.000000000,2020-07-07 10:21:16.000000000,1,1,0,738847,f1b341962af912bc60eeda6da959777f0b0f3cfb,12,4,1,1,20172,Michele Baldessari,michele,"Remove stonith level warning when running on a non cluster node

Currently when we run with puppet --debug on a non cluster node we get:
overcloud-novacompute-0 ~$ puppet facts --debug --color=false|grep Error
Debug: Facter: Error: unable to get cib

Let's just remove stderr from the pcs command. After the fix:
overcloud-novacompute-0 ~$ puppet facts --debug --color=false|grep Error
overcloud-novacompute-0 ~$

Change-Id: Ie48a78a30d9a2824155a9f7388660cab7b5935dd
"
openstack%2Fcharm-gnocchi~master~Ie7a02c536d5085cd2548b84d94b7a6bf8ac6a315,openstack/charm-gnocchi,master,bug/1741723,Ie7a02c536d5085cd2548b84d94b7a6bf8ac6a315,Policyd override implementation,MERGED,2020-07-03 18:27:35.000000000,2020-07-07 10:20:55.000000000,2020-07-07 10:20:55.000000000,48,3,1,739274,7bec3ddee6163a566d2a9c0aaadacc1be27be9a7,10,4,1,4,9247,Arif Ali,arif-ali,"Policyd override implementation

This patchset implements policy overrides for gnocchi

Change-Id: Ie7a02c536d5085cd2548b84d94b7a6bf8ac6a315
Closed-Bug: #1741723
"
openstack%2Fnova~stable%2Frocky~I4e03295548af5272a02ca81162fcd685c7986470,openstack/nova,stable/rocky,,I4e03295548af5272a02ca81162fcd685c7986470,Make greande jobs n-v for EM and oldest stable,ABANDONED,2020-07-02 10:56:58.000000000,2020-07-07 10:20:29.000000000,,7,2,4,739020,b9a699a7737fc13eda72dc6a78efb3abbbfe1f68,35,7,5,1,10135,Lee Yarwood,lyarwood,"Make greande jobs n-v for EM and oldest stable

As discussed in ML thread[1], we are going to
make grenade jobs as non voting for all EM stable and
oldest stable. grenade jobs are failing not and it might take
time to fix those if we are able to fix. Once it jobs are
working depends on project team, they can bring them back to
voting or keep non-voting.

If those jobs are failing consistently and no one is fixing them
then removing those n-v jobs in future also fine.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html

StableOnly

Conflicts:
    .zuul.yaml

Depends-On: https://review.opendev.org/#/c/737384/
Depends-On: https://review.opendev.org/#/c/737826/

NOTE(lyarwood): This change also makes the nova-live-migration job
non-voting for now allowing us to follow up and land a seperate changet
to correct it under Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c.

Change-Id: I4e03295548af5272a02ca81162fcd685c7986470
(cherry picked from commit b05bf09b2d50bd77d33a31babe204ba7969f0221)
"
openstack%2Ftripleo-quickstart-extras~master~I5bfb6cf0c6063ebd6f91705e27e759b51a18df1e,openstack/tripleo-quickstart-extras,master,,I5bfb6cf0c6063ebd6f91705e27e759b51a18df1e,Allow to run tripleo registry on different ip,MERGED,2020-06-19 13:16:28.000000000,2020-07-07 10:18:44.000000000,2020-07-07 10:18:43.000000000,1,0,8,737000,452538cd12531258fb55c265d4eb8865b38c8f15,44,8,6,1,13861,yatin,yatinkarel,"Allow to run tripleo registry on different ip

Use local_docker_registry_host to run tripleo
registry on different ip on host.

Change-Id: I5bfb6cf0c6063ebd6f91705e27e759b51a18df1e
"
openstack%2Fblazar~stable%2Fstein~If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627,openstack/blazar,stable/stein,bug/1880646-stable/stein,If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627,Fix up adding availability zone (AZ) to a host on creation,MERGED,2020-07-01 07:34:44.000000000,2020-07-07 10:10:16.000000000,2020-07-07 10:08:17.000000000,9,3,0,738749,6bbad1bc79eb2f9535e58f0c9ff19669eaac1373,7,3,1,3,15197,Pierre Riteau,priteau,"Fix up adding availability zone (AZ) to a host on creation

1. Nova AZ returns hosts as service hosts as opposed to hypervisor
   hostnames
2. Handle case where a Nova AZ has no hosts

Change-Id: If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627
Closes-Bug: #1880646
(cherry picked from commit 532544efbf5fc3a2daf60af5d3c216b0b6a62c42)
"
openstack%2Fblazar~stable%2Ftrain~If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627,openstack/blazar,stable/train,bug/1880646-stable/train,If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627,Fix up adding availability zone (AZ) to a host on creation,MERGED,2020-07-01 07:34:22.000000000,2020-07-07 10:10:11.000000000,2020-07-07 10:08:16.000000000,9,3,0,738748,d15c6ce078c0bfab5e471f60808fdd35120532ce,7,3,1,3,15197,Pierre Riteau,priteau,"Fix up adding availability zone (AZ) to a host on creation

1. Nova AZ returns hosts as service hosts as opposed to hypervisor
   hostnames
2. Handle case where a Nova AZ has no hosts

Change-Id: If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627
Closes-Bug: #1880646
(cherry picked from commit 532544efbf5fc3a2daf60af5d3c216b0b6a62c42)
"
openstack%2Fblazar~stable%2Fussuri~If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627,openstack/blazar,stable/ussuri,bug/1880646-stable/ussuri,If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627,Fix up adding availability zone (AZ) to a host on creation,MERGED,2020-07-01 07:33:57.000000000,2020-07-07 10:08:13.000000000,2020-07-07 10:05:40.000000000,9,3,0,738747,fd652cba5d49c046b4765b4616b8546726de98e3,7,3,1,3,15197,Pierre Riteau,priteau,"Fix up adding availability zone (AZ) to a host on creation

1. Nova AZ returns hosts as service hosts as opposed to hypervisor
   hostnames
2. Handle case where a Nova AZ has no hosts

Change-Id: If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627
Closes-Bug: #1880646
(cherry picked from commit 532544efbf5fc3a2daf60af5d3c216b0b6a62c42)
"
openstack%2Ftripleo-ci~master~I30508c68f62c7de6893b393836a604d22221303d,openstack/tripleo-ci,master,,I30508c68f62c7de6893b393836a604d22221303d,add neutron-server-odl and mlnx to skip,MERGED,2020-07-06 15:40:02.000000000,2020-07-07 10:01:02.000000000,2020-07-07 10:01:02.000000000,2,0,0,739523,8f53a8c38579f9747f417fc5252cb520e723bffb,17,4,1,1,9592,wes hayutin,weshayutin,"add neutron-server-odl and mlnx to skip

Change-Id: I30508c68f62c7de6893b393836a604d22221303d
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I70d2ef2a64f0a46203d7a60b564eaa287e5708d6,openstack/puppet-tripleo,stable/ussuri,,I70d2ef2a64f0a46203d7a60b564eaa287e5708d6,Fix haproxy ceph dashboard condition,MERGED,2020-07-02 13:46:10.000000000,2020-07-07 10:00:58.000000000,2020-07-07 10:00:58.000000000,2,2,0,739043,30c8cb3b1bdda695621e0db5674cc55c6c5dd7a8,31,5,4,1,25402,Francesco Pantano,fmount,"Fix haproxy ceph dashboard condition

If grafana is not enabled in the overcloud the
dashboard section shouldn't be created. We
currently hit an issue during upgrades because
the haproxy exists (because of ceph_mgr_enabled)
even though the dashboard bits aren't deployed.
Using the same condition for both services should
be safe enough.

Closes-Bug: #1885122
Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6
(cherry picked from commit a21b5ee7ce44270828a12b823b33e5e4117bf4c1)
"
openstack%2Fcastellan~stable%2Ftrain~I83bafe5b7e0c4cca67f773858007fb59d98a93a5,openstack/castellan,stable/train,bug/1876102,I83bafe5b7e0c4cca67f773858007fb59d98a93a5,"add ""verify_ssl_path"" config for barbican key manager",MERGED,2020-06-29 08:33:02.000000000,2020-07-07 09:55:01.000000000,2020-07-07 09:52:51.000000000,30,5,2,738398,884dee77b7f71ee46de8bc85b48482ffb30b1478,12,9,2,4,27594,Jie Li,ramboman,"add ""verify_ssl_path"" config for barbican key manager

Now we cann't use the verify_ssl if we set True, so we
add the ""verify_ssl_path"" config to solve it.

Closes-Bug: #1876102
(cherry picked from commit 89f311dfbd264a5d4309ea1ca4283f2746d6fa24)

Change-Id: I83bafe5b7e0c4cca67f773858007fb59d98a93a5
"
openstack%2Foctavia~stable%2Fstein~Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed,openstack/octavia,stable/stein,,Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed,Fix batch member create for v1 amphora driver,MERGED,2020-06-21 01:46:22.000000000,2020-07-07 09:28:45.000000000,2020-07-07 09:26:55.000000000,16,3,0,737156,d2bef9a47c6497b479d91471fbaec60d993e86ac,12,9,2,2,10366,Hemanth N,Hemanth,"Fix batch member create for v1 amphora driver

A previous patch[1] missed batch_member_update when adding database
repository ""get"" method retries for new object creation actions.
This patch fixes batch member create to retry the database get call
when new members are being created via batch member update.
This issue only impacts the v1 amphora driver as the v2 driver
does not need to get these objects from the database.

Story: 2007581
Task: 39503

[1] https://github.com/openstack/octavia/commit/48e85569f7e43e3dd5f09fd1ef4cb165526a92cd

Change-Id: Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed
"
openstack%2Fironic-python-agent~stable%2Ftrain~If1408e4b81d263c56b4bbab618dd0737db5f762e,openstack/ironic-python-agent,stable/train,lib-exc-stable/train,If1408e4b81d263c56b4bbab618dd0737db5f762e,Fix serializing ironic-lib exceptions,MERGED,2020-07-06 16:50:46.000000000,2020-07-07 09:01:17.000000000,2020-07-07 08:58:41.000000000,39,0,0,739553,7c036fa18dca97c93e36eb91e30fd6fe4e3a48f0,8,3,1,3,10239,Dmitry Tantsur,dtantsur,"Fix serializing ironic-lib exceptions

Change-Id: If1408e4b81d263c56b4bbab618dd0737db5f762e
Story: #2007889
Task: #40268
(cherry picked from commit a4855c544cac35e92ce7c20143536ca7a3bb847a)
"
openstack%2Fironic-python-agent~stable%2Fussuri~If1408e4b81d263c56b4bbab618dd0737db5f762e,openstack/ironic-python-agent,stable/ussuri,lib-exc-stable/ussuri,If1408e4b81d263c56b4bbab618dd0737db5f762e,Fix serializing ironic-lib exceptions,MERGED,2020-07-06 16:50:34.000000000,2020-07-07 09:00:16.000000000,2020-07-07 08:58:37.000000000,39,0,0,739552,74e9ed159abf40bb016bd3cdffe8dc02d72c1342,8,3,1,3,10239,Dmitry Tantsur,dtantsur,"Fix serializing ironic-lib exceptions

Change-Id: If1408e4b81d263c56b4bbab618dd0737db5f762e
Story: #2007889
Task: #40268
(cherry picked from commit a4855c544cac35e92ce7c20143536ca7a3bb847a)
"
openstack%2Frequirements~master~Id1662fdaaef99f17835df086eaa4e789bd1af503,openstack/requirements,master,,Id1662fdaaef99f17835df086eaa4e789bd1af503,Update oslotest constraint to 4.4.0,MERGED,2020-07-06 16:10:47.000000000,2020-07-07 09:00:11.000000000,2020-07-07 08:58:21.000000000,1,1,0,739531,e0d7ac6629006cfd33a20629e48b6c8b41cb7f77,17,4,1,1,8556,Ghanshyam,ghanshyam,"Update oslotest constraint to 4.4.0

oslotest constraint to 4.4.0 in generate-constraints patch
failed due to nova bug(fix is depends-on).
- https://review.opendev.org/#/c/739330/

Let's update is with nova fix.
Depends-On: https://review.opendev.org/#/c/739333/

Change-Id: Id1662fdaaef99f17835df086eaa4e789bd1af503
"
openstack%2Fneutron~stable%2Frocky~I299031a505f05cd0469e2476b867b9dbca59c5bf,openstack/neutron,stable/rocky,bug/1840579-stable/stein-stable/rocky,I299031a505f05cd0469e2476b867b9dbca59c5bf,Unnecessary routers should not be created,MERGED,2020-03-11 00:09:40.000000000,2020-07-07 08:58:19.000000000,2020-07-07 08:58:19.000000000,47,2,2,712209,f6401020f7ba406623d49fb43671cb359aca2372,37,9,5,2,29071,norman shen,ushen,"Unnecessary routers should not be created

We observe an excessive amount of routers created on
compute node on which some virtual machines got a fixed
ip on floating network.

Rpc servers should filter out those unnecessary routers
during syncing.

Change-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf
Partial-Bug: #1840579
(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)
"
openstack%2Fkolla~master~I0cfde46c29eedce77c70c1c677220814a801ff3a,openstack/kolla,master,remove_sensu,I0cfde46c29eedce77c70c1c677220814a801ff3a,Remove sensu images,MERGED,2020-07-06 09:32:23.000000000,2020-07-07 08:52:49.000000000,2020-07-07 08:50:48.000000000,6,189,0,739440,0cfd36292cccb8d3af9c65a1dff9696f50870df6,15,5,3,13,22629,Michal Nasiadka,mnasiadka,"Remove sensu images

They have been deprecated in Ussuri [1].

[1]: https://review.opendev.org/#/c/711636/

Change-Id: I0cfde46c29eedce77c70c1c677220814a801ff3a
"
openstack%2Fdevstack~master~I5459b8976539924cd6cc6c1e681b6753a76b804c,openstack/devstack,master,,I5459b8976539924cd6cc6c1e681b6753a76b804c,Allow IP-based subject alt names,MERGED,2018-11-30 22:43:54.000000000,2020-07-07 08:45:48.000000000,2020-07-07 08:43:50.000000000,5,1,0,621307,0137703825ea5f493e7486e19c2d83b328ca2998,13,6,1,1,15343,Tim Burke,tburke,"Allow IP-based subject alt names

... even when no other subject alt names provided

Previously, a non-voting job in barbican's gate would fail with something like

  X509 V3 routines:X509V3_parse_list:invalid null name:v3_utl.c:319:
  X509 V3 routines:DO_EXT_NCONF:invalid extension string:v3_conf.c:140:name=subjectAltName,section=DNS:pykmip-server,,IP:198.72.124.103
  X509 V3 routines:X509V3_EXT_nconf:error in extension:v3_conf.c:95:name=subjectAltName, value=DNS:pykmip-server,,IP:198.72.124.103

because we'd have an invalid empty string.

Change-Id: I5459b8976539924cd6cc6c1e681b6753a76b804c
"
openstack%2Fdiskimage-builder~master~I374f7f22f9e93ef35eb5813712ca59e75f0733e8,openstack/diskimage-builder,master,blockdev,I374f7f22f9e93ef35eb5813712ca59e75f0733e8,Use kpartx option to update partition mappings,MERGED,2020-05-18 12:32:25.000000000,2020-07-07 08:29:53.000000000,2020-07-07 08:27:29.000000000,9,3,0,728824,4a424ecabbb14e230be45864ee7eeca3722d49e8,34,8,6,4,27582,Simon Westphahl,simon.westphahl,"Use kpartx option to update partition mappings

Fix cases of 'mkfs' failing because the partitions never showed up. Partition
mappings will now be updated instead of just adding them with 'kpartx'. That
means that 'kpartx' will also remove devmappings for deleted partitions.

Traceback of failing mkfs call:

2020-05-11 22:03:25.523 | INFO diskimage_builder.block_device.utils [-] Calling [sudo sync]
2020-05-11 22:03:25.539 | INFO diskimage_builder.block_device.utils [-] Calling [sudo kpartx -avs /dev/loop0]
2020-05-11 22:03:25.581 | INFO diskimage_builder.block_device.utils [-] Calling [sudo mkfs -t ext4 -i 4096 -J size=64 -L cloudimg-rootfs -U 21c6f9eb-4d52-4e5c-b9b7-796735de8909 -q /dev/mapper/loop0p1]
2020-05-11 22:03:25.700 | ERROR diskimage_builder.block_device.blockdevice [-] Create failed; rollback initiated
2020-05-11 22:03:25.700 | Traceback (most recent call last):
2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create
2020-05-11 22:03:25.700 |     node.create()
2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create
2020-05-11 22:03:25.700 |     exec_sudo(cmd)
2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo
2020-05-11 22:03:25.700 |     raise e
2020-05-11 22:03:25.700 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed
2020-05-11 22:03:25.700 | INFO diskimage_builder.block_device.level0.localloop [-] loopdev detach
2020-05-11 22:03:25.701 | INFO diskimage_builder.block_device.utils [-] Calling [sudo losetup -d /dev/loop0]
2020-05-11 22:03:25.732 | INFO diskimage_builder.block_device.level0.localloop [-] Remove image file [/tmp/dib_image.muyw7t1h/image0.raw]
2020-05-11 22:03:25.734 | ERROR diskimage_builder.block_device.blockdevice [-] Rollback complete, exiting
2020-05-11 22:03:25.740 | Traceback (most recent call last):
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/bin/dib-block-device"", line 8, in <module>
2020-05-11 22:03:25.740 |     sys.exit(main())
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 120, in main
2020-05-11 22:03:25.740 |     return bdc.main()
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 115, in main
2020-05-11 22:03:25.740 |     self.args.func()
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 36, in cmd_create
2020-05-11 22:03:25.740 |     self.bd.cmd_create()
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create
2020-05-11 22:03:25.740 |     node.create()
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create
2020-05-11 22:03:25.740 |     exec_sudo(cmd)
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo
2020-05-11 22:03:25.740 |     raise e
2020-05-11 22:03:25.740 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed

Change-Id: I374f7f22f9e93ef35eb5813712ca59e75f0733e8
Related-Bug: #1698337
"
openstack%2Fopenstack-ansible~master~Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f,openstack/openstack-ansible,master,,Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f,Fix tmpfiles-setup wait handler,MERGED,2020-07-02 12:09:50.000000000,2020-07-07 08:27:42.000000000,2020-07-06 22:53:33.000000000,1,1,0,739025,61941eaa8fbf024387fda886b89df7dc601945b4,12,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix tmpfiles-setup wait handler

Precess column was present only for CentOS 8 and is not applicable for
other distros. In the meanwhile Active column is present in all distros.

Change-Id: Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f
"
openstack%2Ftripleo-heat-templates~master~I6863b5fb112c828304a23c368c3dbaf12902e0eb,openstack/tripleo-heat-templates,master,,I6863b5fb112c828304a23c368c3dbaf12902e0eb,Let redundant HostEntryValue (with YAQL in it) go,ABANDONED,2020-07-06 16:18:13.000000000,2020-07-07 08:27:11.000000000,,2,10,0,739539,4e6a5a304e9852a56f7bc4f3d5e5b3f4b0edb230,7,7,2,1,6926,Bogdan Dobrelya,bogdando,"Let redundant HostEntryValue (with YAQL in it) go

Storing HostEntryValue in Heat provide no value but
""niceness"" of storing /etc/hosts entries. That is by the price of the
increased YAQL memory footprint.

Drop that value and use HostsValue instead, just ""ugly"" as is. Empty
values will not be filtered. Deduplication will be partially handled by
list_concat_unique instead.

Change-Id: I6863b5fb112c828304a23c368c3dbaf12902e0eb
Closes-Bug: #1886203
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fhorizon~master~I569097d6088a99542f3694e18c8d00a2b0dcf9a1,openstack/horizon,master,cross-jobs,I569097d6088a99542f3694e18c8d00a2b0dcf9a1,Add plugin cross jobs,MERGED,2020-06-25 01:31:53.000000000,2020-07-07 08:15:07.000000000,2020-07-07 08:11:08.000000000,26,0,2,737891,5ef68211722b6bef0174606038cc5ab8a3f8cc82,22,4,4,2,841,Akihiro Motoki,amotoki,"Add plugin cross jobs

This commit adds two types of cross repository jobs: python unit test and
npm test. The initial commit covers the following plugins as non-voting jobs.
They can be used as templates if more projects are tested as cross jobs.

* manila-ui for python unit test
* ironic-ui for npm test

Note that ironic-ui python unit test has only one test which checks
the panel is registered expectedly, so I don't think we need to cover
ironic-ui as a cross python unit test job.

Change-Id: I569097d6088a99542f3694e18c8d00a2b0dcf9a1
"
openstack%2Fgovernance-sigs~master~I3c39a9f241cf9e0a0e9c3ba33bb81441228538c7,openstack/governance-sigs,master,,I3c39a9f241cf9e0a0e9c3ba33bb81441228538c7,Added the Cloud Research SIG in the forming state,MERGED,2020-07-06 22:04:39.000000000,2020-07-07 08:06:31.000000000,2020-07-07 08:04:44.000000000,16,0,0,739616,f6e43d04ec55981121677b6cad57ff03ab1d2b3f,10,5,1,1,30855,Mohamed Elsakhawy,mfouadga,"Added the Cloud Research SIG in the forming state

Change-Id: I3c39a9f241cf9e0a0e9c3ba33bb81441228538c7
"
openstack%2Fceilometer~master~I2c07bf43d1a230c0a6bf48755d91d41c64abc9ea,openstack/ceilometer,master,fix-dynamic-pollster-doc-configs,I2c07bf43d1a230c0a6bf48755d91d41c64abc9ea,Fix dynamic pollster samples indentation in the documentation,MERGED,2020-07-03 22:09:10.000000000,2020-07-07 07:43:20.000000000,2020-07-07 07:39:54.000000000,49,52,0,739288,49e9744f8d476a474c0b2fbe1ca112b62f15ba0e,8,3,1,1,28356,Rafael Weingartner,rafaelweingartner,"Fix dynamic pollster samples indentation in the documentation

Change-Id: I2c07bf43d1a230c0a6bf48755d91d41c64abc9ea
"
openstack%2Fnova~master~If1cb51404c9c99b1f638a8fafdba5ae01d671aef,openstack/nova,master,bp/use-pcpu-and-vcpu-in-one-instance,If1cb51404c9c99b1f638a8fafdba5ae01d671aef,online data migration for cpuset of dedicated instance,ABANDONED,2020-04-08 15:37:31.000000000,2020-07-07 07:29:28.000000000,,94,0,22,718493,01ebd86204375cdca8f6a4f8f78fad5b7d727073,44,14,5,3,30209,Huaqiang,Huaqiang.Wang,"online data migration for cpuset of dedicated instance

This patch offers an online data migration method for dedicated
instance since we have offerred `InstanceNUMACell.pcpuset` for
dedicated cpuset, which is kept in `InstanceNUMACell.cpuset`
field before Ussuri.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: If1cb51404c9c99b1f638a8fafdba5ae01d671aef
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
"
openstack%2Fnova~master~I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8,openstack/nova,master,bp/use-pcpu-and-vcpu-in-one-instance,I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8,Setup 'mixed' instance through 'PCPU' and 'VCPU' resource,NEW,2020-03-17 00:55:27.000000000,2020-07-07 07:26:38.000000000,,124,6,39,713355,0e9f41bb2aab9bcf6641e891cf4ebae201dbdf42,96,15,14,2,30209,Huaqiang,Huaqiang.Wang,"Setup 'mixed' instance through 'PCPU' and 'VCPU' resource

Introduced another interface for creating the 'MIXED' instance
through 'PCPU' and 'VCPU' resources interface.

Also introduced a helper, the _dedicated_cpus_from_resource,
with the purpose to put the instance dedicated CPUs behind
the shared CPUs.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
"
openstack%2Fkolla~master~I21be28113c6448e0a70747a907a3825c44158dfe,openstack/kolla,master,remove-opendaylight,I21be28113c6448e0a70747a907a3825c44158dfe,Remove opendaylight image,ABANDONED,2020-06-09 15:39:05.000000000,2020-07-07 07:07:15.000000000,,4,113,0,734630,5539596019e837bd33ffb6a39ba5d275b5b5b6e5,8,5,2,13,167,Christian Berendt,berendt,"Remove opendaylight image

Change-Id: I21be28113c6448e0a70747a907a3825c44158dfe
"
openstack%2Fpython-openstackclient~master~I3e3632783bc745979b6db73e610df8a77ffaceb0,openstack/python-openstackclient,master,osc-performance,I3e3632783bc745979b6db73e610df8a77ffaceb0,switch to stevedore for entry points,MERGED,2020-07-04 18:12:19.000000000,2020-07-07 06:27:10.000000000,2020-07-07 06:23:55.000000000,18,9,3,739327,870cf0114848f145f15a78415e3f4203c6338cd1,25,6,7,4,2472,Doug Hellmann,doug-hellmann,"switch to stevedore for entry points

Importing pkg_resources scans every installed distribution to find
all of the entry points. Stevedore is adding a new caching layer using
importlib.metadata, which will not.  Switching to the stevedore should
eventually speed up load times, especially for command line apps. This
change makes the switch now to ensure API compatibility.

We were already using stevedore for tests, so this moves the dependency
from test-requirements.txt to requirements.txt and raises the minimum
version to something more recent.

Change-Id: I3e3632783bc745979b6db73e610df8a77ffaceb0
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fzaqar~master~Ia8f9a90c0b22680bf33c6f58ef7a3a49b2cc30fe,openstack/zaqar,master,retire-neutron-fwaas,Ia8f9a90c0b22680bf33c6f58ef7a3a49b2cc30fe,Remove neutron-fwaas from the jobs' required project,MERGED,2020-06-16 10:35:04.000000000,2020-07-07 06:26:46.000000000,2020-07-07 06:19:30.000000000,0,1,0,735861,98ae5dac8003cc543edd7a99295142876d872987,10,13,1,1,11975,Slawek Kaplonski,slaweq,"Remove neutron-fwaas from the jobs' required project

Neutron-fwaas is going to be deprecated in master branch with [1].

[1] https://review.opendev.org/#/c/735828/

Change-Id: Ia8f9a90c0b22680bf33c6f58ef7a3a49b2cc30fe
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Icd0512cb2a92faef1109144e48d93901cf2e8371,openstack/tripleo-ansible,stable/train,,Icd0512cb2a92faef1109144e48d93901cf2e8371,Run scenario004 for changes to tripleo-ceph-* roles,MERGED,2020-07-06 21:54:04.000000000,2020-07-07 05:19:37.000000000,2020-07-07 05:19:37.000000000,6,0,0,739614,2a6d7c19c234d2bacb3ad3375cd242fc67db2c07,9,3,1,1,6796,Giulio Fidente,gfidente,"Run scenario004 for changes to tripleo-ceph-* roles

Also enables scenario001 for changes to tripleo-ceph-* roles

Change-Id: Icd0512cb2a92faef1109144e48d93901cf2e8371
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb,openstack/tripleo-ansible,stable/train,,I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb,Use ansible_user instead of ANSIBLE_REMOTE_USER env var,MERGED,2020-07-06 21:54:04.000000000,2020-07-07 05:19:36.000000000,2020-07-07 05:19:36.000000000,2,2,0,739613,a4a15acbe32376b9623369519685c36f67ae48d4,11,5,1,1,6796,Giulio Fidente,gfidente,"Use ansible_user instead of ANSIBLE_REMOTE_USER env var

In 'genereate create_ceph_ansible_remote_tmp playbook' we should
be using ansible_user because the env var ANSIBLE_REMOTE_USER
might not always being set.

Change-Id: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb
Closes-Bug: 1886497
(cherry picked from commit 5f07c12adc17bc8ed0e569542b3035b0e5f1dd50)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0,openstack/tripleo-ansible,stable/train,maxfail/train,I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0,Max percentage failure support,MERGED,2020-07-06 19:06:29.000000000,2020-07-07 05:17:26.000000000,2020-07-07 05:17:26.000000000,57,5,0,739586,baa1829cfc59e103d1d6e86d5fa5da6844924c85,7,3,1,3,3153,Emilien Macchi,emilienm,"Max percentage failure support

In this patch we update the new strategies so they support a max failure
percentage on a play. Which will be useful for the tripleo roles so we
can tolerate some % of failure (e.g. on computes) during a deployment.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0
(cherry picked from commit 87f9c9354884eace00bf7d42fbaa775055217e3f)
"
openstack%2Fopenstack-ansible-os_trove~master~I51c46f1432cd71357f1f2d18bf6cc4446296f96a,openstack/openstack-ansible-os_trove,master,osa/el8,I51c46f1432cd71357f1f2d18bf6cc4446296f96a,Add centos-8 support,ABANDONED,2020-07-06 05:44:53.000000000,2020-07-07 05:17:05.000000000,,0,0,1,739404,6496eb416777b1809aa6b2a423eba93895ef409e,7,3,2,0,28752,Satish Patel,spatel,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: I51c46f1432cd71357f1f2d18bf6cc4446296f96a
"
openstack%2Fmasakari~master~I179816a68fe10202951061d30bd543ea1427b887,openstack/masakari,master,,I179816a68fe10202951061d30bd543ea1427b887,Use uwsgi binary from path,MERGED,2020-06-30 08:31:53.000000000,2020-07-07 05:15:32.000000000,2020-07-07 05:14:18.000000000,1,1,0,738565,9492987c31b063ec92da661453fdd6eb74b1a4bc,11,8,2,1,24501,sue,suzhengwei,"Use uwsgi binary from path

Change-Id: I179816a68fe10202951061d30bd543ea1427b887
"
openstack%2Ftrove-dashboard~master~Id4cfbb53947760420ba8f5a0ef394e112a58c8fb,openstack/trove-dashboard,master,zanata/translations,Id4cfbb53947760420ba8f5a0ef394e112a58c8fb,Imported Translations from Zanata,MERGED,2020-06-17 11:02:52.000000000,2020-07-07 05:08:09.000000000,2020-07-07 05:06:43.000000000,7,4,0,736159,60a19b2c95f423c81381cd491d878d338a3a54ba,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id4cfbb53947760420ba8f5a0ef394e112a58c8fb
"
openstack%2Fopenstack-ansible-os_gnocchi~master~Ief6fd82fbd2f208798237ac228f9904e2e6c0132,openstack/openstack-ansible-os_gnocchi,master,osa/el8,Ief6fd82fbd2f208798237ac228f9904e2e6c0132,Add centos-8 support,ABANDONED,2020-07-06 03:58:46.000000000,2020-07-07 05:05:16.000000000,,1,1,0,739389,e8cba1c5e4e599e58e37dd7c57fb331fd9bfba7d,4,1,2,1,28752,Satish Patel,spatel,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: Ief6fd82fbd2f208798237ac228f9904e2e6c0132
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I593f193f98112dbf1d493ffd22040837597db11c,openstack/tripleo-ansible,stable/train,strategy-improvements-stable/train,I593f193f98112dbf1d493ffd22040837597db11c,Create tripleo base strategy class,MERGED,2020-07-06 18:54:49.000000000,2020-07-07 05:00:06.000000000,2020-07-07 05:00:06.000000000,179,207,0,739582,29dd87c0dcd0a65cbd63d3efec6945dc0ddc484b,7,4,1,3,3153,Emilien Macchi,emilienm,"Create tripleo base strategy class

In order to allow us to share some logic between the linear and free
strategies, we need to create a base strategy to use for our shared
logic.

Change-Id: I593f193f98112dbf1d493ffd22040837597db11c
(cherry picked from commit e52089e8dfceba7bff81a8acc96b73d6e6ec3983)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I8539a6ad747a3923256f8c14c0a140e7670cc135,openstack/tripleo-ansible,stable/train,strategy-improvements-stable/train,I8539a6ad747a3923256f8c14c0a140e7670cc135,Add tripleo linear strategy,MERGED,2020-07-06 18:54:33.000000000,2020-07-07 05:00:05.000000000,2020-07-07 05:00:05.000000000,466,0,0,739581,ab894ee213436cb9464b549c31277814b19a067c,7,4,1,1,3153,Emilien Macchi,emilienm,"Add tripleo linear strategy

Change-Id: I8539a6ad747a3923256f8c14c0a140e7670cc135
(cherry picked from commit 09da864f8c11184e5dc537d838109a2794cc4048)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Iaa1278763d56429b2886371a18477e1f54680e19,openstack/tripleo-ansible,stable/train,strategy-improvements-stable/train,Iaa1278763d56429b2886371a18477e1f54680e19,Implement run_once,MERGED,2020-07-06 18:54:17.000000000,2020-07-07 04:21:43.000000000,2020-07-07 04:21:43.000000000,21,3,0,739580,313108543a3052e1e832db46bccc917e2f3f2c02,7,4,1,1,3153,Emilien Macchi,emilienm,"Implement run_once

Prior to this patch, run_once was basically ignored. This patch adds
tracking on tasks that are tagged with run_once and will only allow it
to be invoked once. This means if the run_once task fails, all the other
hosts will continue to process their tasks like nothing happened. The
play itself will exit if the run_once task fails at the end. For tripleo
this means that run_once should not be used for any required tasks
within a play but can be used to make sure a task will only run once
time for a given play.

Change-Id: Iaa1278763d56429b2886371a18477e1f54680e19
(cherry picked from commit 894a853a5ef0af869624376a04a8f12dfe5c801c)
"
openstack%2Fopenstack-ansible-os_cinder~stable%2Frocky~I66a76fdb30ae6afd8a8faf4119bef495600aec50,openstack/openstack-ansible-os_cinder,stable/rocky,policy-in-code-stable/stein-stable/rocky,I66a76fdb30ae6afd8a8faf4119bef495600aec50,Fix policy configuration,ABANDONED,2020-07-07 02:58:16.000000000,2020-07-07 04:12:26.000000000,,4,0,0,739642,7cec97e76e96391de7e5ab56c1fcf32c55e3223b,3,2,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix policy configuration

Since cinder moved to policy-in-code, oslopolicy-policy-generator
must be used to compile a policy file that can be distributed to
Horizon for policy settings. For cinder, it will only output its
default policy unless cinder.conf contains an oslo_policy
configuration section pointing to the policy config file.

Change-Id: I66a76fdb30ae6afd8a8faf4119bef495600aec50
(cherry picked from commit dbaf649e0c3992f9ab6495ad2f8f55a0a97cd3ca)
"
openstack%2Fopenstack-ansible-os_cinder~stable%2Fqueens~I66a76fdb30ae6afd8a8faf4119bef495600aec50,openstack/openstack-ansible-os_cinder,stable/queens,policy-in-code-stable/queens,I66a76fdb30ae6afd8a8faf4119bef495600aec50,Fix policy configuration,ABANDONED,2020-07-07 02:59:49.000000000,2020-07-07 04:12:13.000000000,,4,0,0,739643,915d93fa72e0a251f12fa5e3a5a38116db6c333d,3,2,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix policy configuration

Since cinder moved to policy-in-code, oslopolicy-policy-generator
must be used to compile a policy file that can be distributed to
Horizon for policy settings. For cinder, it will only output its
default policy unless cinder.conf contains an oslo_policy
configuration section pointing to the policy config file.

Change-Id: I66a76fdb30ae6afd8a8faf4119bef495600aec50
(cherry picked from commit dbaf649e0c3992f9ab6495ad2f8f55a0a97cd3ca)
"
openstack%2Fceilometer~stable%2Ftrain~I55f0667c71ba4f3a33959a44bef43c3b05bc097c,openstack/ceilometer,stable/train,cinder_busy-stable/ussuri-stable/train,I55f0667c71ba4f3a33959a44bef43c3b05bc097c,Trigger volume deletes only on volume deleted,MERGED,2020-06-30 08:24:26.000000000,2020-07-07 03:08:22.000000000,2020-07-07 03:07:09.000000000,5,5,0,738563,4aab9fac33785d8c07e6c7c0e1763f7024c48eae,11,3,2,2,4264,Matthias Runge,mrunge,"Trigger volume deletes only on volume deleted

It was possible to create a volume and to do the following operations
with the volume; at the end, the volume itself is marked as ended, but
the volume is still available.

openstack volume create --size x foo
openstack volume snapshot create --volume <id> foo_snap
openstack volume create --snapshot <id_of_snap> clone
openstack volume delete --purge <id_of_foo>

openstack metric resource show <id_of_foo>

This commit fixes that issue.

Change-Id: I55f0667c71ba4f3a33959a44bef43c3b05bc097c
(cherry picked from commit f8992d40a135188a9d89c86f78868d340f3a1b96)
(cherry picked from commit 4185147ddd6824c26cbe41c1ce25ce36559288be)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Id921ed48a948211b9a90def4a4667d015ec11d2f,openstack/tripleo-ansible,stable/train,strategy-improvements-stable/train,Id921ed48a948211b9a90def4a4667d015ec11d2f,Implement a tripleo free strategy,MERGED,2020-07-06 18:53:30.000000000,2020-07-07 03:04:19.000000000,2020-07-07 03:04:18.000000000,411,0,0,739579,0147457083302e93d44584ff01d204e700fa3308,9,5,1,1,3153,Emilien Macchi,emilienm,"Implement a tripleo free strategy

This strategy is to be used for the execution of deployment steps so
that tasks run on all hosts (up to # of workers) freely without locking
at each task.  This is closer to what we had when Heat drove the
deployments as each of the software deployments would execute
simultaneously on all nodes at the same time.

This strategy does two important things for us:

  1) Hosts execute their tasks freely with no dependencies on the other
     hosts that are running the same tasks
  2) Failures on any given host will not stop future tasks from
     executing on other hosts, but will cause the overall playbook
     execution to stop at the end of the ""PLAY"".

These specific things are how the previous deployment executed when Heat
was the driver of deployment actions. The nodes would fetch their list
of actions, execute and report back to status. Heat would fail the
deployment if any of the hosts failed to execute their work however a
failure on one host did not impact the other hosts.  The TripleO
deployment framework already has the step concept in itself to allow
for the individual steps (1 through 5) to execute in a parallael on all
hosts at the same time. At the end of the ""PLAY"", ansible waits for all
nodes to complete before proceeding on to the next ""PLAY"". So Step 1 is
a ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any
host, we would not proceed to the Step 2 play.

Change-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f
(cherry picked from commit f873e31f5874ea0dad6997ee2f9c8186f3d1058d)
"
openstack%2Fopenstack-ansible-os_cinder~master~I66a76fdb30ae6afd8a8faf4119bef495600aec50,openstack/openstack-ansible-os_cinder,master,policy-in-code,I66a76fdb30ae6afd8a8faf4119bef495600aec50,Fix policy configuration,MERGED,2019-06-15 00:40:07.000000000,2020-07-07 02:59:49.000000000,2019-08-24 19:33:42.000000000,4,0,0,665499,dbaf649e0c3992f9ab6495ad2f8f55a0a97cd3ca,19,7,1,1,17799,Logan V,Logan2211,"Fix policy configuration

Since cinder moved to policy-in-code, oslopolicy-policy-generator
must be used to compile a policy file that can be distributed to
Horizon for policy settings. For cinder, it will only output its
default policy unless cinder.conf contains an oslo_policy
configuration section pointing to the policy config file.

Change-Id: I66a76fdb30ae6afd8a8faf4119bef495600aec50
"
openstack%2Fopenstack-helm-infra~master~Ib95c30380d89c336774d5c74e02ce5cbd9efb5d7,openstack/openstack-helm-infra,master,nru,Ib95c30380d89c336774d5c74e02ce5cbd9efb5d7,[rabbitmq] Upgrade to 3.7.26,MERGED,2020-06-25 20:34:58.000000000,2020-07-07 02:58:40.000000000,2020-07-07 02:57:14.000000000,4,4,0,738104,6d032c3971d556893d50b1f71b9a692bfab44e6f,21,5,2,3,8898,Chris Wedgwood,anticw,"[rabbitmq] Upgrade to 3.7.26

Staying current.  Many bugfixes.

Change-Id: Ib95c30380d89c336774d5c74e02ce5cbd9efb5d7
"
openstack%2Fnova~master~I212a84e5cae15bc133aafd538d55f85149ab360f,openstack/nova,master,,I212a84e5cae15bc133aafd538d55f85149ab360f,Add traits for new AVX512 CPU feature,MERGED,2020-05-27 18:15:56.000000000,2020-07-07 02:13:40.000000000,2020-07-07 02:11:33.000000000,10,2,1,731288,8fa83ff62a6eaad0bfe6be036033067ee42de146,30,15,2,3,12597,Lin Yang,lin.yang,"Add traits for new AVX512 CPU feature

To support new AVX512 cpu feature, this patch adds the mapping
between cpu features reported by libvirt [1] and corresponding
os-traits [2]. The traits include 'AVX512VBMI', 'AVX512IFMA',
'AVX512VBMI2', 'AVX512BITALG', 'AVX512VAES', 'AVX512GFNI',
'AVX512VPCLMULQDQ' and 'AVX512VPOPCNTDQ'.

[1] https://github.com/libvirt/libvirt/blob/master/src/cpu_map/x86_features.xml
[2] https://review.opendev.org/#/c/728576/

Depends-On: I58cba02f204d2e19a1a838852c628694edd47d73
Change-Id: I212a84e5cae15bc133aafd538d55f85149ab360f
"
openstack%2Fproject-config~master~I2e731b7825574e7f8a704444095c53036ca93169,openstack/project-config,master,,I2e731b7825574e7f8a704444095c53036ca93169,"Add ""Review-Priority"" label to qa projects",MERGED,2020-07-06 16:45:49.000000000,2020-07-07 01:23:07.000000000,2020-07-07 01:11:10.000000000,39,0,0,739550,88982d5549d7f4c9c4b9ba99e266e758fd6f7285,9,3,2,3,8556,Ghanshyam,ghanshyam,"Add ""Review-Priority"" label to qa projects

Change-Id: I2e731b7825574e7f8a704444095c53036ca93169
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I364fb42a41b4cb4ae076f07704c72c6ea442a198,openstack/python-tripleoclient,stable/ussuri,hotfix/ussuri,I364fb42a41b4cb4ae076f07704c72c6ea442a198,Add tripleo container image hotfix command,MERGED,2020-07-06 16:09:57.000000000,2020-07-07 01:17:49.000000000,2020-07-07 01:15:19.000000000,135,2,0,739530,39c270006d98ec5a20992a575cd5a145762bc40d,7,2,1,3,3153,Emilien Macchi,emilienm,"Add tripleo container image hotfix command

This change adds a CLI command to invoke hotfixes via the TripleO modify
image role. This CLI command will ensure a uniform experience for operators
when needing to apply a hotfixes to containers.

Change-Id: I364fb42a41b4cb4ae076f07704c72c6ea442a198
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)
"
openstack%2Fproject-config~master~I3f724d1c0678c0addd025e07c951ed8ea7879af1,openstack/project-config,master,,I3f724d1c0678c0addd025e07c951ed8ea7879af1,Add openstack/devstack-plugin-ceph in vexxhost tenant,MERGED,2020-07-06 20:56:42.000000000,2020-07-07 01:17:27.000000000,2020-07-07 00:48:50.000000000,1,0,0,739602,21c1f5b53d32ed093dd47e58220365ca51de49ec,9,3,2,1,31746,Oleksandr Kozachenko,okozachenko,"Add openstack/devstack-plugin-ceph in vexxhost tenant

Needed-By: https://review.opendev.org/739603/
Change-Id: I3f724d1c0678c0addd025e07c951ed8ea7879af1
"
openstack%2Ftripleo-heat-templates~master~Iaced2ba676a4e4f651c67da082797cc1c1ffccd1,openstack/tripleo-heat-templates,master,converge-var-run-to-run,Iaced2ba676a4e4f651c67da082797cc1c1ffccd1,Ensure we use only /run instead of /var/run,MERGED,2020-06-18 10:04:17.000000000,2020-07-07 01:16:43.000000000,2020-07-07 01:15:20.000000000,38,35,4,736521,e047d8314218ca25da88786809d63f1cbe90428e,64,13,4,13,28223,Cedric Jeanneret,cjeanner,"Ensure we use only /run instead of /var/run

There is no real value using /var/run instead of /run, especially since
/var/run is a symlink to /run.

This patch also removes duplicated mounts due to this very symlink.

Change-Id: Iaced2ba676a4e4f651c67da082797cc1c1ffccd1
"
openstack%2Ftripleo-heat-templates~master~I04cb72210fbd25a720158988698a300140f4e7db,openstack/tripleo-heat-templates,master,bug/1886203,I04cb72210fbd25a720158988698a300140f4e7db,undercloud/heat: set YAQL memory quota to 200000,MERGED,2020-07-03 14:59:49.000000000,2020-07-07 01:16:40.000000000,2020-07-07 01:15:23.000000000,1,0,1,739249,c67c53a8d8094382bc75e7d56480ecb3f8897610,19,7,1,1,3153,Emilien Macchi,emilienm,"undercloud/heat: set YAQL memory quota to 200000

Since the ""optimization"" [1] of host entries in Heat and it's YAQLization,
we need to increase the memory quota for YAQL queries or the resource
will fail to process at large scale (250 nodes).

[1] 3b8e6f78e19e776c087dc5c3ff225703b5c487bc

Change-Id: I04cb72210fbd25a720158988698a300140f4e7db
Closes-Bug: #1886203
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I7651144cdb7142647b1c6303c4af4ba2ca2e2c58,openstack/python-tripleoclient,stable/ussuri,tripleo-common-stable/ussuri,I7651144cdb7142647b1c6303c4af4ba2ca2e2c58,Bump tripleo-common,MERGED,2020-07-06 12:53:10.000000000,2020-07-07 01:16:37.000000000,2020-07-07 01:15:15.000000000,2,2,0,739483,2375426cdcd4dda7f4eb213a7a0bebad0787b985,10,3,1,2,3153,Emilien Macchi,emilienm,"Bump tripleo-common

For the Container Image Build command, we need new functionalities from
the BuildahBuilder that were released after 12.4.0 tag.

This patch makes sure tripleo-common >= 12.4.0 is pulled in the Python
jobs.

Change-Id: I7651144cdb7142647b1c6303c4af4ba2ca2e2c58
(cherry picked from commit 185d9f89542366bafb891cf725384e310b0137e0)
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I279e95722fe7a10148d36c99c7179c33a3a767a0,openstack/python-tripleoclient,stable/ussuri,images/new-stable/ussuri,I279e95722fe7a10148d36c99c7179c33a3a767a0,Add openstack tripleo container image build,MERGED,2020-07-03 13:55:35.000000000,2020-07-07 01:15:16.000000000,2020-07-07 01:15:16.000000000,775,0,0,739236,28d1d62c7fea529f78fd5e363ff808900a713b97,9,3,2,5,3153,Emilien Macchi,emilienm,"Add openstack tripleo container image build

This change adds a v2 entry point to allow us to build images within the
native tripleoclient. Images will leverage the new
`tripleo_container_image_build` role which will produce simplified
container files and and an image structure inline with the simple
container generation spec.

Depends-On: https://review.opendev.org/722486

Change-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 1c09e83744d5c98437db7b756c6cda52d7225d5e)
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~Idf106c9ffa23ed00c497e1e5014e1b5718254320,openstack/puppet-tripleo,stable/ussuri,bug/1871663-stable/ussuri,Idf106c9ffa23ed00c497e1e5014e1b5718254320,Ensure that the HAProxy certificate is updated,MERGED,2020-07-06 16:17:02.000000000,2020-07-07 01:15:14.000000000,2020-07-07 01:15:14.000000000,3,0,0,739537,146674dcea0bca513a6d9ea0087f06c4c300a0bc,7,3,1,1,3153,Emilien Macchi,emilienm,"Ensure that the HAProxy certificate is updated

While doing research for this bugzilla[1] I found that since the
actual certificate PEM file is being bind mounted the mount is acting
as a hard link to the inode of the PEM rather than just a pointer to
it's location in the directory.  When the new file is copied over the
inode is updated but the container still maintains a link to the stale
inode.  This patch copies the contents of the certificate into the
container so that the HUP of HAProxy will reload the certificate.

[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1765839

Change-Id: Idf106c9ffa23ed00c497e1e5014e1b5718254320
Closes-Bug: 1871663
(cherry picked from commit c1e09672a52fea82d853d17145901109291ac1f1)
"
openstack%2Fpuppet-tripleo~master~I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8,openstack/puppet-tripleo,master,,I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8,Switch RGW HAProxy healthcheck to use special RGW healthcheck url,MERGED,2020-06-30 12:53:37.000000000,2020-07-07 01:15:13.000000000,2020-07-07 01:15:13.000000000,1,1,0,738600,f1994dba33e09033f3a142ef202c6b0afe322b94,24,6,3,1,6796,Giulio Fidente,gfidente,"Switch RGW HAProxy healthcheck to use special RGW healthcheck url

The change is made because /swift/healthcheck weights less on RGW
and avoids overloading the nodes CPU for basic HAProxy checks

For more information also see [1]

1. https://bugzilla.redhat.com/show_bug.cgi?id=1850036#c16

Change-Id: I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I3f55f0a7f966f025a9938576ccf735f50f4c8589,openstack/tripleo-ansible,stable/ussuri,callback-improvements-stable/ussuri,I3f55f0a7f966f025a9938576ccf735f50f4c8589,Prepend timestamp callback output,MERGED,2020-07-06 18:40:11.000000000,2020-07-07 01:03:08.000000000,2020-07-07 01:03:08.000000000,21,10,0,739574,7d85cf55de7b5c74a635325c6618ffcb93037903,7,4,1,2,3153,Emilien Macchi,emilienm,"Prepend timestamp callback output

It's useful to know when a command last ran as well as being able to
cross coordinate when something was running between the ansible output
and other logs. We can use the output timestamp do this.

Change-Id: I3f55f0a7f966f025a9938576ccf735f50f4c8589
(cherry picked from commit 97b68ec0597123840ee3d1c5b58422e6c437cb05)
"
openstack%2Fproject-config~master~Ife2442c2f1cef3f672d41cc2c07da6e40dd66098,openstack/project-config,master,arm64-testing,Ife2442c2f1cef3f672d41cc2c07da6e40dd66098,Publish Ubuntu Xenial ARM64 wheels,ABANDONED,2018-03-07 19:44:32.000000000,2020-07-07 01:02:59.000000000,,4,0,0,550582,06832b34da3f2614238cb5ecd7714170c428123d,5,3,1,2,6088,Emmet Hikory,persia,"Publish Ubuntu Xenial ARM64 wheels

Depends-On: https://review.openstack.org/550578
Change-Id: Ife2442c2f1cef3f672d41cc2c07da6e40dd66098
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I84287d9c1ef110511c66743f9a3a22709077b0cb,openstack/tripleo-heat-templates,stable/ussuri,bug/1885619-stable/ussuri,I84287d9c1ef110511c66743f9a3a22709077b0cb,Exclude /etc/hostname,MERGED,2020-07-06 14:14:35.000000000,2020-07-07 00:55:30.000000000,2020-07-07 00:55:30.000000000,11,2,0,739496,7ab3de5899440c4ce98a7ea8c7344bc5f13cafdb,9,6,1,1,3153,Emilien Macchi,emilienm,"Exclude /etc/hostname

Similar to the previous patch where we excluded /etc/hosts, it turns out
that /etc/hostname is also a special file that cannot be synced in via
kolla because they are bindmounted internally.

https://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236

Additionally this change includes cleanup for end users who may have hit
LP#1860607 and allows folks who have hit this to just simply rerun the
deployment and not have to manually cleanup the synced files.

Change-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb
Closes-Bug: #1885619
(cherry picked from commit 777920dfba58fa7b26c063fa5d6df0203009d12c)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01,openstack/tripleo-ansible,stable/ussuri,molecule/strats-stable/ussuri,I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01,Molecule testing for TripleO Strategy Plugins,MERGED,2020-07-03 13:56:25.000000000,2020-07-07 00:27:17.000000000,2020-07-07 00:27:17.000000000,211,0,0,739237,fcefdf809c525f34e6d92858b3d5424f76ad88a0,14,3,3,8,3153,Emilien Macchi,emilienm,"Molecule testing for TripleO Strategy Plugins

For both tripleo_free and tripleo_linear, add molecule tests that will
execute a simple task (for now) and test the max_fail_percentage value
that is defined in the Ansible inventory.

We simulate a failure on one compute node, which shouldn't make the
playbook failing since we tolerate 50% of failure (we have 6 nodes and
one failure).

Change-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01
(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0,openstack/tripleo-ansible,stable/ussuri,maxfail/ussuri,I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0,Max percentage failure support,MERGED,2020-07-06 18:58:04.000000000,2020-07-07 00:24:44.000000000,2020-07-07 00:24:44.000000000,57,5,0,739584,7965ae030b34f8196628910c2f53a8ff7cc94e37,7,3,1,3,3153,Emilien Macchi,emilienm,"Max percentage failure support

In this patch we update the new strategies so they support a max failure
percentage on a play. Which will be useful for the tripleo roles so we
can tolerate some % of failure (e.g. on computes) during a deployment.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0
(cherry picked from commit 87f9c9354884eace00bf7d42fbaa775055217e3f)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I3f55f0a7f966f025a9938576ccf735f50f4c8589,openstack/tripleo-ansible,stable/train,callback-improvements-stable/train,I3f55f0a7f966f025a9938576ccf735f50f4c8589,Prepend timestamp callback output,MERGED,2020-07-06 18:40:21.000000000,2020-07-07 00:18:36.000000000,2020-07-07 00:18:36.000000000,21,10,0,739575,935f3ddd8d2b559f1faa343b079810be5a90a724,7,4,1,2,3153,Emilien Macchi,emilienm,"Prepend timestamp callback output

It's useful to know when a command last ran as well as being able to
cross coordinate when something was running between the ansible output
and other logs. We can use the output timestamp do this.

Change-Id: I3f55f0a7f966f025a9938576ccf735f50f4c8589
(cherry picked from commit 97b68ec0597123840ee3d1c5b58422e6c437cb05)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0,openstack/tripleo-ansible,stable/ussuri,throttle/ussuri,I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0,Make throttle optional,MERGED,2020-07-06 19:04:38.000000000,2020-07-07 00:16:35.000000000,2020-07-07 00:16:35.000000000,11,8,0,739585,8d4059e51272837d031d15f804787208b5e814c4,7,4,1,1,3153,Emilien Macchi,emilienm,"Make throttle optional

Tasks did not have the concept of throttling prior to ansible 2.9 so if
we want to allow this to be re-used with older versions then we need to
skip the throttling code if task doesn't contain the throttle attribute.
This will help if we want to backport this for upgrades.

Change-Id: I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0
(cherry picked from commit ee3c9c841e466c7fed7639bf3b5e19dbbe42abba)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I501f31b52db6e10826bd9a346d38e34f95ae8b75,openstack/tripleo-ansible,stable/train,container_startup_config/train,I501f31b52db6e10826bd9a346d38e34f95ae8b75,Implement container_startup_config module,MERGED,2020-07-03 19:36:09.000000000,2020-07-07 00:16:34.000000000,2020-07-07 00:16:33.000000000,271,15,0,739279,254922887b2a5aea665d1e325e7ab2eb60915e43,10,3,2,8,3153,Emilien Macchi,emilienm,"Implement container_startup_config module

container_startup_config will replace a bunch of tasks that we did in
THT to generate the .json file for each container in
/var/lib/tripleo-config/container-startup-config.

It'll accelerate a bit the deployment by replacing tasks into a
single module, so we can generate the startup configs much faster.

Also tolerate empty configs in container_config_data, switching a
failure into a debug. If the config is empty, there is no need to run
the rest of the role tasks in tripleo_container_manage.

Note: we manage the SElinux context at the openstack-selinux:
https://github.com/redhat-openstack/openstack-selinux/commit/0b62

Cherry-pick note: rename converge.yml to playbook.yml for comptatibility
with how Molecule is running under stable/train branch.

Change-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75
(cherry picked from commit 76bb50476247f367c85d0e8a64dabebb6da1ee4c)
(cherry picked from commit 80f9ccd7f433fdffbef38cfd40c00b7b574b4bae)
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Ftrain~Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd,openstack/openstack-ansible-os_keystone,stable/train,idp-improvements-stable/train,Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd,Identity Providers support improvments,MERGED,2020-07-06 18:22:31.000000000,2020-07-06 23:55:11.000000000,2020-07-06 23:53:32.000000000,3,0,0,739571,44b7ca7d3f8f53a6e2434cfaff103c5c647abfb0,8,4,1,2,25023,Jonathan Rosser,jrosser,"Identity Providers support improvments

Identity providers can be created with specified domain
IDPs are linked to a keystone domain. Currently when we provision a new IDP
it gets created within a new autogenerated domain. Provisioners can now
give a domain_id in an IDP entry within the trusted_idp_list and the IDP
will be created within that domain.

Add IDP display_name to defaults
Allows operator a name different to the one used in the backend
to display to the user in the horizon Identity Provider dropdown.

Change-Id: Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd
(cherry picked from commit 4c9642765e632d409c6d9028aae26f4514af7033)
"
openstack%2Fnova~stable%2Fstein~I2d8bbffb3f58f5d0190e970ff860162c122a9b0e,openstack/nova,stable/stein,grenade-em-nv,I2d8bbffb3f58f5d0190e970ff860162c122a9b0e,"Revert ""Make greande jobs n-v for EM and oldest stable""",MERGED,2020-07-06 11:15:17.000000000,2020-07-06 23:26:36.000000000,2020-07-06 23:22:50.000000000,4,4,0,739464,42e63203978095c598e21e9a74baec20e262b416,12,6,1,1,17685,Elod Illes,elod.illes,"Revert ""Make greande jobs n-v for EM and oldest stable""

This reverts commit b05bf09b2d50bd77d33a31babe204ba7969f0221.

NOTE(elod.illes): devstack in Rocky is fixed and grenade jobs started
to pass. We can enable grenades again to restore testing as it was
before.

Change-Id: I2d8bbffb3f58f5d0190e970ff860162c122a9b0e
"
openstack%2Fopenstack-ansible~stable%2Ftrain~I27aa0d0b32fd1db47cc2fc43afbad085ea22d0bf,openstack/openstack-ansible,stable/train,,I27aa0d0b32fd1db47cc2fc43afbad085ea22d0bf,Fix inventory_manage when the component for a host is not defined,MERGED,2020-06-24 14:22:27.000000000,2020-07-06 23:15:48.000000000,2020-07-06 23:13:43.000000000,3,0,0,737814,5eee6976d170872c7036898efd7e583e410ca360,18,3,1,1,25023,Jonathan Rosser,jrosser,"Fix inventory_manage when the component for a host is not defined

Previously this would fail with a stacktrace, so now display something
useful when the component is not defined.

Change-Id: I27aa0d0b32fd1db47cc2fc43afbad085ea22d0bf
(cherry picked from commit 5c53b88e4c4401d2baf9af98dc0676255ff31899)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Iaa39aa301be182722e0650583d1ad17c0e8dc82b,openstack/tripleo-ansible,stable/train,host/perm/train,Iaa39aa301be182722e0650583d1ad17c0e8dc82b,Fix host entries permissions,MERGED,2020-07-06 16:20:13.000000000,2020-07-06 22:45:26.000000000,2020-07-06 22:45:26.000000000,1,0,0,739540,e3fb917193cc2a568c899c9e178da5222b91bad1,7,4,1,1,3153,Emilien Macchi,emilienm,"Fix host entries permissions

The cleanup tasks needs become: true because it was created with root.

Change-Id: Iaa39aa301be182722e0650583d1ad17c0e8dc82b
Related-Bug: #1883609
(cherry picked from commit 746bd9a52b2a4288af705f161ec41736a4e3b5e3)
"
openstack%2Fironic-python-agent~stable%2Ftrain~I3e0d237d37219e783d81913fa6cc490492b3f96a,openstack/ironic-python-agent,stable/train,,I3e0d237d37219e783d81913fa6cc490492b3f96a,Limit Inspection->Lookup->Heartbeat lag,MERGED,2020-07-06 18:24:10.000000000,2020-07-06 22:25:15.000000000,2020-07-06 22:21:58.000000000,66,6,0,739572,3e053f05be424c00fb7ba5733f72db6beeaff393,8,3,1,8,10239,Dmitry Tantsur,dtantsur,"Limit Inspection->Lookup->Heartbeat lag

Caches hardware information collected during inspection
so that the initial lookup can occur without any delay.

Also adds logging to track how long inventory collection takes.

Conflicts:
	ironic_python_agent/hardware.py
	ironic_python_agent/tests/unit/base.py
	ironic_python_agent/tests/unit/test_hardware.py
	ironic_python_agent/tests/unit/test_inspector.py

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: I3e0d237d37219e783d81913fa6cc490492b3f96a
(cherry picked from commit c76b8b2c217d57680baec977b374e821304198f9)
"
openstack%2Fdevstack~master~I4475247dfe986114d37678b3d3d552c0c7d02ddc,openstack/devstack,master,drop-keystone-ports,I4475247dfe986114d37678b3d3d552c0c7d02ddc,"Revert ""Drop keystone dedicated ports""",MERGED,2020-07-06 18:42:30.000000000,2020-07-06 22:23:51.000000000,2020-07-06 22:21:41.000000000,132,7,0,739576,f8dbfd394a826779f3af403fd5316b9d86492802,11,6,2,6,9303,Abhishek Kekane,abhishekkekane,"Revert ""Drop keystone dedicated ports""

This reverts commit f6286cb586eb1f861866bfdf85c4f873c79fd592.

This patch is blocking glance as it needs mod_wsgi to perform new import workflow.

Change-Id: I4475247dfe986114d37678b3d3d552c0c7d02ddc
"
openstack%2Fproject-config~master~Ia6ced2330df3f6ee4d2794743ef9436aac800b96,openstack/project-config,master,674091,Ia6ced2330df3f6ee4d2794743ef9436aac800b96,Air Handler is failed - turn OE off for now,MERGED,2020-07-06 21:15:19.000000000,2020-07-06 21:48:22.000000000,2020-07-06 21:35:21.000000000,2,2,0,739605,da3f5808039fc7ee559ad542abf406323d3745e1,8,3,1,1,20754,Donny Davis,donnydavis,"Air Handler is failed - turn OE off for now

Change-Id: Ia6ced2330df3f6ee4d2794743ef9436aac800b96
"
openstack%2Fnova~master~Ic5e60c8e28263365fad5867e483b6ad55cee7281,openstack/nova,master,bug/1883671,Ic5e60c8e28263365fad5867e483b6ad55cee7281,catch libvirt exception when nodedev not found.,MERGED,2020-07-02 10:51:15.000000000,2020-07-06 21:45:28.000000000,2020-07-06 17:48:09.000000000,22,2,2,739017,af80c3ffd116837b296e79858595d42c893708a6,34,14,2,2,11604,sean mooney,sean-k-mooney,"catch libvirt exception when nodedev not found.

This is a minimal fix to workaround instance where libvirt
retruns stale data due to internal caching. In some cases
libivrt can return stale data vai the nodedev api when the
mac adress of an interface such as an sriov virtual function
canages, i.e. when a mac adress is reset after a vm with
a virtual funciton is migrated.

Change-Id: Ic5e60c8e28263365fad5867e483b6ad55cee7281
Partial-Bug: #1883671
"
openstack%2Ftripleo-heat-templates~master~I373636bbc9d296f41b63de76719320727d3f4fb9,openstack/tripleo-heat-templates,master,,I373636bbc9d296f41b63de76719320727d3f4fb9,Add filestore to bluestore migration tags,MERGED,2020-07-03 15:21:06.000000000,2020-07-06 21:44:40.000000000,2020-07-06 19:39:52.000000000,40,10,0,739253,c9cd67124fb758e9023395e5ae4f8223111e2e51,12,9,1,10,25402,Francesco Pantano,fmount,"Add filestore to bluestore migration tags

Currently ceph-ansible assumes the cluster
(which is updated to ceph4) is using bluestore
just because it's the default on ceph-ansible.
This patch adds some missing tags to make sure
the variable contained in the heat stack are
properly regenerated and the fs2bs playbook can
be executed with the right variables.

Change-Id: I373636bbc9d296f41b63de76719320727d3f4fb9
"
openstack%2Fnova~master~I9d6d97563114380f9a7549f08cede4b808352a3e,openstack/nova,master,,I9d6d97563114380f9a7549f08cede4b808352a3e,Fix mock for 'autospec' and 'new' together,MERGED,2020-07-05 00:20:59.000000000,2020-07-06 21:39:25.000000000,2020-07-06 21:36:45.000000000,3,3,0,739333,2ee9ad25167629f58fb374d8266a27996eadc174,21,10,2,1,8556,Ghanshyam,ghanshyam,"Fix mock for 'autospec' and 'new' together

mock does not accept 'autospec' and 'new' attributes
together to create mock object for tests. If autospec
is True the mock object is created using create_autospec()
and pass the keyword args to called function.

If both are passed then it start failing with oslotest 4.4.0
which is migrated to unittest.mock.
- https://d088a63e8edc60022939-485bd9eedc766dc9e54cbbb4001038bd.ssl.cf5.rackcdn.com/739330/1/check/cross-nova-py36/843ec44/testr_results.html

Creating mock with autospec only to fix this test to make
nova pass for oslo 4.4.0 so that requirement
can constraint oslotest to 4.4.0 (needed-by patch).

Change-Id: I9d6d97563114380f9a7549f08cede4b808352a3e
Needed-By: https://review.opendev.org/#/c/739531/
"
openstack%2Fopenstacksdk~master~Ia8a88587d74d3a4081c8f9e23099e3da2077820e,openstack/openstacksdk,master,image-create-same,Ia8a88587d74d3a4081c8f9e23099e3da2077820e,Tolerate images created with other means,MERGED,2020-07-06 17:24:12.000000000,2020-07-06 21:39:07.000000000,2020-07-06 21:36:37.000000000,2,1,2,739556,b23654e53a4577c2a6b3c6b29356c3d9860fe496,15,6,3,1,9542,Pavlo Shchelokovskyy,pshchelo,"Tolerate images created with other means

when image was created by other means (or older openstacksdk)
the `openstack.image.v2.image.Image[""properties""]` may be present but be
`None`.

When such image is present and one tries to create another image with
the same name but different content, current openstacksdk fails with

AttributeError: 'NoneType' object has no attribute 'get'

Change-Id: Ia8a88587d74d3a4081c8f9e23099e3da2077820e
Story: 2007898
Task: 40287
"
openstack%2Fironic~stable%2Ftrain~Ibac5d07b988438719bf414f314cbc610562e7599,openstack/ironic,stable/train,raid-max-stable/train,Ibac5d07b988438719bf414f314cbc610562e7599,Software RAID: don't try to set local_gb to MAX,MERGED,2020-07-06 13:44:01.000000000,2020-07-06 21:26:58.000000000,2020-07-06 17:13:43.000000000,20,3,0,739489,fa6c71ff17dc6f015b734fed1f47124e9baadb51,9,4,1,3,10239,Dmitry Tantsur,dtantsur,"Software RAID: don't try to set local_gb to MAX

Change-Id: Ibac5d07b988438719bf414f314cbc610562e7599
(cherry picked from commit cedc4a24167de205db25cc45fd37275f3e4956bd)
"
openstack%2Fnova~stable%2Frocky~I72c5deb7b8739e07dc8c23a6afc6bde8a2f4aa23,openstack/nova,stable/rocky,,I72c5deb7b8739e07dc8c23a6afc6bde8a2f4aa23,DNM - Testing g-api on subnode fix,ABANDONED,2020-07-02 15:30:50.000000000,2020-07-06 21:23:57.000000000,,0,0,0,739074,b08cbb37cc923d440a2cf059b364cc30e59d2eb0,6,4,1,1,10135,Lee Yarwood,lyarwood,"DNM - Testing g-api on subnode fix

Change-Id: I72c5deb7b8739e07dc8c23a6afc6bde8a2f4aa23
Depends-On: https://review.opendev.org/739072
"
openstack%2Fpython-openstackclient~master~I1d1ac1ac46f49f64794ffc8631e166935537966c,openstack/python-openstackclient,master,bug/2007440,I1d1ac1ac46f49f64794ffc8631e166935537966c,Add '--force; parameter to 'openstack quota set',MERGED,2020-03-19 13:36:52.000000000,2020-07-06 20:54:00.000000000,2020-07-06 20:50:24.000000000,108,0,15,713881,b328cf74df7f94a20de85b3c0992dcb65e818458,50,11,16,4,31733,jayaditya gupta,jgupta,"Add '--force; parameter to 'openstack quota set'

The compute service allows us to to force set a quota, setting a
quota value that is less than the amount of the resource currently
consumed. Expose this feature by way of a '--force' boolean
parameter.

Change-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c
"
openstack%2Fkeystone~master~Ib7a2d47c2204b0639f029c3079f4fa86ee78e3a9,openstack/keystone,master,docs-default-domain,Ib7a2d47c2204b0639f029c3079f4fa86ee78e3a9,Adding note for create a project without domain info,MERGED,2020-04-13 18:07:59.000000000,2020-07-06 20:52:59.000000000,2020-07-06 20:50:33.000000000,7,0,4,719656,12020a0b8303d20ba7afaa6a932bedcb92884693,17,4,4,2,8866,Raildo Mascena de Sousa Filho,raildo,"Adding note for create a project without domain info

When we create a project, using a project scoped token,
without add the domain_id or domain information in the
project creation parameters, this project will be
automatically created on the default domain.

Change-Id: Ib7a2d47c2204b0639f029c3079f4fa86ee78e3a9
"
openstack%2Fcinder~stable%2Ftrain~Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,openstack/cinder,stable/train,bug/1869746,Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,Fix cross-project incremental backups,MERGED,2020-07-02 22:41:35.000000000,2020-07-06 20:52:42.000000000,2020-07-06 20:50:26.000000000,45,25,0,739154,f3cdc27563766b2f49a1d88500f32c8d86838c96,37,19,1,8,14567,Rodrigo Barbieri,ganso,"Fix cross-project incremental backups

This patch addresses the scenario where an
incremental backup can be created having a
parent backup that was taken in a different
project. This scenario ultimately leads to
a silent error when creating/deleting the
incremental backup and quotas going out of
sync.

The proposed fix is to narrow the backup search
down to the same project. To achieve this, a
method's signature had to be updated to achieve
the desired optimized behavior of passing the
volume's project_id parameter.

Closes-bug: #1869746
Closes-bug: #1873518

conflicts:
    cinder/tests/unit/backup/test_backup.py

Test test_create_backup_failed_with_empty_backup_objects
required a mock for
test_create_backup_failed_with_empty_backup_objects
which had been removed in ussuri, as part of commit
f0211b53b82cde96eb39e9914c3e5fae232db07c. That
commit removed code and leftover the mock, which I
had removed in the change this patch was
cherry-picked from, as it was unnecessary.

The removed code section of cinder/backup/api.py
from commit f0211b53b82cde96eb39e9914c3e5fae232db07c
does not impact the functionality of this change at all.

Change-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149
(cherry picked from commit 8ebeafcbbafb700052f3abfc1f7ba004269a92e8)
(cherry picked from commit 5358c996b40bbb0fd749ec182ff3ef67f5d71c16)
"
openstack%2Fcinder~stable%2Fstein~I8cb7b1eccbc63ef4077e86324afdd1a11409343d,openstack/cinder,stable/stein,bug/1783588-stable/stein,I8cb7b1eccbc63ef4077e86324afdd1a11409343d,SF: Handle qos values on extend volume,MERGED,2020-05-07 23:20:00.000000000,2020-07-06 20:52:25.000000000,2020-07-06 20:50:29.000000000,95,9,0,726262,6bcb6fea741267b72175e5936c6f6a656fb2fffc,63,19,2,3,30555,Fernando Ferraz,fernandoperches,"SF: Handle qos values on extend volume

For the Solidfire cinder driver when volume extend is called on a volume
that has a qos with scaledIOPs=True, the values scaleMin, scaleMax,
scaleBurst are ignored, thus when a volume grows the iops values stay
the same when they should either grow or shrink.

To correct the bug _retrieve_qos_setting has a new argument size with a
default value of zero. This allows all previous calls to function
properly, and saved duplicating code.

Extend volume now calls _retrive_qos_settings with the new size argument
and then includes that qos with the call to solidfire api  ModifyVolume.

Closes-Bug: #1783588
Change-Id: I8cb7b1eccbc63ef4077e86324afdd1a11409343d
(cherry picked from commit 12a7bf699df1558f081513b1686d9c389bd3b812)
"
openstack%2Fdevstack~master~Ia4b4350c287c81313d83193625a9b2bbc6235b4d,openstack/devstack,master,,Ia4b4350c287c81313d83193625a9b2bbc6235b4d,lib/apache: fix uWSGI installation from source,NEW,2020-07-06 17:47:23.000000000,2020-07-06 20:47:27.000000000,,2,2,0,739561,ee78232ed913792f8b5862f682990108674402c4,5,3,1,1,9061,David Moreau Simard,dmsimard,"lib/apache: fix uWSGI installation from source

The source archive has capital letters (i.e, uWSGI-2.0.19.1.tar.gz) so
doing a ""ls uwsgi*"" will not work unless we match the capitalization.

In addition, the archive extracts to the current working directory, not
under uWSGI* and so fix the apache2 directory accordingly.

Change-Id: Ia4b4350c287c81313d83193625a9b2bbc6235b4d
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I593f193f98112dbf1d493ffd22040837597db11c,openstack/tripleo-ansible,stable/ussuri,class,I593f193f98112dbf1d493ffd22040837597db11c,Create tripleo base strategy class,MERGED,2020-07-06 14:41:17.000000000,2020-07-06 20:32:46.000000000,2020-07-06 20:32:46.000000000,179,207,0,739506,b11fec97bc04c698dd19458382349c7bc3866e1e,7,4,1,3,3153,Emilien Macchi,emilienm,"Create tripleo base strategy class

In order to allow us to share some logic between the linear and free
strategies, we need to create a base strategy to use for our shared
logic.

Change-Id: I593f193f98112dbf1d493ffd22040837597db11c
(cherry picked from commit e52089e8dfceba7bff81a8acc96b73d6e6ec3983)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I8539a6ad747a3923256f8c14c0a140e7670cc135,openstack/tripleo-ansible,stable/ussuri,linear,I8539a6ad747a3923256f8c14c0a140e7670cc135,Add tripleo linear strategy,MERGED,2020-07-06 14:40:57.000000000,2020-07-06 20:32:45.000000000,2020-07-06 20:32:45.000000000,466,0,0,739505,88082db75ea29fe7486fa4fe2d3d2e0d47156b7f,7,4,1,1,3153,Emilien Macchi,emilienm,"Add tripleo linear strategy

Change-Id: I8539a6ad747a3923256f8c14c0a140e7670cc135
(cherry picked from commit 09da864f8c11184e5dc537d838109a2794cc4048)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Iaa1278763d56429b2886371a18477e1f54680e19,openstack/tripleo-ansible,stable/ussuri,runonce,Iaa1278763d56429b2886371a18477e1f54680e19,Implement run_once,MERGED,2020-07-06 14:40:03.000000000,2020-07-06 20:28:48.000000000,2020-07-06 20:28:48.000000000,21,3,0,739504,d25145163714be92ad1ac20f426bd98e420443cd,7,4,1,1,3153,Emilien Macchi,emilienm,"Implement run_once

Prior to this patch, run_once was basically ignored. This patch adds
tracking on tasks that are tagged with run_once and will only allow it
to be invoked once. This means if the run_once task fails, all the other
hosts will continue to process their tasks like nothing happened. The
play itself will exit if the run_once task fails at the end. For tripleo
this means that run_once should not be used for any required tasks
within a play but can be used to make sure a task will only run once
time for a given play.

Change-Id: Iaa1278763d56429b2886371a18477e1f54680e19
(cherry picked from commit 894a853a5ef0af869624376a04a8f12dfe5c801c)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Id921ed48a948211b9a90def4a4667d015ec11d2f,openstack/tripleo-ansible,stable/ussuri,strategy-improvements-stable/ussuri,Id921ed48a948211b9a90def4a4667d015ec11d2f,Implement a tripleo free strategy,MERGED,2020-07-06 14:39:20.000000000,2020-07-06 20:28:47.000000000,2020-07-06 20:28:47.000000000,411,0,0,739503,375f831b9d048abd2e96d4b255325faff4d3107c,7,4,1,1,3153,Emilien Macchi,emilienm,"Implement a tripleo free strategy

This strategy is to be used for the execution of deployment steps so
that tasks run on all hosts (up to # of workers) freely without locking
at each task.  This is closer to what we had when Heat drove the
deployments as each of the software deployments would execute
simultaneously on all nodes at the same time.

This strategy does two important things for us:

  1) Hosts execute their tasks freely with no dependencies on the other
     hosts that are running the same tasks
  2) Failures on any given host will not stop future tasks from
     executing on other hosts, but will cause the overall playbook
     execution to stop at the end of the ""PLAY"".

These specific things are how the previous deployment executed when Heat
was the driver of deployment actions. The nodes would fetch their list
of actions, execute and report back to status. Heat would fail the
deployment if any of the hosts failed to execute their work however a
failure on one host did not impact the other hosts.  The TripleO
deployment framework already has the step concept in itself to allow
for the individual steps (1 through 5) to execute in a parallael on all
hosts at the same time. At the end of the ""PLAY"", ansible waits for all
nodes to complete before proceeding on to the next ""PLAY"". So Step 1 is
a ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any
host, we would not proceed to the Step 2 play.

Change-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f
(cherry picked from commit f873e31f5874ea0dad6997ee2f9c8186f3d1058d)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I24b118220ce2371f651cad6b8dfbbf5d031ee118,openstack/tripleo-ansible,stable/ussuri,bug/1883609-stable/ussuri,I24b118220ce2371f651cad6b8dfbbf5d031ee118,Fix tripleo_hierdata permissions,MERGED,2020-07-06 14:15:52.000000000,2020-07-06 20:28:46.000000000,2020-07-06 20:28:46.000000000,5,0,0,739500,a7f9c2c0a37fe0b490a569108016d6cbb68521e7,7,4,1,3,3153,Emilien Macchi,emilienm,"Fix tripleo_hierdata permissions

Add become: true to the tasks that need to be able to write to /etc/

Change-Id: I24b118220ce2371f651cad6b8dfbbf5d031ee118
Related-Bug: #1883609
(cherry picked from commit c8d8e9adaf62f1b3e6a274fbb5ec17dae4dc8449)
"
openstack%2Freleases~master~I2c26f2d00df09db529bd5385b7741bc57a17b54f,openstack/releases,master,train-stable,I2c26f2d00df09db529bd5385b7741bc57a17b54f,Release blazar for stable/train,ABANDONED,2020-06-10 20:55:24.000000000,2020-07-06 20:17:24.000000000,,4,0,0,734921,45c9aa4512d24cd1fa7e90677c3b94f7b23722e2,5,2,1,1,11904,Sean McGinnis,SeanM,"Release blazar for stable/train

This release picks up new commits to blazar since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Change-Id: I2c26f2d00df09db529bd5385b7741bc57a17b54f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fopenstack-helm-infra~master~Ic1df870165463cb3f62da779a160886f55cd96b5,openstack/openstack-helm-infra,master,,Ic1df870165463cb3f62da779a160886f55cd96b5,Switch from octal to decimal value in toolkit,ABANDONED,2020-06-27 05:43:13.000000000,2020-07-06 20:11:16.000000000,,4,1,0,738301,8fa6ad0475462486577e7a9b502ebd719e8a8b87,9,5,4,2,8863,Andrii Ostapenko,aostapenko,"Switch from octal to decimal value in toolkit

Also ensure osh-infra is a required project for lint job, that matters
when running job against another project.

Change-Id: Ic1df870165463cb3f62da779a160886f55cd96b5
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fopenstacksdk~master~I9917b10292d191710b37838b3cf099d75139f123,openstack/openstacksdk,master,osc-performance,I9917b10292d191710b37838b3cf099d75139f123,switch to importlib.metadata for entrypoint loading,MERGED,2020-07-04 18:28:17.000000000,2020-07-06 20:10:54.000000000,2020-07-06 20:07:31.000000000,17,5,3,739328,77e2f67d3856153f875552f84f0a3565f557f2c3,20,4,5,3,2472,Doug Hellmann,doug-hellmann,"switch to importlib.metadata for entrypoint loading

Importing pkg_resources scans every installed distribution to find
all of the entry points. importlib.metadata can import entry points
without scanning all of the installed packages.

Change-Id: I9917b10292d191710b37838b3cf099d75139f123
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~I969d901be4eeb93e0abe4e8b06f6c54399b52ea2,openstack/tripleo-upgrade,stable/ussuri,sriov_workload-stable/ussuri,I969d901be4eeb93e0abe4e8b06f6c54399b52ea2,Workload during updates can be launched with SRIOV ports,MERGED,2020-06-19 11:32:10.000000000,2020-07-06 19:52:43.000000000,2020-07-06 19:52:43.000000000,295,177,0,736978,b9023c58578890638e7a2923d429cc24407eb3f2,11,4,3,9,11090,Sergii Golovatiuk,holser,"Workload during updates can be launched with SRIOV ports

When upgrade-workloadsriov is set, workload is generated with an SRIOV
PF port on the existing external network
A mechanism has been added to remove workload previously created after
update/upgrade is completed, when upgrade-workloadcleanup is set

Change-Id: I969d901be4eeb93e0abe4e8b06f6c54399b52ea2
(cherry picked from commit 85c12706d145162d85c2c519e01e35393364d4c8)
"
openstack%2Fnova~stable%2Fussuri~I12a5d28d75bc32a76a4f3765cb4db4cbc46c0c75,openstack/nova,stable/ussuri,bug/1882919,I12a5d28d75bc32a76a4f3765cb4db4cbc46c0c75,libvirt: Mark e1000e VIF as supported,MERGED,2020-06-19 08:45:01.000000000,2020-07-06 19:47:55.000000000,2020-07-06 17:50:18.000000000,11,0,0,736957,840de3b8924612fa3fc47a4c9032a4723d536613,40,9,3,3,15334,Stephen Finucane,sfinucan,"libvirt: Mark e1000e VIF as supported

This is supported by the QEMU/KVM backends in libvirt. There's no reason
not to support it in nova. This appears to have been an oversight.

Change-Id: I12a5d28d75bc32a76a4f3765cb4db4cbc46c0c75
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1882919
(cherry picked from commit 644cb5cb8bf44184d9b3f046cc67746b13550dd6)
"
openstack%2Fgovernance~master~I9beee84153847c36748b0bb47fe0ba519c72cf0f,openstack/governance,master,formal-vote,I9beee84153847c36748b0bb47fe0ba519c72cf0f,"Add ""tc:approved-release"" tag to manila",MERGED,2020-06-25 20:35:23.000000000,2020-07-06 19:37:31.000000000,2020-07-06 19:35:25.000000000,1,0,0,738105,031afca18e273a4ccf90867b1c64cbb67db12277,26,15,1,1,16643,Goutham Pacha Ravi,gouthamr,"Add ""tc:approved-release"" tag to manila

OpenStack Manila (Shared File Systems as a service)
has been a project under the OpenStack governance
since the Kilo release. The project follows all the
guidelines set forth by the OpenStack Technical
Committee with regard to project structure, development
and releases. It has been increasingly useful in
production OpenStack deployments for a number of
years now.

The ""tc:approved-release"" tag was introduced in
OpenStack to denote a subset of the projects in the
OpenStack governance that could be used in as
candidates for trademark use under the OpenStack
Foundation trademark policy [1]. At the time that
the tag was introduced, all graduated projects
were added to this list [2]. Manila was not yet
considered a graduated project before the incubation
system of yore gave way to the ""big tent"" model.

This commit formally requests the ""tc:approved-release""
be added to manila, considering the steady growth of the
project, its growing user base, and its consistent
adherence to the TC guidelines.

[1] https://opendev.org/openstack/governance/blame/commit/fb341fe0d9a10acb7662ea507b8b69483e08d21b/reference/tags/tc_approved-release.rst#L17-L19
[2] https://review.opendev.org/198295/

Change-Id: I9beee84153847c36748b0bb47fe0ba519c72cf0f
"
openstack%2Fironic~stable%2Ftrain~I62b2d32c545b6ad6487aead98c8fab212ed5e83f,openstack/ironic,stable/train,trait-errormsg-stable/train,I62b2d32c545b6ad6487aead98c8fab212ed5e83f,Fix the error message when reached max number of traits,MERGED,2020-07-06 12:37:48.000000000,2020-07-06 19:25:14.000000000,2020-07-06 17:03:53.000000000,6,6,0,739478,a436d666da403d75a6fc651c1e53010b4f84244a,9,5,1,1,10239,Dmitry Tantsur,dtantsur,"Fix the error message when reached max number of traits

The error message is not properly tranlated as desired, raw string
is returned when reached maximum number of traits.

Change-Id: I62b2d32c545b6ad6487aead98c8fab212ed5e83f
(cherry picked from commit d90459a87fce4a84d34bdf24604de3edfb23dda7)
"
openstack%2Fkolla-ansible~master~I80864f82a74d3c6ffb12816685ccb65e66f89fe0,openstack/kolla-ansible,master,,I80864f82a74d3c6ffb12816685ccb65e66f89fe0,Add support for encrypting etcd traffic,ABANDONED,2020-06-17 23:08:40.000000000,2020-07-06 19:24:53.000000000,,87,14,1,736400,40863c8b98070819440d626025feac8655436ae7,7,3,1,9,30810,James Kirsch,generalfuzz,"Add support for encrypting etcd traffic

This patch fixes the deployment of the etcd service when backend
encryption is enabled. It also fixes the configuration for other
services that use etcd when backend encryption is enabled.

Change-Id: I80864f82a74d3c6ffb12816685ccb65e66f89fe0
Partially-Implements: blueprint add-ssl-internal-network
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be,openstack/tripleo-ansible,stable/ussuri,container-not-running-stable/ussuri,Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be,Fix missing requirements for tests,MERGED,2020-07-06 14:16:34.000000000,2020-07-06 19:19:47.000000000,2020-07-06 19:16:10.000000000,2,0,0,739501,b93a1c61a6d7a1e9e9c380afe2df927e89490c8c,7,3,1,1,3153,Emilien Macchi,emilienm,"Fix missing requirements for tests

We added heatclient and metalsmith requirements as part of our modules
so we need to make sure to properly capture them.

Change-Id: Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be
(cherry picked from commit cdb59feb206cf0ff3e079695c23ecfdb07271e25)
"
openstack%2Fansible-role-redhat-subscription~master~Ibc7c05260f01adf520f5d18f3ea8e23e266e4f6d,openstack/ansible-role-redhat-subscription,master,bz/1853374,Ibc7c05260f01adf520f5d18f3ea8e23e266e4f6d,Adjustments to detect Satellite version/mode,MERGED,2020-07-02 15:50:16.000000000,2020-07-06 19:18:44.000000000,2020-07-06 19:18:44.000000000,10,2,2,739080,bcda84e1c41a119775f4e85c630dad060f82e0fa,13,3,2,3,3153,Emilien Macchi,emilienm,"Adjustments to detect Satellite version/mode

1) Fail if we couldn't figure out what version of Satellite is running.
   Otherwise we end up including a playbook that doesn't exist and the
   error is misleading.

2) Change the Satellite 6 version check, to use /pulp/api/v2/status
   instead of /katello/api/ping; which seems to work better when a
   Capsule is used. This URL should work for both Satellite 6 and
   Capsule.

3) Document that rhsm_rhsm_port needs to be changed to 8443 if a capsule
   is used.

Change-Id: Ibc7c05260f01adf520f5d18f3ea8e23e266e4f6d
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Iaa39aa301be182722e0650583d1ad17c0e8dc82b,openstack/tripleo-ansible,stable/ussuri,bug/1883609-stable/ussuri,Iaa39aa301be182722e0650583d1ad17c0e8dc82b,Fix host entries permissions,MERGED,2020-07-06 14:15:27.000000000,2020-07-06 19:16:09.000000000,2020-07-06 19:16:09.000000000,1,0,0,739498,b2ea17cc8ae9ab905993763a49fb9b152af71986,7,4,1,1,3153,Emilien Macchi,emilienm,"Fix host entries permissions

The cleanup tasks needs become: true because it was created with root.

Change-Id: Iaa39aa301be182722e0650583d1ad17c0e8dc82b
Related-Bug: #1883609
(cherry picked from commit 746bd9a52b2a4288af705f161ec41736a4e3b5e3)
"
openstack%2Fcliff~master~Ib7bf53091470b55ab87082d315ca283d3600a636,openstack/cliff,master,osc-performance,Ib7bf53091470b55ab87082d315ca283d3600a636,switch to stevedore for loading entry points,MERGED,2020-07-04 18:44:49.000000000,2020-07-06 19:11:59.000000000,2020-07-06 19:09:46.000000000,24,24,0,739329,6ac510d0cd25c8c3c76d56dd8e100ca2a6f8b962,17,4,5,5,2472,Doug Hellmann,doug-hellmann,"switch to stevedore for loading entry points

Switch to using stevedore now so that when the cache implementation is
released all cliff applications can take advantage of the performance
benefits.

Change-Id: Ib7bf53091470b55ab87082d315ca283d3600a636
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fdiskimage-builder~master~If3e8d8ac29a728aa41562b31976ebe9bfa5df66f,openstack/diskimage-builder,master,reno-openstackdocstheme,If3e8d8ac29a728aa41562b31976ebe9bfa5df66f,Switch to newer openstackdocstheme and reno versions,MERGED,2020-06-02 08:10:18.000000000,2020-07-06 18:58:12.000000000,2020-07-06 18:52:41.000000000,13,14,7,732490,abba0b5574bce7ac0069ba1696e8bb03ae1984c5,29,7,6,3,17130,melissaml,malei,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: If3e8d8ac29a728aa41562b31976ebe9bfa5df66f
"
openstack%2Fdiskimage-builder~master~Id954ffe4d9b019c7e7bb648725ff7f976c929b4d,openstack/diskimage-builder,master,gentoo-add-musl-support,Id954ffe4d9b019c7e7bb648725ff7f976c929b4d,add musl profile to gentoo,MERGED,2020-06-22 23:38:47.000000000,2020-07-06 18:54:57.000000000,2020-07-06 18:52:39.000000000,12,11,0,737394,64787d8ec25d7664ff816bc8fa739eda700162c6,13,7,1,4,14288,Matthew Thode,prometheanfire,"add musl profile to gentoo

Change-Id: Id954ffe4d9b019c7e7bb648725ff7f976c929b4d
"
openstack%2Ftripleo-ansible~master~Id921ed48a948211b9a90def4a4667d015ec11d2f,openstack/tripleo-ansible,master,strategy-improvements,Id921ed48a948211b9a90def4a4667d015ec11d2f,Implement a tripleo free strategy,MERGED,2020-04-30 19:09:09.000000000,2020-07-06 18:53:30.000000000,2020-06-01 05:27:58.000000000,411,0,25,724731,f873e31f5874ea0dad6997ee2f9c8186f3d1058d,72,11,17,1,14985,Alex Schultz,mwhahaha,"Implement a tripleo free strategy

This strategy is to be used for the execution of deployment steps so
that tasks run on all hosts (up to # of workers) freely without locking
at each task.  This is closer to what we had when Heat drove the
deployments as each of the software deployments would execute
simultaneously on all nodes at the same time.

This strategy does two important things for us:

  1) Hosts execute their tasks freely with no dependencies on the other
     hosts that are running the same tasks
  2) Failures on any given host will not stop future tasks from
     executing on other hosts, but will cause the overall playbook
     execution to stop at the end of the ""PLAY"".

These specific things are how the previous deployment executed when Heat
was the driver of deployment actions. The nodes would fetch their list
of actions, execute and report back to status. Heat would fail the
deployment if any of the hosts failed to execute their work however a
failure on one host did not impact the other hosts.  The TripleO
deployment framework already has the step concept in itself to allow
for the individual steps (1 through 5) to execute in a parallael on all
hosts at the same time. At the end of the ""PLAY"", ansible waits for all
nodes to complete before proceeding on to the next ""PLAY"". So Step 1 is
a ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any
host, we would not proceed to the Step 2 play.

Change-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f
"
openstack%2Fpython-manilaclient~master~I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5,openstack/python-manilaclient,master,bp/openstack-client-support,I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5,Add initial documentation for OSC,MERGED,2020-02-04 21:02:42.000000000,2020-07-06 18:51:21.000000000,2020-07-06 18:49:20.000000000,144,1,9,705834,8b74211d768befdcd3a5be1e6b22036a71f080ca,45,5,14,5,31213,Maari Tamm,maaritamm,"Add initial documentation for OSC

This patch creates initial documentation for OSC, with
general plugin information and a few examples.
New commands, that are implemented, should be then
referenced in doc/source/cli/osc/v2/index.rst

Change-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5
Partially-implements: bp openstack-client-support
"
openstack%2Ftripleo-common~master~Iff8eec43bd73bc6486f56e741e740869d1b8acbb,openstack/tripleo-common,master,callback-improvements,Iff8eec43bd73bc6486f56e741e740869d1b8acbb,Switch to tripleo_dense,MERGED,2020-05-08 22:00:02.000000000,2020-07-06 18:43:29.000000000,2020-05-30 09:17:23.000000000,7,5,0,726480,0186702a41c8a917013931a4dd2a1164777380fb,28,7,1,2,14985,Alex Schultz,mwhahaha,"Switch to tripleo_dense

Change-Id: Iff8eec43bd73bc6486f56e741e740869d1b8acbb
Depends-On: https://review.opendev.org/#/c/726479/
"
openstack%2Fdevstack~master~Iafff097eee082f24ea2ae27ad038ad115aa36c61,openstack/devstack,master,drop-keystone-ports,Iafff097eee082f24ea2ae27ad038ad115aa36c61,Drop keystone dedicated ports,MERGED,2020-06-13 09:42:42.000000000,2020-07-06 18:42:30.000000000,2020-06-29 18:24:40.000000000,12,137,2,735420,f6286cb586eb1f861866bfdf85c4f873c79fd592,17,6,3,6,13252,Dr. Jens Harbott,jrosenboom,"Drop keystone dedicated ports

Those historic references to port 5000 and 35357 aren't being used
anymore for some time, so let us drop them.

Clean up some python2/3 wording along the way.

No longer mention Identity API v2, which is also a thing of the past.

Change-Id: Iafff097eee082f24ea2ae27ad038ad115aa36c61
"
